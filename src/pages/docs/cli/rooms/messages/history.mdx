---
title: "ably rooms messages history"
meta_description: "Get historical messages from an Ably Chat room using the CLI."
meta_keywords: "ably cli, cli, command, message history, chat history, chat rooms, historical data"
---

<Code>
```shell
ably rooms messages history <room> [flags]
```
</Code>

Use the `ably rooms messages history` command to get historical messages from an Ably Chat room.

Chat messages are stored for 30 days by default.

<Aside data-type="note">
You can use the [`ably rooms messages publish`](/docs/cli/rooms/messages/publish) command to publish some messages to retrieve from history.
</Aside>

## Arguments

Pass the following argument to the `ably rooms messages history` command:

### `<room>` <a id="room"/>

The room to get message history from, for example: `example-room`.

## Flags

You can optionally pass the following flags to the `ably rooms messages history` command:

### `--limit | -l` <a id="limit"/>

Maximum number of messages to retrieve. The default is `20`. Maximum allowed is `1000`.

### `--show-metadata` <a id="show-metadata"/>

Display message metadata if available. Set to `true` to show metadata. The default is `false`.

## Global flags

The following global flags are supported using the `ably rooms messages history` command:

* [`--token`](/docs/cli#token)
* [`--json`](/docs/cli#json)
* [`--pretty-json`](/docs/cli#pretty-json)
* [`--api-key`](/docs/cli#api-key)
* [`--access-token`](/docs/cli#access-token)
* [`--client-id`](/docs/cli#client-id)
* [`--env`](/docs/cli#env)
* [`--host`](/docs/cli#host)
* [`--endpoint`](/docs/cli#endpoint)
* [`--verbose`](/docs/cli#verbose)

## Output

Each message in the history includes:

| Property | Description |
| -------- | ----------- |
| Timestamp | When the message was published in ISO 8601 format. |
| Client ID | The client ID of the message sender. |
| Message Content | The text content of the message. |
| Metadata | Additional metadata if available and `--show-metadata` is passed. |

## Examples

### Get recent message history

Get the last 10 messages from a chat room:

<Code>
```shell
ably rooms messages history example-room --limit 10
```
</Code>

**Output:**
<Code>
```text
Using: App=example-app (Ab1CdE) â€¢ Key=example-key (Ab1CdE.FgHiJk)

Fetching 10 most recent messages from room: example-room
Retrieved 1 messages.
---
[10:25:03 AM] ably-cli-abc123: Hello from the CLI
```
</Code>

### Get history with metadata

Get message history including any metadata:

<Code>
```shell
ably rooms messages history example-room --show-metadata
```
</Code>

### Get all available history

Retrieve the restricted number of messages:

<Code>
```shell
ably rooms messages history example-room --limit 5
```
</Code>
