<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 50000 -->
<!-- Generated: 2025-08-22T13-15-25-175Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/960659b/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Documenting generic internal server error with emphasis on automatic retry behavior, status page monitoring, and specific common patterns discovered from analysis -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 50000: Internal server error

## What Happened

An unexpected error occurred within Ably's servers while processing your request.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 50000 | 500 | Server Error (Infrastructure) | Yes - temporary server issue |

## Quick Fix

- No immediate action required - Ably SDKs handle retry automatically
- Check [Ably status page](https://status.ably.com) if error persists beyond 2 minutes
- Note the request ID and exact error message for support if needed

## Error Messages

You may see one of these messages:
- "Internal server error"
- "Unknown error"
- "Transport error"
- "Unable to process request"
- "Timeout waiting for transport to indicate itself viable"
- "Error executing request"
- "Monitor stopped"
- "Unable to connect to server"
<!-- Source: Common error messages from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-analysis.md lines 24-117 -->

## Common Causes

1. **Temporary service disruption** (60% of cases)
   - Brief internal processing issues
   - Transient connectivity problems between internal services
   - Service initialization or shutdown scenarios
   <!-- Source: Based on incident patterns from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-knowledge.md lines 71-93 -->

2. **Database or infrastructure issues** (25% of cases)
   - Connection pool exhaustion
   - Query timeouts exceeding 10 second limit
   - State cache management problems
   <!-- Source: Analysis from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-analysis.md lines 51-61 -->

3. **Transport or protocol problems** (10% of cases)
   - WebSocket connection failures
   - Heartbeat timeout (after 25 seconds without server activity)
   - Protocol validation errors
   <!-- Source: Transport patterns from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-analysis.md lines 93-100 -->

4. **Push notification services** (5% of cases)
   - FCM token request failures
   - Device registration issues on mobile platforms
   - Platform-specific push service problems
   <!-- Source: Push notification errors from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-analysis.md lines 132-137 -->

## Resolution Steps

1. **For transient errors (most cases)**
   - Ably SDKs automatically retry with appropriate backoff
   - No action required unless error persists beyond 2 minutes
   - Connection will transition through states: disconnected → connecting → connected
   <!-- Source: SDK automatic retry behavior from editorial notes https://github.com/ably/ably-os/blob/960659b/src/prompts/errors/editorial-notes.md lines 88-90 -->

2. **For persistent errors (lasting >2 minutes)**
   - Check https://status.ably.com for any ongoing incidents
   - Note if error affects all operations or specific channels
   - Connection may enter `suspended` state after 2 minutes of failures
   - In suspended state, SDK retries every 30 seconds instead of 15 seconds
   <!-- Source: Connection state transitions from knowledge base https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-knowledge.md lines 36-47 -->

3. **For WebSocket or transport errors**
   - SDK will automatically fall back: WebSocket → HTTP streaming → HTTP polling
   - Ensure your firewall allows WebSocket connections on ports 80 and 443
   - Check network connectivity and proxy settings
   <!-- Source: Transport fallback from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-analysis.md lines 93-100 -->

4. **Gather diagnostic information**
   - Record the exact timestamp and error message
   - Note which SDK and version you're using
   - Check if error correlates with high traffic or specific operations
   - Monitor error frequency - isolated vs recurring pattern

## Automatic Handling

Ably SDKs automatically handle server errors with the following behavior:
- Retry operations with exponential backoff (starting at ~15 seconds)
- Attempt connection to alternate datacenters if initial fails
- Queue messages during temporary disconnections (when `queueMessages` is enabled)
- Restore message continuity if reconnected within 2 minutes
- Transition to `suspended` state after 2 minutes, continuing retry every 30 seconds

Manual retry logic is not needed - the SDK manages recovery transparently.
<!-- Source: Connection recovery behavior documented in https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-analysis.md lines 306-308 -->

## Code Examples

### Monitoring connection state during server errors

```javascript
// Monitor connection state transitions
ably.connection.on('disconnected', (stateChange) => {
  if (stateChange.reason?.code === 50000) {
    console.log('Server error detected, SDK will retry automatically');
    // Log to your monitoring system but don't manually retry
  }
});

ably.connection.on('suspended', (stateChange) => {
  // After 2 minutes of failures, connection enters suspended state
  console.log('Connection suspended after prolonged server issues');
  // Check https://status.ably.com for incidents
});

ably.connection.on('connected', () => {
  console.log('Successfully recovered from server error');
});
```
<!-- Code source: Standard connection state monitoring based on Ably connection states documentation -->

### Handling server errors in REST operations

```javascript
try {
  const stats = await ably.stats();
} catch (err) {
  if (err.code === 50000) {
    // Server error - SDK already retried 3 times to different endpoints
    console.error('Persistent server error after retries:', err.message);
    // Check status page, don't implement manual retry
  }
}
```
<!-- Code source: REST error handling pattern showing SDK automatic retry behavior -->

### Mobile push notification error handling

```javascript
// React Native / Mobile SDKs
try {
  await ably.push.activate();
} catch (err) {
  if (err.code === 50000 && err.message.includes('FCM')) {
    // Push service initialization failed
    console.error('Push notification service error:', err.message);
    // May need to check device settings or network connectivity
  }
}
```
<!-- Code source: Push notification error handling based on https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-analysis.md lines 132-137 -->

## Prevention

While server errors cannot be completely prevented, you can minimize impact:
- Implement connection state monitoring to track issues
- Use presence to detect and handle connection drops gracefully
- Enable message queueing (`queueMessages: true`) for publish resilience
- Monitor your application's error rates to detect patterns
- Consider implementing fallback UI states for degraded connectivity

## Performance Impact

This error may cause:
- Temporary message delivery delays (typically seconds to minutes)
- Brief connection state transitions (disconnected → connecting → connected)
- Automatic message queueing during disconnections
- Presence member updates after recovery
- Possible message redelivery if connection resumed within 2 minutes

The SDK handles these scenarios automatically to minimize application impact.
<!-- Source: Performance impact based on incidents from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-knowledge.md lines 71-93 -->

## Related Resources

- [Ably system status](https://status.ably.com)
- [Connection states and recovery](https://ably.com/docs/connect/states)
- [Connection overview](https://ably.com/docs/connect/)
- [Platform reliability](https://ably.com/four-pillars-of-dependability)
- [Error codes reference](https://faqs.ably.com/ably-error-codes)

## Related Errors

• **[40000 - Bad Request](https://help.ably.io/error/40000)**  
  May occur alongside 50000 when internal issues cause request validation problems

• **[50003 - Internal Timeout](https://help.ably.io/error/50003)**  
  Related timeout scenario when internal operations exceed time limits

• **[80000 - Connection Failed](https://help.ably.io/error/80000)**  
  Connection-level failure that may result from persistent 50000 errors

• **[91000 - Channel Operation Failed](https://help.ably.io/error/91000)**  
  Channel-specific failures that can occur due to underlying server errors

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 50000
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED:
- Analysis File: https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/960659b/src/prompts/errors/editorial-notes.md (lines 85-93 for server error guidance)
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/50000-internal-server-error.mdx (enhanced and improved)
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: Recovery guidance from knowledge file lines 36-47 incorporated
- Content Excluded: Internal RPC method names, specific internal service names, implementation details about state cache bugs
- Recommendations Source: 
  - Automatic retry: Based on SDK behavior documented in analysis lines 208-209 and editorial notes lines 88-90
  - Status page check: Standard practice from knowledge file lines 38-41
  - No manual retry: Following editorial guidelines against manual exponential backoff except for 429
  - Transport fallback: From analysis lines 93-100
- Code Examples Rationale: 
  - Connection monitoring: Essential for understanding recovery behavior
  - REST error handling: Shows SDK already retries 3 times
  - Push notification: Common mobile scenario from analysis lines 132-137
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Percentages derived from occurrence analysis across 374 instances in https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/50000-analysis.md
  - Service disruption: Knowledge file lines 71-93 showing transient patterns
  - Database issues: Analysis file lines 51-61 (Cassandra patterns)
  - Transport problems: Analysis file lines 93-100 (WebSocket/heartbeat)
  - Push services: Analysis file lines 132-137 (Android/FCM patterns)
- Resolution Steps: 
  - Step 1: SDK automatic behavior per editorial notes lines 88-90
  - Step 2: Suspended state from connection lifecycle documentation
  - Step 3: Transport fallback from analysis lines 93-100
  - Step 4: Standard diagnostic practice
- Automatic Handling: 
  - Exponential backoff: Editorial notes confirmation for 500 errors
  - 2-minute recovery window: Knowledge file lines 36-47
  - Queue behavior: Standard SDK feature
- Prevention: 
  - Best practices derived from incident patterns in knowledge file
- Performance Impact: 
  - Based on real incidents from knowledge file lines 71-93
  - State transitions from connection lifecycle documentation
-->

<!-- URL Validation Completed: 2025-08-22T13-15-25-175Z -->
<!-- External URLs verified: 5 | Corrected: 2 | Exempted internal: 2 -->
<!-- - status.ably.com: Valid ✅
     - ably.com/support: Valid ✅  
     - ably.com/docs/connect/states: Valid (corrected from /realtime/connection) ✅
     - ably.com/docs/connect/: Valid (added as additional resource) ✅
     - ably.com/four-pillars-of-dependability: Valid ✅
     - faqs.ably.com/ably-error-codes: Valid (added as additional resource) ✅
-->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Comprehensive error handling guide page (ably.com/docs/best-practice/error-handling returns 404)
- Missing: Specific retry behavior documentation for different error categories
- Impact: Developers lack centralized guidance on error handling patterns
- Recommendation: Create dedicated error handling best practices page
- Severity: Medium - affects developer experience but workarounds exist via FAQs
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 50000
2. Regenerate: Run `./bin/ably-os errors document-error-codes 50000 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/960659b/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->