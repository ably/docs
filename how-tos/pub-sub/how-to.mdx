import { CodeBlock } from 'src/components/Markdown';

# How-to: publish and subscribe to channels

Interactive how-tos let you get hands on with Ably features.

This how-to steps through publishing and subscribing to channels using the example of sports scores. You will publish basketball and football scores on a loop and subscribe two clients to the results.

## What is pub/sub?

Publish-subscribe (pub/sub) is an architectural pattern that enables any number of publishers to send messages to a channel, and any number of channel subscribers to receive them. Publishers and subscribers are entirely decoupled from one another.

## What are channels?

Channels are used to organize messages into different topics. They are flexible building blocks that are used to represent 1:1 communication, a whole company group chat, sports match scores or an interactive whiteboard in an e-learning application.

## Files

The following files are used:

* **client.js** creates clients that subscribe to scores.
* **publisher.js** imitates a client to publish scores on a loop every X seconds.
* **scores.json** contains the sports scores that are looped through.

The server and clients are authenticated using basic authentication and a demo API key. You can use your own API key instead if you're signed into your Ably dashboard.

## Publish messages

The server does not need to subscribe to the scores, so it uses the REST interface to publish them.

In a real world scenario scores will be published as they happen by calling `publish()` as a point or goal is scored, or a match finishes. To imitate a real world scenario, scores are published on a loop at X second intervals.

Copy the following function to LXX of publisher.js to publish the sports scores:

<CodeBlock language="javascript">
await baseball.publish();
</CodeBlock>

## Subscribe to a channel

The clients will be subscribed in realtime to the scoreboard channels, so they use the realtime interface to receive updates. Subscribing to a channel registers a listener which is called each time a message is received.

Clicking the **Subscribe** button for basketball will subscribe the client to basketball scores. The football scores are published using two different message names to differentiate between leagues. Use the football **Subscribe** buttons to choose which league or leagues to subscribe to.

Copy the following function to LXX and LXX of client.js to enable the subscriptions for each football league. On LXX note that the basketball subscription does not specify a message name and therefore receives all messages published to that channel:

<CodeBlock language="javascript">
await channel.subscribe('greenLeague', (message) => \{ console.log(message.data) });
</CodeBlock>

## Unsubscribe from a channel

Click the **Unsubscribe** button to unsubscribe a client from that sport. They will stop receiving score updates for that sport once they are unsubscribed. This uses the `unsubscribe()` method.

## Further reading

The following reading explain the concepts of pub/sub and channels in more depth:

* The [channels](/channels) page has everything you need to know about channels, and [publishing](/channels#publish) and [subscribing](/channels#subscribe) to messages.
* Read [how to use Ably](/basics/use-ably) for further information on the REST and realtime interfaces.
* The API references for [`publish()`](/api/rest-sdk/channels#publish), [`subscribe()`](/api/realtime-sdk/channels#subscribe) and [`unsubscribe()`](api/realtime-sdk/channels#unsubscribe) explain how each method works.

Sign up for free to get started in your own Ably account. See which [platforms and languages](/getting-started/sdks) Ably supports and [get started](/getting-started/setup) on your own project by setting up an SDK.
