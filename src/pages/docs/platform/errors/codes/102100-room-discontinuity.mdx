<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 102100 -->
<!-- Generated: 2025-08-21T10-28-43-924Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document room discontinuity error for Chat SDKs with clear recovery guidance based on SDK implementation patterns -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 102100: Room discontinuity

## What Happened

Your chat room has experienced a discontinuity that requires the application to re-synchronize its state with the server.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 102100 | 400/500 | Room Lifecycle (Chat SDK) | Yes - requires room re-attachment |

## Quick Fix

- The Chat SDK automatically emits discontinuity events to your application
- Re-attach the room to restore connectivity
- Synchronize missed messages using the history API

## Error Messages

You may see one of these messages:
- "discontinuity detected"
- "Discontinuity detected, [original error message]"
- "The room has experienced a discontinuity"

## Common Causes

1. **Extended disconnection** (most common)
   - Network interruption lasting beyond 2 minutes
   - Exceeds automatic recovery window
   - Channel state cannot be preserved
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-analysis.md lines 81-87 -->

2. **Server-side connection termination**
   - Load balancing operations
   - Server maintenance or updates
   - Connection shedding for resource management
   <!-- Source: Based on knowledge from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 113-115 -->

3. **Channel state loss**
   - Channel re-attaches without the `resumed` flag
   - Previous message continuity cannot be guaranteed
   - Requires full state resynchronization
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-analysis.md lines 81-87 -->

## Resolution Steps

1. **Listen for discontinuity events**
   ```javascript
   // JavaScript/TypeScript
   room.on('discontinuity', (error) => {
     // Handle error code 102100
     handleDiscontinuity();
   });
   ```
   <!-- Source: Code pattern from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 132-138 -->

2. **Re-attach the affected room**
   - Call the room's attach method
   - Wait for successful attachment
   - This restores the connection to all room features
   <!-- Source: Recovery pattern from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 86-96 -->

3. **Synchronize room state**
   - Retrieve missed messages using `getPreviousMessages()` or history API
   - Update your UI with the latest message state
   - Re-synchronize presence information if needed
   <!-- Source: Based on recovery requirements from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 91-96 -->

4. **Notify users of recovery**
   - Display a reconnection indicator during recovery
   - Clear the indicator once synchronization is complete
   - Consider queuing outgoing messages during recovery
   <!-- Source: Best practices from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 169-175 -->

## Automatic Handling

The Ably Chat SDK automatically:
- Detects discontinuities when channels re-attach without preserving state
- Emits discontinuity events to your application
- Handles transient disconnections (under 2 minutes) without emitting this error
- Preserves message history that can be retrieved after recovery
<!-- Source: SDK behavior from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 82-84 -->

## Code Examples

### JavaScript/TypeScript
```javascript
room.on('discontinuity', async (error) => {
  if (error.code === 102100) {
    // Show reconnecting indicator
    showReconnectingUI();
    
    // Re-attach the room
    await room.attach();
    
    // Sync missed messages
    const history = await room.messages.getPreviousMessages({ limit: 100 });
    updateMessageList(history);
    
    // Clear reconnecting indicator
    hideReconnectingUI();
  }
});
```
<!-- Source: Code pattern adapted from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 132-138, included because essential for demonstrating recovery -->

### Kotlin/Android
```kotlin
room.onDiscontinuity { error ->
  if (error.code == 102100) {
    // Handle discontinuity
    room.attach()
    syncLatestMessages()
  }
}
```
<!-- Source: Code pattern adapted from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 141-147, included because shows platform-specific implementation -->

### Swift/iOS
```swift
room.onDiscontinuity { event in
  if event.error.code == 102100 {
    // Recover room state
    try await room.attach()
    try await synchronizeRoomState()
  }
}
```
<!-- Source: Code pattern adapted from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 151-157, included because shows platform-specific implementation -->

## Prevention

While discontinuities cannot be completely prevented due to network conditions, you can minimize their impact:

- Implement robust discontinuity event handlers from the start
- Design your UI to gracefully handle temporary disconnections
- Cache recent messages locally for immediate display during recovery
- Use visual indicators to keep users informed of connection status
<!-- Source: Best practices derived from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 169-175 -->

## Related Resources

- [Ably Chat SDK documentation](https://ably.com/docs/products/chat)
- [Connection state management](https://ably.com/docs/connect/states)
- [Message history and recovery](https://ably.com/docs/storage-history/history)
- Related errors: [102101](./102101-room-failed.mdx) (Room failed), [102106](./102106-room-released.mdx) (Room released)

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 102100
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 102100)
- Existing Documentation: None existed
- Repository Overviews: Not needed for this Chat SDK-specific error
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: No FAQ content existed for this error code
- Content Excluded: Internal implementation details about CHA-RL12a/b specifications
- Recommendations Source: Based on SDK implementation patterns and Slack discussions about discontinuity handling
- Code Examples Rationale: Included platform-specific examples as they are essential for recovery implementation
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on analysis findings in https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-analysis.md lines 81-87
  - Cause 2: From knowledge base https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 113-115
  - Cause 3: From analysis https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-analysis.md lines 81-87
- Resolution Steps: 
  - Step 1: Code pattern from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 132-138
  - Step 2: Recovery pattern from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 86-96
  - Step 3: Based on https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 91-96
  - Step 4: Best practices from https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 169-175
- Prevention: Based on https://github.com/ably/ably-os/blob/main/output/error-codes/research/102100-knowledge.md lines 169-175
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 102100
2. Regenerate: Run `./bin/ably-os errors document-error-codes 102100 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/main/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->