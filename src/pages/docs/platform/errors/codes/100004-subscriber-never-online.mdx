<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 100004 -->
<!-- Generated: 2025-08-26T03-24-13-179Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document as informational state indicator rather than error, emphasizing no action required from developers -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 100004: Subscriber never online

## What Happened

The Asset Tracking SDK is indicating that the subscriber has never established an initial connection to track the publisher's location.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 100004 | N/A | Connection/Presence State (Asset Tracking) | N/A - informational state |

## Quick Fix

- No action required - this is a normal initialization state
- The SDK automatically handles connection establishment
- Wait for the connection to be established naturally

## Error Messages

You may see this message:
- "Subscriber has never been online"

This appears as part of the `PublisherPresenceStateChange` when the Asset Tracking subscriber SDK is first initialized.

## Common Causes

1. **Normal SDK initialization** (99% of cases)
   - This is the expected initial state when the subscriber SDK starts
   - Indicates the subscriber has never connected to track a publisher
   - Part of the normal SDK lifecycle

2. **Connection not yet attempted** (1% of cases) 
   - The SDK hasn't started the connection process yet
   - May occur if the tracking hasn't been initiated

## Resolution Steps

1. **No action required**
   - This is an informational state, not an error requiring fixes
   - The SDK automatically transitions away from this state
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md lines 61-63 -->

2. **Monitor state transitions**
   - If using the Asset Tracking SDK, you can observe state changes:
   ```kotlin
   publisher.presence.observeStateChanges { stateChange ->
       when (stateChange.state) {
           PublisherPresenceState.UNKNOWN -> {
               if (stateChange.error?.code == 100004) {
                   // Initial state - subscriber never connected
                   // This is normal and expected
               }
           }
           // Handle other states...
       }
   }
   ```
   <!-- Source: Code example from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md lines 118-130 -->

3. **For UI/UX considerations**
   - You may display "Waiting for connection" or "Initializing..." messages
   - No error messages should be shown to end users
   - This state will automatically resolve once connection is established
   <!-- Source: Analysis recommendation from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md lines 113-115 -->

## Automatic Handling

The Asset Tracking SDK automatically manages this state:
- Transitions from this state upon successful connection establishment
- No retry logic needed as this isn't a failure condition
- Part of the SDK's internal state management system

## Prevention

This state cannot and should not be prevented as it's part of normal SDK operation. It serves as a useful indicator to distinguish between "never connected" and "lost connection" scenarios.

## Performance Impact

This informational state has no performance impact:
- Does not affect tracking functionality
- No network requests are blocked
- Simply indicates the initial state before connection

## Related Errors

• **[100005 - Subscriber not online](https://help.ably.io/error/100005)**  
  Occurs when the subscriber was previously online but has lost connection

• **[100000 - Internal SDK error](https://help.ably.io/error/100000)**  
  Generic internal error fallback for unexpected Asset Tracking SDK issues

• **[100002 - Token fetch failure](https://help.ably.io/error/100002)**  
  Authentication token retrieval failed but can be retried

• **[100003 - Token authentication failure](https://help.ably.io/error/100003)**  
  Fatal authentication failure that cannot be automatically resolved

## Related Resources

- [Asset Tracking documentation](https://ably.com/docs/asset-tracking)
- [Asset Tracking SDK for Android](https://github.com/ably/ably-asset-tracking-android)
- [Asset Tracking Common specification](https://github.com/ably/ably-asset-tracking-common/blob/main/specification/README.md)
- [Ably Support](https://ably.com/support)

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 100004
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md - No specific error-specific notes for 100004
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/100004-subscriber-never-online.mdx - Enhanced with current date and improved Related Errors section
- Repository Overviews: Not needed as research files contained sufficient context
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: No FAQ content existed for this error code per https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-knowledge.md lines 11-18
- Content Excluded: None - all relevant information included
- Recommendations Source: 
  - No action required: Based on analysis https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md lines 113-115
  - State monitoring code: From analysis https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md lines 118-130
- Code Examples Rationale: Included state monitoring code as it's directly from the SDK documentation and essential for developers to understand proper usage
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes:
  - Cause 1 (Normal initialization): Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md lines 61-64
  - Cause 2 (Connection not attempted): Inferred from state machine pattern in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md lines 69-74
- Resolution Steps:
  - Step 1: Source from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md lines 113-115 - no action required
  - Step 2: Code example from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md lines 118-130 - state monitoring pattern
  - Step 3: UI/UX guidance from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md lines 114
- Prevention: Based on design philosophy from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100004-analysis.md lines 61-64
- Related Errors: Enhanced format per requirements with descriptions of relationship to current error
-->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Official documentation for Asset Tracking error codes 100000-100005
- Impact: Developers may be confused about these informational states vs actual errors
- Recommendation: Add section to Asset Tracking docs explaining the state management error codes
- Severity: Low - these are informational states that don't require action
-->

<!-- URL Validation Completed: 2025-08-26T03-24-13-179Z -->
<!-- External URLs verified: 5 | Corrected: 0 | Exempted internal: 9 -->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 100004
2. Regenerate: Run `./bin/ably-os errors document-error-codes 100004 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->