---
title: Types
meta_description: "Client Library SDK REST API Reference Types documentation."
meta_keywords: "Ably, Ably REST, API Reference, REST SDK, REST interface, REST API, Types"
redirect_from:
  - /docs/api/versions/v1.1/rest-sdk/types
  - /docs/api/versions/v1.0/rest-sdk/types
  - /docs/api/versions/v0.8/rest-sdk/types
  - /docs/rest/types
---

The Ably REST client library defines both data types and option types.  Data types are used to represent object such as messages; Option types are used in method arguments.

Where client libraries support both Realtime and REST APIs, the types are shared between both clients.

All types are always classes or their respective equivalent for each language implementation. Options on the other hand, may often support both typed option classes or more flexible key value objects such as a Hash or plain JavaScript object.

If you are interested in finding out more about the exact types and options definitions in each language, we recommend you download [our open source libraries](https://ably.com/download) and review the code.

## REST Data types

<If lang="java,ruby,python,php,csharp">

### <If lang="java">io.ably.lib.types.AblyException</If><If lang="ruby">Ably::Exceptions::BaseAblyException</If><If lang="python">AblyException</If><If lang="php">Ably\Exceptions\AblyException</If><If lang="csharp">IO.Ably.AblyException</If> <a id="#ably-exception" />

<If lang="java,php,csharp">
An `AblyException` is an exception encapsulating error information containing an Ably-specific error code and generic status code, where applicable.
</If>

#### <If lang="python,php,csharp">Properties</If><If lang="java">Members</If><If lang="ruby">Attributes</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="python,php,java,ruby">errorInfo</If><If lang="csharp">ErrorInfo</If> | [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) corresponding to this exception, where applicable | `ErrorInfo` |


<If lang="ruby,python">
  <If lang="ruby">A @BaseAblyException@</If><If lang="python">an @AblyException@</If> is an exception encapsulating error information containing an Ably-specific error code and generic status code, where applicable.
</If>

#### <If lang="php,csharp">Properties</If><If lang="java">Members</If><If lang="ruby,python">Attributes</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="php,java,python,ruby">code</If><If lang="csharp">Code</If> | Ably error code (see [ably-common/protocol/errors.json](https://github.com/ably/ably-common/blob/main/protocol/errors.json)) | `Integer` |
| <If lang="php,java,python,csharp">statusCode</If><If lang="ruby">status_code</If> | HTTP Status Code corresponding to this error, where applicable | `Integer` |
| <If lang="php,java,python,ruby">message</If><If lang="csharp">Message</If> | Additional message information, where available | `String` |

</If>

### ChannelDetails <a id="#channel-details" />

`ChannelDetails` is an object returned when requesting or receiving [channel metadata](/docs/metadata-stats/metadata). It contains information on the channel itself, along with the current state of the channel in the [ChannelStatus](#channel-status) object.

| Parameter | Description | Type |
|-----------|-------------|------|
| channelId | The required name of the channel including any qualifier, if any | `string` |
| region | In events relating to the activity of a channel in a specific region, this optionally identifies the region | `string` |
| isGlobalMaster | In events relating to the activity of a channel in a specific region, this optionally identifies whether or not that region is responsible for global coordination of the channel | `boolean` |
| status | An optional [`ChannelStatus`](#channel-status) instance | [ChannelStatus](#channel-status) |

The following is an example of a `ChannelDetails` JSON object:

<Code>
```json
  {
    "channelId": "foo",
    "status": {
      "isActive": true,
      "occupancy": {
        "metrics": {
          "connections": 1,
          "publishers": 1,
          "subscribers": 1,
          "presenceConnections": 1,
          "presenceMembers": 0,
          "presenceSubscribers": 1,
          "objectPublishers": 1,
          "objectSubscribers": 1
        }
      }
    }
  }
```
</Code>

### ChannelDetails.ChannelStatus <a id="#channel-status" />

`ChannelStatus` is contained within the [`ChannelDetails`](#channel-details) object, and optionally contains an [Occupancy](#occupancy) object.

| Parameter | Description | Type |
|-----------|-------------|------|
| isActive | A required boolean value indicating whether the channel that is the subject of the event is active. For events indicating regional activity of a channel this indicates activity in that region, not global activity | `boolean` |
| occupancy | An optional [`Occupancy`](#occupancy) instance indicating the occupancy of the channel. For events indicating regional activity of a channel this indicates activity in that region, not global activity | [Occupancy](#occupancy) |

### ChannelDetails.ChannelStatus.Occupancy <a id="#occupancy" />

Occupancy is optionally contained within the [`ChannelStatus`](#channel-status) object, and contains metadata relating to the occupants of the channel. This is usually contained within the `occupancy` attribute of the [`ChannelStatus`](#channel-status) object.

The `occupancy` attribute contains the `metrics` attribute, which contains the following members:

| Parameter | Description | Type |
|-----------|-------------|------|
| connections | The number of connections | `integer` |
| publishers | The number of connections attached to the channel that are authorised to publish | `integer` |
| subscribers | The number of connections attached that are authorised to subscribe to messages | `integer` |
| presenceSubscribers | The number of connections that are authorised to subscribe to presence messages | `integer` |
| presenceConnections | The number of connections that are authorised to enter members into the presence channel | `integer` |
| presenceMembers | The number of members currently entered into the presence channel | `integer` |
| objectPublishers | The number of connections that are authorised to publish updates to objects on the channel | `integer` |
| objectSubscribers | The number of connections that are authorised to subscribe to objects on the channel | `integer` |


### <If lang="javascript,nodejs,go,python">ErrorInfo</If><If lang="objc,swift">ARTErrorInfo</If><If lang="java">io.ably.lib.types.ErrorInfo</If><If lang="ruby">Ably::Models::ErrorInfo</If><If lang="php">Ably\Models\ErrorInfo</If><If lang="csharp">IO.Ably.ErrorInfo</If><If lang="flutter">ably.ErrorInfo</If> <a id="#error-info" />

An `ErrorInfo` is a type encapsulating error information containing an Ably-specific error code and generic status code.

#### <If lang="javascript,nodejs,go,python,php,csharp,objc,swift,flutter">Properties</If><If lang="java">Members</If><If lang="ruby">Attributes</If>

<If lang="javascript,nodejs,php,python,ruby,java,swift,objc,csharp,go">

| Parameter | Description | Type |
|-----------|-------------|------|
| <span lang="javascript,nodejs,php,python,ruby,java,swift,objc">code</span><span lang="csharp,go">Code</span> | Ably error code (see [ably-common/protocol/errors.json](https://github.com/ably/ably-common/blob/main/protocol/errors.json)) | `Integer` |
| <span lang="javascript,nodejs,php,python,java,swift,objc">statusCode</span><span lang="ruby">status_code</span><span lang="csharp,go">StatusCode</span> | HTTP Status Code corresponding to this error, where applicable | `Integer` |
| <span lang="javascript,nodejs,php,python,ruby,java,swift,objc">message</span><span lang="csharp,go">Message</span> | Additional message information, where available | `String` |
| <span lang="javascript,nodejs,php,python,ruby,java,swift,objc">cause</span><span lang="csharp">Cause</span> | Information pertaining to what caused the error where available | `ErrorInfo` |
| <span lang="javascript,nodejs,php,python,ruby,java,swift,objc">href</span><span lang="csharp">Href</span> | Ably may additionally include a URL to get more help on this error | `String` |

</If>

<If lang="flutter">

| Parameter | Description | Type |
|-----------|-------------|------|
| code | Ably error code (see [ably-common/protocol/errors.json](https://github.com/ably/ably-common/blob/main/protocol/errors.json)) | `Integer` |
| statusCode | HTTP Status Code corresponding to this error, where applicable | `Integer` |
| message | Additional message information, where available | `String` |
| cause | Information pertaining to what caused the error where available | `ErrorInfo` |
| href | Ably may additionally include a URL to get more help on this error | `String` |
| requestId | Request ID with which the error can be identified | `String` |

</If>

#### Error nesting

ErrorInfo objects can contain nested errors through the `cause` property, allowing you to trace the root cause of failures. When an operation fails due to underlying system errors, the main `ErrorInfo` provides the high-level failure reason while the nested `cause` contains more specific details about what went wrong.

One example of ErrorInfo nesting is [80019: Auth server rejecting request](/docs/platform/errors/codes#80019) where the main error indicates token renewal failed, while the nested `cause` contains the specific HTTP error from the auth server.

The following example demonstrates how to handle nested errors:

<If lang="javascript">

<Code>
```javascript
function handleError(error) {
    console.log(`Main error: ${error.code} - ${error.message}`);

    // Check for nested error
    if (error.cause) {
        console.log(`Root cause: ${error.cause.code} - ${error.cause.message}`);

        // Handle further nesting if needed
        if (error.cause.cause) {
            console.log(`Deeper cause: ${error.cause.cause.code} - ${error.cause.cause.message}`);
        }
    }
}
```
</Code>

</If>
<If lang="nodejs">

<Code>
```nodejs
function handleError(error) {
    console.log(`Main error: ${error.code} - ${error.message}`);

    // Check for nested error
    if (error.cause) {
        console.log(`Root cause: ${error.cause.code} - ${error.cause.message}`);

        // Handle further nesting if needed
        if (error.cause.cause) {
            console.log(`Deeper cause: ${error.cause.cause.code} - ${error.cause.cause.message}`);
        }
    }
}
```
</Code>

</If>
<If lang="swift">

<Code>
```swift
func handleError(_ error: ARTErrorInfo) {
    print("Main error: \(error.code) - \(error.message)")

    if let cause = error.cause {
        print("Root cause: \(cause.code) - \(cause.message)")

        if let deeperCause = cause.cause {
            print("Deeper cause: \(deeperCause.code) - \(deeperCause.message)")
        }
    }
}
```
</Code>

</If>
<If lang="objc">

<Code>
```objc
- (void)handleError:(ARTErrorInfo *)error {
    NSLog(@"Main error: %ld - %@", (long)error.code, error.message);

    if (error.cause) {
        NSLog(@"Root cause: %ld - %@", (long)error.cause.code, error.cause.message);

        if (error.cause.cause) {
            NSLog(@"Deeper cause: %ld - %@", (long)error.cause.cause.code, error.cause.cause.message);
        }
    }
}
```
</Code>

</If>
<If lang="flutter">

<Code>
```flutter
void handleError(ably.ErrorInfo error) {
  print('Main error: ${error.code} - ${error.message}');

  if (error.cause != null) {
    print('Root cause: ${error.cause!.code} - ${error.cause!.message}');

    if (error.cause!.cause != null) {
      print('Deeper cause: ${error.cause!.cause!.code} - ${error.cause!.cause!.message}');
    }
  }
}
```
</Code>

</If>
<If lang="java">

<Code>
```java
public void handleError(ErrorInfo error) {
    System.out.println("Main error: " + error.code + " - " + error.message);

    if (error.cause != null) {
        System.out.println("Root cause: " + error.cause.code + " - " + error.cause.message);

        if (error.cause.cause != null) {
            System.out.println("Deeper cause: " + error.cause.cause.code + " - " + error.cause.cause.message);
        }
    }
}
```
</Code>

</If>
<If lang="csharp">

<Code>
```csharp
void HandleError(ErrorInfo error)
{
    Console.WriteLine($"Main error: {error.Code} - {error.Message}");

    if (error.Cause != null)
    {
        Console.WriteLine($"Root cause: {error.Cause.Code} - {error.Cause.Message}");

        if (error.Cause.Cause != null)
        {
            Console.WriteLine($"Deeper cause: {error.Cause.Cause.Code} - {error.Cause.Cause.Message}");
        }
    }
}
```
</Code>

</If>
<If lang="ruby">

<Code>
```ruby
def handle_error(error)
  puts "Main error: #{error.code} - #{error.message}"

  if error.cause
    puts "Root cause: #{error.cause.code} - #{error.cause.message}"

    if error.cause.cause
      puts "Deeper cause: #{error.cause.cause.code} - #{error.cause.cause.message}"
    end
  end
end
```
</Code>

</If>
<If lang="python">

<Code>
```python
def handle_error(error):
    print(f"Main error: {error.code} - {error.message}")

    if error.cause:
        print(f"Root cause: {error.cause.code} - {error.cause.message}")

        if error.cause.cause:
            print(f"Deeper cause: {error.cause.cause.code} - {error.cause.cause.message}")
```
</Code>

</If>
<If lang="php">

<Code>
```php
function handleError($error) {
    echo "Main error: " . $error->code . " - " . $error->message . "\n";

    if ($error->cause) {
        echo "Root cause: " . $error->cause->code . " - " . $error->cause->message . "\n";

        if ($error->cause->cause) {
            echo "Deeper cause: " . $error->cause->cause->code . " - " . $error->cause->cause->message . "\n";
        }
    }
}
```
</Code>

</If>
<If lang="go">

<Code>
```go
func handleError(err *ErrorInfo) {
    fmt.Printf("Main error: %d - %s\n", err.Code, err.Message)

    if err.Cause != nil {
        fmt.Printf("Root cause: %d - %s\n", err.Cause.Code, err.Cause.Message)

        if err.Cause.Cause != nil {
            fmt.Printf("Deeper cause: %d - %s\n", err.Cause.Cause.Code, err.Cause.Cause.Message)
        }
    }
}
```
</Code>

</If>
</If>

### <If lang="javascript,nodejs,go,python,flutter">Message</If><If lang="objc,swift">ARTMessage</If><If lang="java">io.ably.lib.types.Message</If><If lang="ruby">Ably::Models::Message</If><If lang="php">Ably\Models\Message</If><If lang="csharp">IO.Ably.Message</If> <a id="message" />

A `Message` represents an individual message that is sent to or received from Ably.

#### <If lang="javascript,nodejs,go,python,flutter,php,ruby,java,objc,swift">name</If><If lang="csharp">Name</If> <a id="#name" />

The event name, if provided. <br />_Type: `String`_

#### <If lang="javascript,nodejs,go,python,flutter,php,ruby,java,objc,swift">data</If><If lang="csharp">Data</If> <a id="#data" />

The message payload, if provided.<br />_Type: <If lang="javascript,nodejs,go">`String`, `StringBuffer`, `JSON Object`</If><If lang="java">`String`, `ByteArray`, `JSONObject`, `JSONArray`</If><If lang="csharp">`String`, `byte[]`, plain C# object that can be serialized to JSON</If><If lang="ruby">`String`, `Binary` (ASCII-8BIT String), `Hash`, `Array`</If><If lang="python">`String`, `Bytearray`, `Dict`, `List`</If><If lang="php">`String`, `Binary String`, `Associative Array`, `Array`</If><If lang="objc">`NSString *`, `NSData *`, `NSDictionary *`, `NSArray *`</If><If lang="swift">`String`, `NSData`, `Dictionary`, `Array`</If><If lang="flutter">`String`, `Map`, `List`</If>_

#### <If lang="javascript,nodejs,go,python,flutter,php,ruby,java,objc,swift">extras</If><If lang="csharp">Extras</If> <a id="#extras" />

Metadata and/or ancillary payloads, if provided. Valid payloads include [`push`](/docs/push/publish#payload), `headers` (a map of strings to strings for arbitrary customer-supplied metadata), [`ephemeral`](/docs/pub-sub/advanced#ephemeral), and [`privileged`](/docs/platform/integrations/webhooks#skipping) objects.<br />_Type: <If lang="java">`JSONObject`, `JSONArray`</If><If lang="csharp">plain C# object that can be converted to JSON</If><If lang="javascript,nodejs">`JSON Object`</If><If lang="ruby">`Hash`, `Array`</If><If lang="python">`Dict`, `List`</If><If lang="swift">`Dictionary`, `Array`</If><If lang="objc">`NSDictionary *`, `NSArray *`</If><If lang="php">`Associative Array`, `Array`</If><If lang="go,flutter">`JSON Object`</If>_

#### <If lang="javascript,nodejs,go,python,flutter,php,ruby,java,objc,swift">id</If><If lang="csharp">Id</If> <a id="#id" />

A Unique ID assigned by Ably to this message.<br />_Type: `String`_

#### <If lang="javascript,nodejs,go,flutter,php,java,objc,swift">clientId</If><If lang="csharp">ClientId</If><If lang="ruby,python">client_id</If> <a id="#client-id" />

The client ID of the publisher of this message.<br />_Type: `String`_

#### <If lang="javascript,nodejs,go,flutter,php,java,objc,swift">connectionId</If><If lang="csharp">ConnectionId</If><If lang="ruby,python">connection_id</If> <a id="#connection-id" />

The connection ID of the publisher of this message.<br />_Type: `String`_

#### <If lang="javascript,nodejs,flutter,php,java,objc,swift">connectionKey</If><If lang="csharp,go">ConnectionKey</If><If lang="ruby,python">connection_key</If> <a id="#connection-key" />

A connection key, which can optionally be included for a REST publish as part of the [publishing on behalf of a realtime client functionality](/docs/pub-sub/advanced#publish-on-behalf).<br />_Type: `String`_

#### <If lang="javascript,nodejs,go,flutter,php,python,ruby,java,objc,swift">timestamp</If><If lang="csharp">Timestamp</If> <a id="#timestamp" />

Timestamp when the message was first received by the Ably, as <If lang="javascript,nodejs,go,flutter,php,python">milliseconds since the epoch</If><If lang="ruby">a `Time` object</If><If lang="java,csharp,objc,swift"></If>.<br />_Type: <If lang="javascript,nodejs,go,flutter,php,python">`Integer`</If><If lang="java">`Long Integer`</If><If lang="csharp">`DateTimeOffset`</If><If lang="ruby">`Time`</If><If lang="objc,swift">`NSDate`</If>_

#### <If lang="javascript,nodejs,go,flutter,php,python,ruby,java,objc,swift">encoding</If><If lang="csharp">Encoding</If> <a id="#encoding" />

This will typically be empty as all messages received from Ably are automatically decoded client-side using this value. However, if the message encoding cannot be processed, this attribute will contain the remaining transformations not applied to the `data` payload.<br />_Type: `String`_

<If lang="javascript,nodejs">

#### action <a id="action" />

The action type of the message, one of the [`MessageAction`](/docs/api/realtime-sdk/types#message-action) enum values.<br />_Type: `int enum { MESSAGE_CREATE, MESSAGE_UPDATE, MESSAGE_DELETE, META, MESSAGE_SUMMARY }`_

#### serial <a id="serial" />

A server-assigned identifier that will be the same in all future updates of this message. It can be used to add annotations to a message. Serial will only be set if you enable annotations in [channel rules](/docs/channels#rules).<br />_Type: `String`_

#### annotations <a id="annotations" />

An object containing information about annotations that have been made to the object.<br />_Type: [`MessageAnnotations`](/docs/api/realtime-sdk/types#message-annotations)_

</If>

### Message constructors <a id="constructors" />

#### Message.fromEncoded <a id="message-from-encoded" />

`Message.fromEncoded(Object encodedMsg, ChannelOptions channelOptions?) -> Message`

A static factory method to create a [`Message`](/docs/api/realtime-sdk/types#message) from a deserialized `Message`-like object encoded using Ably's wire protocol.

##### Parameters

| Parameter | Description | Type |
|-----------|-------------|------|
| encodedMsg | A `Message`-like deserialized object | `Object` |
| channelOptions | An optional [`ChannelOptions`](/docs/api/realtime-sdk/types#channel-options). If you have an encrypted channel, use this to allow the library can decrypt the data | `Object` |

##### Returns

A [`Message`](/docs/api/realtime-sdk/types#message) object

#### Message.fromEncodedArray <a id="message-from-encoded-array" />

`Message.fromEncodedArray(Object[] encodedMsgs, ChannelOptions channelOptions?) -> Message[]`

A static factory method to create an array of [`Messages`](/docs/api/realtime-sdk/types#message) from an array of deserialized `Message`-like object encoded using Ably's wire protocol.

##### Parameters

| Parameter | Description | Type |
|-----------|-------------|------|
| encodedMsgs | An array of `Message`-like deserialized objects | `Array` |
| channelOptions | An optional [`ChannelOptions`](/docs/api/realtime-sdk/types#channel-options). If you have an encrypted channel, use this to allow the library can decrypt the data | `Object` |

##### Returns

An `Array` of [`Message`](/docs/api/realtime-sdk/types#message) objects

### <If lang="javascript,nodejs,go,python,flutter">PresenceMessage</If><If lang="objc,swift">ARTPresenceMessage</If><If lang="java">io.ably.lib.types.PresenceMessage</If><If lang="ruby">Ably::Models::PresenceMessage</If><If lang="php">Ably\Models\PresenceMessage</If><If lang="csharp">IO.Ably.PresenceMessage</If> <a id="#presence-message" />

A `PresenceMessage` represents an individual presence update that is sent to or received from Ably.

#### <If lang="javascript,nodejs,go,python,php,csharp,objc,swift,flutter">Properties</If><If lang="java">Members</If><If lang="ruby">Attributes</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="javascript,nodejs,php,python,ruby,objc,swift,flutter">action</If><If lang="java,csharp,go">Action</If> | The event signified by a PresenceMessage. See <If lang="java">[`PresenceMessage.action`](/docs/api/realtime-sdk/types#presence-action)</If><If lang="csharp">[`PresenceMessage.action`](/docs/api/realtime-sdk/types#presence-action)</If><If lang="javascript,nodejs">[`Presence action`](/docs/api/realtime-sdk/types#presence-action)</If><If lang="python">[`PresenceAction`](/docs/api/realtime-sdk/types#presence-action)</If><If lang="ruby">[`PresenceMessage::ACTION`](/docs/api/realtime-sdk/types#presence-action)</If><If lang="php">[`PresenceMessage::ACTION`](/docs/api/realtime-sdk/types#presence-action)</If><If lang="objc,swift">[`PresenceMessage.action`](/docs/api/realtime-sdk/types#presence-action)</If><If lang="go">[`PresenceMessage::action`](/docs/api/realtime-sdk/types#presence-action)</If><If lang="flutter">[`Presence action`](/docs/api/realtime-sdk/types#presence-action)</If> | <If lang="java">`enum { ABSENT, PRESENT, ENTER, LEAVE, UPDATE }`</If><If lang="csharp">`enum { Absent, Present, Enter, Leave, Update }`</If><If lang="javascript,nodejs,flutter">`int enum { ABSENT, PRESENT, ENTER, LEAVE, UPDATE }`</If><If lang="python">`int enum { ABSENT, PRESENT, ENTER, LEAVE, UPDATE }`</If><If lang="ruby">`enum { :absent, :present, :enter, :leave, :update }`</If><If lang="php">`const PresenceMessage::ABSENT,PRESENT,ENTER,LEAVE,UPDATE`</If><If lang="objc,swift">`ARTPresenceAction`</If><If lang="go">`const PresenceMessage::PresenceAbsent,PresencePresent,PresenceEnter,PresenceLeave,PresenceUpdate`</If> |
| <If lang="javascript,nodejs,php,python,ruby,java,swift,objc,flutter">data</If><If lang="csharp,go">Data</If> | The presence update payload, if provided | <If lang="java">`String`, `ByteArray`, `JSONObject`, `JSONArray`</If><If lang="csharp">`String`, `byte[]`, plain C# object that can be converted to Json</If><If lang="javascript,nodejs">`String`, `StringBuffer`, `JSON Object`</If><If lang="go">`String`, `[]byte`</If><If lang="ruby">`String`, `Binary` (ASCII-8BIT String), `Hash`, `Array`</If><If lang="python">`String`, `Bytearray`, `Dict`, `List`</If><If lang="swift">`String`, `NSData`, `Dictionary`, `Array`</If><If lang="objc">`NSString *`, `NSData *`, `NSDictionary *`, `NSArray *`</If><If lang="php">`String`, `Binary String`, `Associative Array`, `Array`</If><If lang="flutter">`String`, `StringBuffer`, `JSON Object`</If> |
| <If lang="javascript,nodejs,php,python,ruby,java,swift,objc,flutter">extras</If><If lang="csharp,go">Extras</If> | Metadata and/or ancillary payloads, if provided. The only currently valid payloads for extras are the [`push`](/docs/push/publish#sub-channels), [`ref`](/docs/channels/messages#interactions) and [`privileged`](/docs/platform/integrations/webhooks#skipping) objects | <If lang="java">`JSONObject`, `JSONArray`</If><If lang="csharp">plain C# object that can be converted to Json</If><If lang="go">`String`, `[]byte`</If><If lang="javascript,nodejs">`JSON Object`</If><If lang="ruby">`Hash`, `Array`</If><If lang="python">`Dict`, `List`</If><If lang="swift">`Dictionary`, `Array`</If><If lang="objc">`NSDictionary *`, `NSArray *`</If><If lang="php">`Associative Array`, `Array`</If><If lang="flutter">`Map`, `List`</If> |
| <If lang="javascript,nodejs,php,python,ruby,java,swift,objc,flutter">id</If><If lang="csharp,go">Id</If> | Unique ID assigned by Ably to this presence update | `String` |
| <If lang="javascript,nodejs,php,java,swift,objc,flutter">clientId</If><If lang="ruby,python">client_id</If><If lang="csharp,go">ClientId</If> | The client ID of the publisher of this presence update | `String` |
| <If lang="javascript,nodejs,php,java,swift,objc,flutter">connectionId</If><If lang="ruby,python">connection_id</If><If lang="csharp,go">ConnectionId</If> | The connection ID of the publisher of this presence update | `String` |
| <If lang="javascript,nodejs,php,python,ruby,java,swift,objc,flutter">timestamp</If><If lang="csharp,go">Timestamp</If> | Timestamp when the presence update was received by Ably<If lang="javascript,nodejs,php,python,flutter">, as milliseconds since the epoch</If> | <If lang="javascript,nodejs,php,python,flutter">`Integer`</If><If lang="java">`Long Integer`</If><If lang="csharp">`DateTimeOffset`</If><If lang="ruby">`Time`</If><If lang="objc,swift">`NSDate`</If><If lang="go">`Integer`</If> |
| <If lang="javascript,nodejs,php,python,ruby,java,swift,objc,flutter">encoding</If><If lang="csharp,go">Encoding</If> | This will typically be empty as all presence updates received from Ably are automatically decoded client-side using this value. However, if the message encoding cannot be processed, this attribute will contain the remaining transformations not applied to the `data` payload | `String` |

### PresenceMessage constructors

#### PresenceMessage.fromEncoded <a id="presence-from-encoded" />

`PresenceMessage.fromEncoded(Object encodedPresMsg, ChannelOptions channelOptions?) -> PresenceMessage`

A static factory method to create a [`PresenceMessage`](/docs/api/realtime-sdk/types#presence-message) from a deserialized `PresenceMessage`-like object encoded using Ably's wire protocol.

##### Parameters

| Parameter | Description | Type |
|-----------|-------------|------|
| encodedPresMsg | A `PresenceMessage`-like deserialized object | `Object` |
| channelOptions | An optional [`ChannelOptions`](/docs/api/realtime-sdk/types#channel-options). If you have an encrypted channel, use this to allow the library can decrypt the data | `Object` |

##### Returns

A [`PresenceMessage`](/docs/api/realtime-sdk/types#presence-message) object

#### PresenceMessage.fromEncodedArray <a id="presence-from-encoded-array" />

`PresenceMessage.fromEncodedArray(Object[] encodedPresMsgs, ChannelOptions channelOptions?) -> PresenceMessage[]`

A static factory method to create an array of [`PresenceMessages`](/docs/api/realtime-sdk/types#presence-message) from an array of deserialized `PresenceMessage`-like object encoded using Ably's wire protocol.

##### Parameters

| Parameter | Description | Type |
|-----------|-------------|------|
| encodedPresMsgs | An array of `PresenceMessage`-like deserialized objects | `Array` |
| channelOptions | An optional [`ChannelOptions`](/docs/api/realtime-sdk/types#channel-options). If you have an encrypted channel, use this to allow the library can decrypt the data | `Object` |

##### Returns

An `Array` of [`PresenceMessage`](/docs/api/realtime-sdk/types#presence-message) objects

### <If lang="javascript,nodejs,go,python,flutter">Presence action</If><If lang="objc,swift">ARTPresenceAction</If><If lang="java">io.ably.lib.types.PresenceMessage.Action</If><If lang="ruby">Ably::Models::PresenceMessage::ACTION</If><If lang="php">Ably\Models\PresenceMessage Action</If><If lang="csharp">IO.Ably.PresenceAction</If> <a id="#presence-action" />

<If lang="javascript,nodejs">
`Presence` `action` is a String with a value matching any of the [`Realtime Presence` states & events](/docs/presence-occupancy/presence#trigger-events).

<If lang="javascript">

<Code>
```javascript
  var PresenceActions = [
    'absent', // (reserved for internal use)
    'present',
    'enter',
    'leave',
    'update'
  ]
```
</Code>

</If>
<If lang="nodejs">

<Code>
```nodejs
  var PresenceActions = [
    'absent', // (reserved for internal use)
    'present',
    'enter',
    'leave',
    'update'
  ]
```
</Code>

</If>
</If>
<If lang="java">

`io.ably.lib.types.PresenceMessage.Action` is an enum representing all the [`Realtime Presence` states & events](/docs/presence-occupancy/presence#trigger-events).

<Code>
```java
  public enum Action {
    ABSENT,  // 0 (reserved for internal use)
    PRESENT, // 1
    ENTER,   // 2
    LEAVE,   // 3
    UPDATE   // 4
  }
```
</Code>

</If>
<If lang="csharp">

`IO.Ably.PresenceAction` is an enum representing all the [`Realtime Presence` states & events](/docs/presence-occupancy/presence#trigger-events).

<Code>
```csharp
  public enum Action {
    Absent,  // 0 (reserved for internal use)
    Present, // 1
    Enter,   // 2
    Leave,   // 3
    Update   // 4
  }
```
</Code>

</If>
<If lang="python">

`PresenceAction` is an enum-like class representing all the [`Realtime Presence` states & events](/docs/presence-occupancy/presence#trigger-events).

<Code>
```python
  class PresenceAction(object):
    ABSENT = 0    # (reserved for internal use)
    PRESENT = 1
    ENTER = 2
    LEAVE = 3
    UPDATE = 4
```
</Code>

</If>
<If lang="php">

`PresenceMessage Action` is one of the class constants representing all the [`Realtime Presence` states & events](/docs/presence-occupancy/presence#trigger-events).

<Code>
```php
  namespace Ably\Models;
  class PresenceMessages {
    const ABSENT  = 0; /* (reserved for internal use) */
    const PRESENT = 1;
    const ENTER   = 2;
    const LEAVE   = 3;
    const UPDATE  = 4;
  }
```
</Code>

##### Example usage

<Code>
```php
  if ($presenceMessage->action == Ably\Models\PresenceMesage::ENTER) {
    /* do something */
  }
```
</Code>

</If>
<If lang="ruby">

`Ably::Models::PresenceMessage::ACTION` is an enum-like value representing all the [`Realtime Presence` states & events](/docs/presence-occupancy/presence#trigger-events). `ACTION` can be represented interchangeably as either symbols or constants.

##### Symbol states

<Code>
```ruby
  :absent  # => 0 (reserved for internal use)
  :present # => 1
  :enter   # => 2
  :leave   # => 3
  :update  # => 4
```
</Code>

##### Constant states

<Code>
```ruby
  PresenceMessage::ACTION.Absent  # => 0 (internal use)
  PresenceMessage::ACTION.Present # => 1
  PresenceMessage::ACTION.Enter   # => 2
  PresenceMessage::ACTION.Leave   # => 3
  PresenceMessage::ACTION.Update  # => 4
```
</Code>

##### Example usage

<Code>
```ruby
  # Example with symbols
  presence.on(:attached) { ... }

  # Example with constants
  presence.on(Ably::Models::PresenceMessage::ACTION.Enter) { ... }

  # Interchangeable
  Ably::Models::PresenceMessage::ACTION.Enter == :enter # => true
```
</Code>

</If>
<If lang="objc,swift">

`ARTPresenceAction` is an enum representing all the [`Realtime Presence` states & events](/docs/presence-occupancy/presence#trigger-events).

<If lang="objc">

<Code>
```objc
  typedef NS_ENUM(NSUInteger, ARTPresenceAction) {
      ARTPresenceAbsent, // reserved for internal use
      ARTPresencePresent,
      ARTPresenceEnter,
      ARTPresenceLeave,
      ARTPresenceUpdate
  };
```
</Code>

</If>
<If lang="swift">

<Code>
```swift
  enum ARTPresenceAction : UInt {
    case Absent // reserved for internal use
    case Present
    case Enter
    case Leave
    case Update
  }
```
</Code>

</If>
</If>
<If lang="go">

`Presence` `action` is a String with a value matching any of the [`Realtime Presence` states & events](/docs/presence-occupancy/presence#trigger-events).

<Code>
```go
const (
  PresenceAbsent = 0
  PresencePresent = 1
  PresenceEnter = 2
  PresenceLeave = 3
  PresenceUpdate = 4
)
```
</Code>

</If>

### <If lang="javascript,nodejs,go,python,flutter">PaginatedResult</If><If lang="objc,swift">ARTPaginatedResult</If><If lang="java">io.ably.lib.types.PaginatedResult</If><If lang="ruby">Ably::Models::PaginatedResult</If><If lang="php">Ably\Models\PaginatedResult</If><If lang="csharp">IO.Ably.PaginatedResult</If> <a id="paginated-result" />

A `PaginatedResult` is a type that represents a page of results for all message and presence history, stats and REST presence requests. The response from a [Ably REST API paginated query](/docs/api/rest-api/#pagination) is accompanied by metadata that indicates the relative queries available to the `PaginatedResult` object.

#### <If lang="javascript,nodejs,go,python,php,csharp,objc,swift,flutter">Properties</If><If lang="java">Members</If><If lang="ruby">Attributes</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="javascript,nodejs,flutter,java,objc,swift,php,ruby,python">items</If><If lang="csharp,go">Items</If> | Contains the current page of results (for example an Array of [`Message`](#message) or [`PresenceMessage`](#presence-message) objects for a channel history request) | <If lang="javascript,nodejs,flutter,java,objc,swift,php,ruby,go">`Array <Message, Presence, Stats>`</If><If lang="csharp,python">`List <Message, Presence, Stats>`</If> |

#### Methods

##### <If lang="javascript,nodejs,go,python,php,objc,swift,flutter,java,ruby">first</If><If lang="csharp">First</If>

<If lang="javascript,nodejs">

`first(): Promise<PaginatedResult>`

</If>
<If lang="ruby">

`PaginatedResult first`

</If>
<If lang="php">

`PaginatedResult first()`

</If>
<If lang="python">

`PaginatedResult first()`

</If>
<If lang="csharp">

`Task<PaginatedResult<T>> FirstAsync()`

</If>
<If lang="java">

`PaginatedResult first()`

</If>
<If lang="objc,swift">

`first(callback: (ARTPaginatedResult?, ARTErrorInfo?) -> Void)`

</If>
<If lang="go">

`First() (PaginatedResult, error)`

</If>
<If lang="flutter">

`first(callback(ErrorInfo err, PaginatedResult resultPage))`

</If>

<If lang="javascript,nodejs,go,python,php,objc,swift,flutter,java,ruby,csharp">

Returns a new `PaginatedResult` for the first page of results. <If lang="ruby">When using the Realtime library, the `first` method returns a [Deferrable](/docs/api/realtime-sdk/types#deferrable) and yields a [PaginatedResult](#paginated-result).</If><If lang="csharp">The method is asynchronous and returns a Task which needs to be awaited to get the [PaginatedResult](#paginated-result).</If>

</If>
<If lang="javascript,nodejs">

Returns a promise. On success, the promise is fulfilled with a new `PaginatedResult` for the first page of results. On failure, the promise is rejected with an [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) object that details the reason why it was rejected.

</If>

##### <If lang="javascript,nodejs,go,php,objc,swift,flutter,java">hasNext</If><If lang="csharp">HasNext</If><If lang="ruby">has_next?</If><If lang="python">has_next</If>

<If lang="javascript,nodejs,php,java,swift,objc,flutter">

`Boolean hasNext()`

</If>
<If lang="ruby">

`Boolean has_next?`

</If>
<If lang="python">

`Boolean has_next()`

</If>
<If lang="csharp">

`Boolean HasNext()`

</If>
<If lang="go">

`HasNext() (bool)`

</If>

Returns `true` if there are more pages available by calling <If lang="javascript,nodejs,java,flutter,python,objc,swift,ruby,php,go">`next`</If><If lang="csharp">`Next`</If> and returns `false` if this page is the last page available.

##### <If lang="javascript,nodejs,flutter,java,go,php,objc,swift">isLast</If><If lang="csharp">IsLast</If><If lang="ruby">last?</If><If lang="python">is_last</If>

<If lang="javascript,nodejs,flutter,php,java,swift,objc">

` Boolean isLast()`

</If>
<If lang="ruby">

`Boolean last?`

</If>
<If lang="python">

`Boolean is_last()`

</If>
<If lang="csharp">

`Boolean IsLast()`

</If>
<If lang="go">

`IsLast() (bool)`

</If>

Returns `true` if this page is the last page and returns `false` if there are more pages available by calling <If lang="javascript,nodejs,flutter,java,php,objc,swift,ruby,python">`next`</If><If lang="csharp,go">`Next`</If> available.

##### <If lang="javascript,nodejs,flutter,java,php,go,objc,swift,ruby,python">next</If><If lang="csharp">Next</If>

<If lang="javascript,nodejs">

`next(): Promise<PaginatedResult | null>`

</If>
<If lang="ruby">

`PaginatedResult next`

</If>
<If lang="php">

`PaginatedResult next()`

</If>
<If lang="python">

`PaginatedResult next()`

</If>
<If lang="csharp">

`Task<PaginatedResult<T>> NextAsync()`

</If>
<If lang="java">

`PaginatedResult next()`

</If>
<If lang="objc,swift">

`next(callback: (ARTPaginatedResult?, ARTErrorInfo?) -> Void)`

</If>
<If lang="go">

`Next() (PaginatedResult, error)`

</If>
<If lang="flutter">

`next(callback(ErrorInfo err, PaginatedResult resultPage))`

</If>

<If lang="java,flutter,objc,swift,csharp,php,go,ruby,python">

Returns a new `PaginatedResult` loaded with the next page of results. If there are no further pages, then <If lang="php,csharp,ruby,go">`null`</If><If lang="csharp">a blank PaginatedResult will be returned</If><If lang="java">`Null`</If><If lang="python">`None`</If><If lang="objc,swift">`nil`</If> is returned. <If lang="csharp">The method is asynchronous and return a Task which needs to be awaited to get the `PaginatedResult`</If><If lang="ruby">When using the Realtime library, the `first` method returns a [Deferrable](/docs/api/realtime-sdk/types#deferrable) and yields a [PaginatedResult](#paginated-result).</If>

</If>
<If lang="javascript,nodejs">

Returns a promise. On success, the promise is fulfilled with a new `PaginatedResult` loaded with the next page of results. If there are no further pages, then `null` is returned. On failure, the promise is rejected with an [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) object that details the reason why it was rejected.

##### current <a id="current" />

`current(): Promise<[PaginatedResult](#paginated-result>)`

Returns a promise. On success, the promise is fulfilled with a new `PaginatedResult` loaded with the current page of results. On failure, the promise is rejected with an [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) object that details the reason why it was rejected.

</If>

#### Example <a id="paginated-result-example" />

<If lang="javascript">

<Code>
```javascript
const paginatedResult = await channel.history();
console.log('Page 0 item 0:' + paginatedResult.items[0].data);
const nextPage = await paginatedResult.next();
console.log('Page 1 item 1: ' + nextPage.items[1].data);
console.log('Last page?: ' + nextPage.isLast());
```
</Code>

</If>
<If lang="nodejs">

<Code>
```nodejs
const paginatedResult = await channel.history();
console.log('Page 0 item 0:' + paginatedResult.items[0].data);
const nextPage = await paginatedResult.next();
console.log('Page 1 item 1: ' + nextPage.items[1].data);
console.log('Last page?: ' + nextPage.isLast());
```
</Code>

</If>
<If lang="java">

<Code>
```java
PaginatedResult firstPage = channel.history();
System.out.println("Page 0 item 0:" + firstPage.items[0].data);
if (firstPage.hasNext) {
  PaginatedResult nextPage = firstPage.next();
  System.out.println("Page 1 item 1:" + nextPage.items[1].data);
  System.out.println("More pages?:" + Strong.valueOf(nextPage.hasNext()));
};
```
</Code>

</If>
<If lang="csharp">

<Code>
```csharp
PaginatedResult<Message> firstPage = await channel.HistoryAsync(null);
Message firstMessage = firstPage.Items[0];
Console.WriteLine("Page 0 item 0: " + firstMessage.data);
if (firstPage.HasNext)
{
    var nextPage = await firstPage.NextAsync();
    Console.WriteLine("Page 1 item 1:" + nextPage.Items[1].data);
    Console.WriteLine("More pages?: " + nextPage.HasNext());
}
```
</Code>

</If>
<If lang="ruby">

<Code>
```ruby
# When using the REST sync library
first_page = channel.history
puts "Page 0 item 0: #{first_page.items[0].data}"
if first_page.has_next?
  next_page = first_page.next
  puts "Page 1 item 1: #{next_page.items[1].data}"
  puts "Last page?: #{next_page.is_last?}"
end

# When using the Realtime EventMachine library
channel.history do |first_page|
  puts "Page 0 item 0: #{first_page.items[0].data}"
  if first_page.has_next?
    first_page.next do |next_page|
      puts "Page 1 item 1: #{next_page.items[1].data}"
      puts "Last page?: #{next_page.is_last?}"
    end
  end
end
```
</Code>

</If>
<If lang="python">

<Code>
```python
result_page = channel.history()
print 'Page 0 item 0: ' + str(result_page.items[0].data)
if result_page.has_next():
  next_page = result_page.next()
  print 'Page 1 item 1: ' + str(next_page.items[1].data)
  print 'Last page?: ' + str(next_page.is_last())
```
</Code>

</If>
<If lang="php">

<Code>
```php
$firstPage = $channel.history();
echo("Page 0 item 0: " . $firstPage->items[0]->data);
if ($firstPage->hasNext()) {
  $nextPage = $firstPage->next();
  echo("Page 1 item 1: " . $nextPage->items[1]->data);
  echo("Last page?: " . $nextPage->isLast());
}
```
</Code>

</If>
<If lang="objc">

<Code>
```objc
[channel history:^(ARTPaginatedResult<ARTMessage *> *paginatedResult, ARTErrorInfo *error) {
    NSLog(@"Page 0 item 0: %@", paginatedResult.items[0].data);
    [paginatedResult next:^(ARTPaginatedResult<ARTMessage *> *nextPage, ARTErrorInfo *error) {
        NSLog(@"Page 1 item 1: %@", nextPage.items[1].data);
        NSLog(@"Last page?: %d", nextPage.isLast());
    }];
}];
```
</Code>

</If>
<If lang="swift">

<Code>
```swift
channel.history { paginatedResult, error in
    guard let paginatedResult = paginatedResult else {
        print("No results available")
        return
    }
    print("Page 0 item 0: \((paginatedResult.items[0] as! ARTMessage).data)")
    paginatedResult.next { nextPage, error in
        guard let nextPage = nextPage else {
            print("No next page available")
            return
        }
        print("Page 1 item 1: \((nextPage.items[1] as! ARTMessage).data)")
        print("Last page? \(nextPage.isLast())")
    }
}
```
</Code>

</If>
<If lang="go">

<Code>
```go
  page0, err := channel.History(nil)
  fmt.Println("Page. 0 item 0: %s\n", page0.Messages[0].Data)
  page1, err := page0.Next()
  fmt.Println("Page. 1 item 1: %s\n", page1.Messages[1].Data)
  fmt.Println("Last page? %s\n", page1.IsLast())
```
</Code>

</If>

### HttpPaginatedResponse <a id="http-paginated-response" />

An `HttpPaginatedResponse` is a superset of [`PaginatedResult`](/docs/api/rest-sdk/types#paginated-result), which is a type that represents a page of results plus metadata indicating the relative queries available to it. `HttpPaginatedResponse` additionally carries information about the response to an HTTP request. It is used when [making custom HTTP requests](/docs/api/rest-sdk#request).

#### <If lang="javascript,nodejs,objc,swift,flutter,php,go,csharp">Properties</If><If lang="java">Members</If><If lang="ruby,python">Attributes</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="javascript,nodejs,flutter,java,objc,swift,php,ruby,python">items</If><If lang="csharp,go">Items</If> | Contains a page of results; for example, an array of [`Message`](#message) or [`PresenceMessage`](#presence-message) objects for a channel history request | <If lang="javascript,nodejs,flutter,java,objc,swift,php,ruby,go">`Array<>`</If><If lang="python">`List<>`</If><If lang="csharp">`Array<>`</If> |
| <If lang="javascript,nodejs,flutter,java,objc,swift,php,python">statusCode</If><If lang="ruby">status_code</If><If lang="csharp,go">StatusCode</If> | The HTTP status code of the response | `Number` |
| <If lang="javascript,nodejs,flutter,java,objc,swift,php,ruby,python">success</If><If lang="csharp,go">Success</If> | Whether the HTTP status code indicates success. This is equivalent to <If lang="javascript,nodejs,flutter,java,objc,swift,php,python">`200 <= statusCode < 300`</If><If lang="ruby">`200 <= status_code < 300`</If><If lang="csharp,go">`200 <= StatusCode < 300`</If> | `Boolean` |
| <If lang="javascript,nodejs,flutter,java,objc,swift,php,ruby,python">headers</If><If lang="csharp,go">Headers</If> | The headers of the response | `Object` |
| <If lang="javascript,nodejs,flutter,java,objc,swift,php,python">errorCode</If><If lang="ruby">error_code</If><If lang="csharp,go">ErrorCode</If> | The error code if the `X-Ably-Errorcode` HTTP header is sent in the response | <If lang="javascript,nodejs">`Number`</If><If lang="flutter,java,objc,swift,php,ruby,python,go,csharp">`Int`</If> |
| <If lang="javascript,nodejs,flutter,java,objc,swift,php,python">errorMessage</If><If lang="ruby">error_message</If><If lang="csharp,go">ErrorMessage</If> | The error message if the `X-Ably-Errormessage` HTTP header is sent in the response | `String` |

#### Methods

##### <If lang="javascript,nodejs,flutter,java,objc,swift,ruby,go,python,php">first</If><If lang="csharp">First</If>

<If lang="javascript,nodejs">

`first(): Promise<HttpPaginatedResponse>`

</If>
<If lang="ruby">

`HttpPaginatedResponse first`

</If>
<If lang="php">

`HttpPaginatedResponse first()`

</If>
<If lang="python">

`HttpPaginatedResponsefirst()`

</If>
<If lang="csharp">

`Task<HttpPaginatedResponse<T>> FirstAsync()`

</If>
<If lang="java">

`HttpPaginatedResponse first()`

</If>
<If lang="objc,swift">

`first(callback: (ARTHttpPaginatedResponse?, ARTErrorInfo?) -> Void)`

</If>
<If lang="go">

`First() (HttpPaginatedResponse, error)`

</If>
<If lang="flutter">

`first(callback(ErrorInfo err, HttpPaginatedResponse resultPage))`

</If>

<If lang="flutter,java,objc,swift,csharp,php,python,go,ruby">

Returns a new `HttpPaginatedResponse` for the first page of results. <If lang="ruby">When using the Realtime library, the `first` method returns a [Deferrable](/docs/api/realtime-sdk/types#deferrable) and yields an [`HttpPaginatedResponse`](/docs/api/realtime-sdk/types#http-paginated-response).</If><If lang="csharp">The method is asynchronous and returns a Task which needs to be awaited to get the `HttpPaginatedResponse`.</If>

</If>
<If lang="javascript,nodejs">

Returns a promise. On success, the promise is fulfilled with a new `HttpPaginatedResponse` for the first page of results. On failure, the promise is rejected with an [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) object that details the reason why it was rejected.

</If>

##### <If lang="javascript,nodejs,flutter,java,php,objc,swift">hasNext</If><If lang="csharp,go">HasNext</If><If lang="ruby">has_next?</If><If lang="python">has_next</If>

<If lang="javascript,nodejs,flutter,php,java,swift,objc">

`Boolean hasNext()`

</If>
<If lang="ruby">

`Boolean has_next?`

</If>
<If lang="python">

`Boolean has_next()`

</If>
<If lang="csharp">

`Boolean HasNext()`

</If>
<If lang="go">

`HasNext() (bool)`

</If>

Returns `true` if there are more pages available by calling <If lang="javascript,nodejs,objc,swift,php,python,ruby,java,flutter">`next`</If><If lang="csharp,go">`Next`</If> and returns `false` if this page is the last page available.

##### <If lang="javascript,nodejs,flutter,php,objc,swift,java">isLast</If><If lang="csharp,go">IsLast</If><If lang="ruby">last?</If><If lang="python">is_last</If>

<If lang="javascript,nodejs,flutter,php,java,swift,objc">

`Boolean isLast()`

</If>
<If lang="ruby">

`Boolean last?`

</If>
<If lang="python">

`Boolean is_last()`

</If>
<If lang="csharp">

`Boolean IsLast()`

</If>
<If lang="go">

`IsLast() (bool)`

</If>

Returns `true` if this page is the last page and returns `false` if there are more pages available by calling <If lang="javascript,nodejs,objc,swift,php,python,ruby,java,flutter">`next`</If><If lang="csharp,go">`Next`</If> available.

##### <If lang="javascript,nodejs,flutter,php,objc,swift,java,python,ruby">next</If><If lang="csharp,go">Next</If>

<If lang="javascript,nodejs">

`next(): Promise<HttpPaginatedResponse>`

</If>
<If lang="ruby">

`HttpPaginatedResponse next`

</If>
<If lang="php">

`HttpPaginatedResponse next()`

</If>
<If lang="python">

`HttpPaginatedResponse next()`

</If>
<If lang="csharp">

`Task<HttpPaginatedResponse <T>> NextAsync()`

</If>
<If lang="java">

`HttpPaginatedResponse next()`

</If>
<If lang="objc,swift">

`next(callback: (ARTHttpPaginatedResponse?, ARTErrorInfo?) -> Void)`

</If>
<If lang="go">

Next() (HttpPaginatedResponse, error)`

</If>
<If lang="flutter">

`next(callback(ErrorInfo err, HttpPaginatedResponse resultPage))`

</If>

<If lang="objc,swift,flutter,java,ruby,go,python,php,csharp">

Returns a new `HttpPaginatedResponse` loaded with the next page of results. If there are no further pages, then <If lang="flutter,go,php">`null`</If><If lang="csharp">a blank HttpPaginatedResponse will be returned</If><If lang="java">`Null`</If><If lang="python">`None`</If><If lang="objc,swift,go">`nil`</If> is returned. <If lang="csharp">The method is asynchronous and return a Task which needs to be awaited to get the `HttpPaginatedResponse`</If><If lang="ruby">When using the Realtime library, the `first` method returns a [Deferrable](/docs/api/realtime-sdk/types#deferrable) and yields an [HttpPaginatedResponse](/docs/api/realtime-sdk/types#http-paginated-response).</If>

</If>
<If lang="javascript,nodejs">

Returns a promise. On success, the promise is fulfilled with a new `HttpPaginatedResponse` loaded with the next page of results. If there are no further pages, then `null` is returned. On failure, the promise is rejected with an [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) object that details the reason why it was rejected.

##### current <a id="current" />

`current(): Promise<HttpPaginatedResponse>`

Returns a promise. On success, the promise is fulfilled with a new `HttpPaginatedResponse` loaded with the current page of results. On failure, the promise is rejected with an [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) object that details the reason why it was rejected.

</If>

##### Example

The `HttpPaginatedResponse` interface is a superset of `PaginatedResult`, see the [`PaginatedResult` example](/docs/api/rest-sdk/types/#paginated-result-example)

<If lang="java">

### io.ably.lib.types.Param <a id="param" />

`Param` is a type encapsulating a key/value pair. This type is used frequently in method parameters allowing key/value pairs to be used more flexible, see [`Channel#history`](/docs/api/realtime-sdk/history#channel-history) for an example.

</If>

Please note that `key` and `value` attributes are always strings. If an `Integer` or other value type is expected, then you must coerce that type into a `String`.

<If lang="java">

#### Members

| Parameter | Description | Type |
|-----------|-------------|------|
| key | The key value | `String` |
| value | The value associated with the `key` | `String` |

</If>

### <If lang="javascript,nodejs,flutter,python,go">TokenDetails</If><If lang="objc,swift">ARTTokenDetials</If><If lang="java">io.ably.lib.types.TokenDetails</If><If lang="ruby">Ably::Models::TokenDetails</If><If lang="php">Ably\Models\TokenDetails</If><If lang="csharp">IO.Ably.TokenDetails</If>

`TokenDetails` is a type providing details of Ably Token string and its associated metadata.

#### <If lang="javascript,nodejs,flutter,php,go,python,objc,swift,csharp">Properties</If><If lang="java">Members</If><If lang="ruby">Attributes</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="javascript,nodejs,flutter,java,objc,swift,php,ruby,python">token</If><If lang="csharp,go">Token</If> | The [Ably Token](/docs/api/realtime-sdk/authentication#token-details) itself. A typical [Ably Token](/docs/api/realtime-sdk/authentication#token-details) string may appear like `{{TOKEN}}` | `String` |
| <If lang="javascript,nodejs,flutter,java,objc,swift,php,ruby,python">expires</If><If lang="csharp,go">Expires</If> | <If lang="javascript,nodejs,flutter,java,php,python">The time (in milliseconds since the epoch)</If><If lang="ruby,objc,swift">The time</If> at which this token expires | <If lang="javascript,nodejs,flutter,php,python">`Integer`</If><If lang="java">`Long Integer`</If><If lang="csharp">`DateTimeOffset`</If><If lang="ruby">`Time`</If><If lang="objc,swift">`NSDate`</If> |
| <If lang="javascript,nodejs,flutter,java,objc,swift,php,ruby,python">issued</If><If lang="csharp,go">Issued</If> | <If lang="javascript,nodejs,flutter,java,php,python">The time (in milliseconds since the epoch)</If><If lang="ruby,objc,swift">The time</If> at which this token was issued | <If lang="javascript,nodejs,flutter,php,python">`Integer`</If><If lang="java">`Long Integer`</If><If lang="csharp">`DateTimeOffset`</If><If lang="ruby">`Time`</If><If lang="objc,swift">`NSDate`</If> |
| <If lang="javascript,nodejs,flutter,java,objc,swift,php,ruby,python">capability</If><If lang="csharp,go">Capability</If> | The capability associated with this [Ably Token](/docs/api/realtime-sdk/authentication#token-details). The capability is a a JSON stringified canonicalized representation of the resource paths and associated operations. [Read more about authentication and capabilities](/docs/auth/capabilities) | <If lang="javascript,nodejs,flutter,java,objc,swift,php,ruby,python,go">`String`</If><If lang="csharp">`Capability`</If> |
| <If lang="javascript,nodejs,flutter,java,objc,swift,php">clientId</If><If lang="ruby,python">client_id</If><If lang="csharp,go">ClientId</If> | The client ID, if any, bound to this [Ably Token](/docs/api/realtime-sdk/authentication#token-details). If a client ID is included, then the [Ably Token](/docs/api/realtime-sdk/authentication#token-details) authenticates its bearer as that client ID, and the [Ably Token](/docs/api/realtime-sdk/authentication#token-details) may only be used to perform operations on behalf of that client ID. The client is then considered to be an [identified client](/docs/auth/identified-clients) | `String` |

<If lang="ruby">

#### Methods

| Method | Description | Returns |
|--------|-------------|---------|
| expired? | True when the token has expired | `Boolean` |

</If>
<If lang="python">

#### Methods

| Method | Description | Returns |
|--------|-------------|---------|
| is_expired() | True when the token has expired | `Boolean` |

</If>
<If lang="csharp">

#### Methods

| Method | Description | Returns |
|--------|-------------|---------|
| IsValidToken() | True if the token has not expired | `Boolean` |

</If>

###  TokenDetails constructors

#### <If lang="javascript,nodejs,java,objc,swift,csharp,go,python,php">TokenDetails.fromJson</If><If lang="ruby">TokenDetails.from_json</If><If lang="flutter">TokenDetails.fromMap</If> <a id="token-details-from-json" />

<If lang="javascript,nodejs,java,objc,swift,csharp,go,python,php">

`TokenDetails.fromJson(String json) -> TokenDetails`

</If>
<If lang="ruby">

`TokenDetails.from_json(String json) -> TokenDetails`

</If>
<If lang="flutter">

`TokenDetails.fromMap(Map<String, dynamic> map)`

</If>

A <span lang="default">static factory method</span><span lang="flutter">named constructor</span> to create a [@TokenDetails@](/docs/api/realtime-sdk/types#token-details) from a deserialized @TokenDetails@-like <span lang="default">object or a JSON stringified @TokenDetails@</span><span lang="flutter">map</span>. This method is provided to minimize bugs as a result of differing types by platform for fields such as @timestamp@ or @ttl@. For example, in Ruby @ttl@ in the @TokenDetails@ object is exposed in seconds as that is idiomatic for the language, yet when serialized to JSON using @to_json@ it is automatically converted to the Ably standard which is milliseconds. By using the <span lang="default">@fromJson@</span><span lang="flutter">@fromMap@</span> method when constructing a @TokenDetails@, Ably ensures that all fields are consistently serialized and deserialized across platforms.

##### Parameters

<If lang="javascript,nodejs,java,objc,swift,csharp,php,python,ruby,go">

| Parameter | Description | Type |
|-----------|-------------|------|
| json | A `TokenDetails`-like deserialized object or JSON stringified `TokenDetails`. | `Object`, `String` |

</If>
<If lang="flutter">

| Parameter | Description | Type |
|-----------|-------------|------|
| map | A `TokenDetails`-like deserialized map. | `Map<String, dynamic>` |

</If>

##### Returns

A [`TokenDetails`](/docs/api/realtime-sdk/types#token-details) object

### <If lang="javascript,nodejs,flutter,go,python">TokenRequest</If><If lang="objc,swift">ARTTokenRequest</If><If lang="java">io.ably.lib.types.TokenRequest</If><If lang="ruby">Ably::Models::TokenRequest</If><If lang="csharp">IO.Ably.TokenRequest</If> <a id="token-request" />

`TokenRequest` is a type containing parameters for an Ably `TokenRequest`. [Ably Tokens](/docs/api/realtime-sdk/authentication#token-details) are requested using <If lang="javascript,nodejs,java,php,python,flutter,objc,swift,csharp,go">[Auth#requestToken](/docs/api/rest-sdk/authentication#request-token)</If><If lang="ruby">[Auth#request_token](/docs/api/rest-sdk/authentication#request-token)</If>

#### <If lang="javascript,nodejs,flutter,objc,swift,csharp,go,python,php">Properties</If><If lang="java">Members</If><If lang="ruby">Attributes</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="javascript,nodejs,flutter,objc,swift,php,java">keyName</If><If lang="ruby,python">key_name</If><If lang="csharp,go">KeyName</If> | The key name of the key against which this request is made. The key name is public, whereas the key secret is private | `String` |
| <If lang="javascript,nodejs,flutter,objc,swift,php,java,ruby,python,go">ttl</If><If lang="csharp">Ttl</If> | Requested time to live for the [Ably Token](/docs/api/realtime-sdk/authentication#token-details) <If lang="javascript,nodejs,flutter,objc,swift,php,java,python">in milliseconds</If><If lang="ruby">in seconds</If><If lang="csharp,go">as a `TimeSpan`</If>. If the Ably `TokenRequest` is successful, the TTL of the returned [Ably Token](/docs/api/realtime-sdk/authentication#token-details) will be less than or equal to this value depending on application settings and the attributes of the issuing key. | <If lang="javascript,nodejs,flutter,php,java,python,ruby,go">`Integer`</If><If lang="csharp">`TimeSpan`</If><If lang="swift,objc">`NSTimeInterval`</If> |
| <If lang="javascript,nodejs,flutter,objc,swift,php,java,ruby,python">timestamp</If><If lang="csharp,go">Timestamp</If> | The timestamp of this request<If lang="javascript,nodejs,flutter,objc,swift,php,java,python"> in milliseconds</If> | <If lang="javascript,nodejs,flutter,php,python,go">`Integer`</If><If lang="java">`Long Integer`</If><If lang="ruby">`Time`</If><If lang="csharp">`DateTimeOffset`</If><If lang="swift,objc">`NSDate`</If> |
| <If lang="javascript,nodejs,flutter,objc,swift,php,java,ruby,python">capability</If><If lang="csharp,go">Capability</If> | Capability of the requested [Ably Token](/docs/api/realtime-sdk/authentication#token-details). If the Ably `TokenRequest` is successful, the capability of the returned [Ably Token](/docs/api/realtime-sdk/authentication#token-details) will be the intersection of this capability with the capability of the issuing key. The capability is a JSON stringified canonicalized representation of the resource paths and associated operations. [Read more about authentication and capabilities](/docs/auth) | `String` |
| <If lang="javascript,nodejs,flutter,objc,swift,php,java">clientId</If><If lang="ruby,python">client_id</If><If lang="csharp,go">ClientId</If> | The client ID to associate with the requested [Ably Token](/docs/api/realtime-sdk/authentication#token-details). When provided, the [Ably Token](/docs/api/realtime-sdk/authentication#token-details) may only be used to perform operations on behalf of that client ID | `String` |
| <If lang="javascript,nodejs,flutter,objc,swift,php,java,ruby,python">nonce</If><If lang="csharp,go">Nonce</If> | An opaque nonce string of at least 16 characters | `String` |
| <If lang="javascript,nodejs,flutter,objc,swift,php,java,ruby,python">mac</If><If lang="csharp,go">Mac</If> | The Message Authentication Code for this request | `String` |

### TokenRequest constructors

#### <If lang="javascript,nodejs,java,objc,swift,csharp,php,python,go">TokenRequest.fromJson</If><If lang="ruby">TokenRequest.from_json</If><If lang="flutter">TokenRequest.fromMap</If> <a id="token-request-from-json" />

<If lang="javascript,nodejs,java,objc,swift,csharp,php,python,go">

`TokenRequest.fromJson(String json) -> TokenRequest`

</If>
<If lang="ruby">

`TokenRequest.from_json(String json) -> TokenRequest`

</If>
<If lang="flutter">

`TokenRequest.fromMap(Map<String, dynamic> map)`

</If>

A <If lang="javascript,nodejs,java,objc,swift,csharp,php,python,go,ruby">static factory method</If><If lang="flutter">named constructor</If> to create a [`TokenRequest`](/docs/api/realtime-sdk/types#token-request) from a deserialized `TokenRequest`-like <If lang="javascript,nodejs,java,objc,swift,csharp,php,python,go,ruby">object or a JSON stringified `TokenRequest`</If><If lang="flutter">map</If>. This method is provided to minimize bugs as a result of differing types by platform for fields such as `timestamp` or `ttl`. For example, in Ruby `ttl` in the `TokenRequest` object is exposed in seconds as that is idiomatic for the language, yet when serialized to JSON using `to_json` it is automatically converted to the Ably standard which is milliseconds. By using the <If lang="javascript,nodejs,java,objc,swift,csharp,php,python,go,ruby">`fromJson`</If><If lang="flutter">`fromMap`</If> method when constructing a `TokenRequest`, Ably ensures that all fields are consistently serialized and deserialized across platforms.

##### Parameters

<If lang="javascript,nodejs,java,objc,swift,csharp,php,python,go,ruby">

| Parameter | Description | Type |
|-----------|-------------|------|
| json | A `TokenRequest`-like deserialized object or JSON stringified `TokenRequest`. | `Object`, `String` |

</If>
<If lang="flutter">

| Parameter | Description | Type |
|-----------|-------------|------|
| map | A `TokenRequest`-like deserialized map. | `Map<String, dynamic>` |

</If>

##### Returns

A [`TokenRequest`](/docs/api/realtime-sdk/types#token-request) object

### <If lang="javascript,nodejs,flutter,go,python">Stats object</If><If lang="objc,swift">ARTStats</If><If lang="java">io.ably.lib.types.Stats</If><If lang="ruby">Ably::Models::Stats</If><If lang="php">Ably\Models\Stats</If><If lang="csharp">IO.Ably.Stats</If> <a id="stats" />

A `Stats` object represents an application's statistics for the specified interval and time period. Ably aggregates statistics globally for all accounts and applications, and makes these available both through our [statistics API](/docs/metadata-stats/stats) as well as your [application dashboard](https://ably.com/dashboard).

<If lang="java,flutter,objc,swift,csharp,ruby,php,go,python">

Please note that most attributes of the @Stats@ type below contain references to further stats types. This documentation is not exhaustive for all stats types, and as such, links to the stats types below will take you to the [Ruby library stats documentation](https://www.rubydoc.info/gems/ably/Ably/Models/Stats) which contains exhaustive stats documentation. Ruby and Python however uses @under_score@ case instead of the default @camelCase@ in most languages, so please bear that in mind.

</If>

##### <If lang="javascript,nodejs,flutter,php,go,objc,swift,csharp">Properties</If><If lang="java">Members</If><If lang="ruby">Attributes</If><If lang="python">Keyword arguments</If>

<If lang="java,flutter,objc,swift,csharp,ruby,php,go,python">

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="java,flutter,php">unit</If><If lang="objc,swift">unit</If><If lang="csharp,go">unit</If><If lang="ruby,python">unit</If> | The length of the interval that this statistic covers, such as <If lang="ruby">`:minute`, `:hour`, `:day`, `:month`</If><If lang="csharp">`Minute`, `Hour`, `Day`, `Month`</If><If lang="go">`StatGranularityDay`, `StatGranularityMonth`</If><If lang="java,flutter,php,objc,swift,python">`'minute'`, `'hour'`, `'day'`, `'month'`</If>. | <If lang="ruby">[`Stats::GRANULARITY`](https://www.rubydoc.info/gems/ably/Ably/Models/Stats#GRANULARITY-constant)</If><If lang="csharp">[`StatsIntervalGranularity`](/docs/api/realtime-sdk/types#stats-granularity) enum</If><If lang="objc,swift">`ARTStatsGranularity`</If><If lang="java,flutter,php,python,go">`String`</If> |
| <If lang="ruby,python">interval_granularity</If><If lang="objc,swift,csharp,flutter,php,java">intervalGranularity</If> | Deprecated alias for `unit`; scheduled to be removed in version 2.x client library versions. | <If lang="ruby">[`Stats::GRANULARITY`](https://www.rubydoc.info/gems/ably/Ably/Models/Stats#GRANULARITY-constant)</If><If lang="csharp">[`StatsIntervalGranularity`](/docs/api/realtime-sdk/types#stats-granularity) enum</If><If lang="objc,swift">`ARTStatsGranularity`</If><If lang="flutter,php,java,python">`String`</If> |
| <If lang="java,flutter,php,objc,swift">intervalId</If><If lang="ruby,python">interval_id</If><If lang="csharp,go">IntervalId</If> | The UTC time at which the time period covered by this `Stats` object starts. For example, an interval ID value of "2018-03-01:10" in a `Stats` object whose `unit` is `day` would indicate that the period covered is "2018-03-01:10 .. 2018-03-01:11". All `Stats` objects, except those whose `unit` is `minute`, have an interval ID with resolution of one hour and the time period covered will always begin and end at a UTC hour boundary. For this reason it is not possible to infer the `unit` by looking at the resolution of the `intervalId`. `Stats` objects covering an individual minute will have an interval ID indicating that time; for example "2018-03-01:10:02". | `String` |
| <If lang="ruby,python">interval_time</If><If lang="csharp,go">IntervalTime</If> | A <If lang="ruby">`Time`</If><If lang="python">`DateTime`</If><If lang="csharp,go">`DateTimeOffset`</If> object representing the parsed <If lang="java,flutter,php,objc,swift">`intervalId`</If><If lang="ruby,python">`interval_id`</If><If lang="csharp,go">`IntervalId`</If> (the UTC time at which the time period covered by this `Stats` object starts) | <If lang="ruby">`Time`</If><If lang="python">`DateTime`</If><If lang="csharp,go">`DateTimeOffset`</If> |
| <If lang="java,flutter,php,objc,swift,ruby,python">all</If><If lang="csharp,go">All</If> | Aggregate count of both `inbound` and `outbound` message stats | [`MessageTypes`](https://www.rubydoc.info/gems/ably/Ably/Models/Stats/MessageTypes) |
| <If lang="java,flutter,php,objc,swift">apiRequests</If><If lang="ruby,python">api_requests</If><If lang="csharp,go">ApiRequests</If> | Breakdown of API requests received via the Ably REST API | [`RequestCount`](https://www.rubydoc.info/gems/ably/Ably/Models/Stats/RequestCount) |
| <If lang="java,flutter,php,objc,swift,ruby,python">channels</If><If lang="csharp,go">Channels</If> | Breakdown of channel related stats such as min, mean and peak channels | [`ResourceCount`](https://www.rubydoc.info/gems/ably/Ably/Models/Stats/ResourceCount) |
| <If lang="java,flutter,php,objc,swift,ruby,python">connections</If><If lang="csharp,go">Connections</If> | Breakdown of connection related stats such as min, mean and peak connections for TLS and non-TLS connections | [`ConnectionTypes`](https://www.rubydoc.info/gems/ably/Ably/Models/Stats/ConnectionTypes) |
| <If lang="java,flutter,php,objc,swift,ruby,python">inbound</If><If lang="csharp,go">Inbound</If> | Statistics such as count and data for all inbound messages received over REST and Realtime connections, organized into normal channel messages or presence messages | [`MessageTraffic`](https://www.rubydoc.info/gems/ably/Ably/Models/Stats/MessageTraffic) |
| <If lang="java,flutter,php,objc,swift,ruby,python">outbound</If><If lang="csharp,go">Outbound</If> | Statistics such as count and data for all outbound messages retrieved via REST history requests, received over Realtime connections, or pushed with Webhooks, organized into normal channel messages or presence messages | [`MessageTraffic`](https://www.rubydoc.info/gems/ably/Ably/Models/Stats/MessageTraffic) |
| <If lang="java,flutter,php,objc,swift,ruby,python">persisted</If><If lang="csharp,go">Persisted</If> | Messages persisted and later retrieved via the [history API](/docs/storage-history/history) | [`MessageTypes`](https://www.rubydoc.info/gems/ably/Ably/Models/Stats/MessageTypes) |
| <If lang="java,flutter,php,objc,swift">tokenRequests</If><If lang="ruby,python">token_requests</If><If lang="csharp,go">TokenRequests</If> | Breakdown of Ably Token requests received via the Ably REST API. | [`RequestCount`](https://www.rubydoc.info/gems/ably/Ably/Models/Stats/RequestCount) |
| <If lang="java,flutter,php,objc,swift,ruby,python">push</If><If lang="csharp,go">Push</If> | Detailed stats on push notifications, see [our Push documentation](/push) for more details | `PushStats` |

</If>
<If lang="javascript,nodejs">

| Parameter | Description | Type |
|-----------|-------------|------|
| appId | The ID of the Ably application the statistics relate to. | `String` |
| entries | The statistics for the requested time interval and time period. The `schema` property provides further information | `Partial<Record<String, Number>>` |
| inProgress | Optional. For entries that are still in progress, such as the current month, the last sub-interval included in the stats entry. In the format `yyyy-mm-dd:hh:mm:ss` | `String` |
| intervalId | The UTC time period that the stats coverage begins at. If `unit` was requested as `minute` this will be in the format `YYYY-mm-dd:HH:MM`, if `hour` it will be `YYYY-mm-dd:HH`, if `day` it will be `YYYY-mm-dd:00` and if `month` it will be `YYYY-mm-01:00` | `String` |
| schema | The URL of a JSON schema describing the structure of the `Stats` object | `String` |

</If>

<If lang="javascript,nodejs,objc,swift,csharp">

### <If lang="javascript,objc,csharp">StatsIntervalGranularity</If><If lang="objc,swift">ARTStatsGranularity</If> <a id="stats-granularity" />

<If lang="javascript,nodejs">

`StatsIntervalGranularity` is an enum specifying the granularity of a [`Stats interval`](/docs/api/rest-sdk/statistics#stats-type).

<If lang="javascript">

<Code>
```javascript
  const StatsIntervalGranularity = [
      'minute',
      'hour',
      'day',
      'month'
  ]
```
</Code>

</If>
<If lang="nodejs">

<Code>
```nodejs
  const StatsIntervalGranularity = [
      'minute',
      'hour',
      'day',
      'month'
  ]
```
</Code>

</If>
</If>

<If lang="objc,swift">

`ARTStatsGranularity` is an enum specifying the granularity of a [`ARTStats interval`](/docs/api/rest-sdk/statistics#stats-type).

<If lang="objc">

<Code>
```objc
  typedef NS_ENUM(NSUInteger, ARTStatsGranularity) {
      ARTStatsGranularityMinute,
      ARTStatsGranularityHour,
      ARTStatsGranularityDay,
      ARTStatsGranularityMonth
  };
```
</Code>

</If>
<If lang="swift">

<Code>
```swift
  enum ARTStatsGranularity : UInt {
      case Minute
      case Hour
      case Day
      case Month
  }
```
</Code>

</If>
<If lang="csharp">

`StatsIntervalGranularity` is an enum specifying the granularity of a [`Stats interval`](/docs/api/rest-sdk/statistics#stats-type).

<Code>
```csharp
  public enum StatsIntervalGranularity
  {
      Minute,
      Hour,
      Day,
      Month
  }
```
</Code>

<If lang="csharp">

### IO.Ably.PaginatedRequestParams <a id="paginated-request-params" />

`HistoryRequestParams` is a type that encapsulates the parameters for a history queries. For example usage see [`Channel#History`](/docs/api/realtime-sdk/history#channel-history).

</If>

##### Members

| Parameter | Description | Type |
|-----------|-------------|------|
| Start | The start of the queried interval. The default is null. | `DateTimeOffset` |
| End | The end of the queried interval. The default is null. | `DateTimeOffset` |
| Limit | Limits the number of items returned by history or stats. By default it is null. | `Integer` |
| Direction | Enum which is either `Forwards` or `Backwards`. The default is `Backwards`. | `Direction` enum |
| ExtraParameters | Optionally any extra query parameters that may be passed to the query. This is mainly used internally by the library to manage paging. | `Dictionary<string, string>` |

</If>
</If>
</If>

<If lang="javascript,nodejs">

### BatchPublishSpec <a id="batch-publish-spec" />

A `BatchPublishSpec` describes the messages that should be published by a batch publish operation, and the channels to which they should be published.

#### Properties

| Parameter | Description | Type |
|-----------|-------------|------|
| channels | The names of the channels to publish the `messages` to | `String[]` |
| messages | An array of [`Message`](/docs/api/realtime-sdk/types#message) objects | [`Message[]`](/docs/api/realtime-sdk/types#message) |

### BatchResult <a id="batch-result" />

A `BatchResult` contains information about the results of a batch operation.

#### Properties

| Parameter | Description | Type |
|-----------|-------------|------|
| successCount | The number of successful operations in the request | `Number` |
| failureCount | The number of unsuccessful operations in the request | `Number` |
| messages | An array of results for the batch operation (for example, an array of [`BatchPublishSuccessResult`](/docs/api/realtime-sdk/types#batch-publish-success-result) or [`BatchPublishFailureResult`](/docs/api/realtime-sdk/types#batch-publish-failure-result) for a channel batch publish request) | `Object[]` |

### BatchPublishSuccessResult <a id="batch-publish-success-result" />

A `BatchPublishSuccessResult` contains information about the result of successful publishes to a channel requested by a single [`BatchPublishSpec`](/docs/api/realtime-sdk/types#batch-publish-spec).

#### Properties

| Parameter | Description | Type |
|-----------|-------------|------|
| channel | The name of the channel the message(s) was published to | `String` |
| messageId | A unique ID prefixed to the `Message.id` of each published message | `String` |

### BatchPublishFailureResult <a id="batch-publish-failure-result" />

A `BatchPublishFailureResult` contains information about the result of unsuccessful publishes to a channel requested by a single [`BatchPublishSpec`](/docs/api/realtime-sdk/types#batch-publish-spec).

#### Properties

| Parameter | Description | Type |
|-----------|-------------|------|
| channel | The name of the channel the message(s) failed to be published to | `String` |
| error | Describes the reason for which the message(s) failed to publish to the channel as an [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) object | [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) |

### BatchPresenceSuccessResult <a id="batch-presence-success-result" />

A `BatchPresenceSuccessResult` contains information about the result of a successful batch presence request for a single channel.

#### Properties

| Parameter | Description | Type |
|-----------|-------------|------|
| channel | The channel name the presence state was retrieved for | `String` |
| presence | An array of [`PresenceMessage`](/docs/api/realtime-sdk/types#presence-message) describing members present on the channel | [`PresenceMessage[]`](/docs/api/realtime-sdk/types#presence-message) |

### BatchPresenceFailureResult <a id="batch-presence-failure-result" />

A BatchPresenceFailureResult contains information about the result of an unsuccessful batch presence request for a single channel.

#### Properties

| Parameter | Description | Type |
|-----------|-------------|------|
| channel | The channel name the presence state failed to be retrieved for | `String` |
| error | Describes the reason for which presence state could not be retrieved for the channel as an [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) object | [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) |

### TokenRevocationSuccessResult <a id="token-revocation-success-result" />

A `TokenRevocationSuccessResult` contains information about the result of a successful token revocation request for a single target specifier.

#### Properties

| Parameter | Description | Type |
|-----------|-------------|------|
| target | The target specifier | `String` |
| appliesAt | The time at which the token revocation will take effect, as a Unix timestamp in milliseconds | `Number` |
| issuedBefore | A Unix timestamp in milliseconds. Only tokens issued earlier than this time will be revoked | `Number` |

### TokenRevocationFailureResult <a id="token-revocation-failure-result" />

A `TokenRevocationFailureResult` contains information about the result of an unsuccessful token revocation request for a single target specifier.

#### Properties

| Parameter | Description | Type |
|-----------|-------------|------|
| target | The target specifier | `String` |
| error | Describes the reason for which token revocation failed for the given `target` as an [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) object | [`ErrorInfo`](/docs/api/realtime-sdk/types#error-info) |

</If>

## REST Other types

### <If lang="javascript,nodejs,flutter,go,python">AuthOptions Object</If><If lang="objc,swift">ARTAuthOptions</If><If lang="ruby">AuthOptions Hash</If><If lang="php">AuthOptions Array</If><If lang="java">io.ably.lib.rest.Auth.AuthOptions</If><If lang="csharp">IO.Ably.AuthOptions</If> <a id="auth-options" />

<If lang="javascript,nodejs">

`AuthOptions` is a plain JavaScript object and is used when making [authentication](/docs/auth) requests. If passed in, an `authOptions` object will be used instead of (as opposed to supplementing or being merged with) the default values given when the library was instantiated. The following attributes are supported:

</If>
<If lang="ruby">

`AuthOptions` is a Hash object and is used when making [authentication](/docs/auth) requests. These options will supplement or override the corresponding options given when the library was instantiated. The following key symbol values can be added to the Hash:

</If>
<If lang="python">

`AuthOptions` is a Dict and is used when making [authentication](/docs/auth) requests. These options will supplement or override the corresponding options given when the library was instantiated. The following key symbol values can be added to the Dict:

</If>
<If lang="php">

`AuthOptions` is an Associative Array and is used when making [authentication](/docs/auth) requests. These options will supplement or override the corresponding options given when the library was instantiated. The following named keys and values can be added to the Associative Array:

</If>
<If lang="java,swift,objc,go">

<If lang="swift,objc">`ART`</If>`AuthOptions` is used when making [authentication](/docs/auth) requests. These options will supplement or override the corresponding options given when the library was instantiated.

</If>

#### <If lang="javascript,nodejs,flutter,objc,swift,csharp,go,php">Properties</If><If lang="java">Members</If><If lang="ruby,python">Attributes</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">authCallback</If><If lang="csharp,go">AuthCallback</If><If lang="python">auth_callback</If><If lang="ruby">:auth_callback</If> | A <If lang="javascript,nodejs,flutter,php,objc,swift,csharp,go">function</If><If lang="javascript,nodejs">function with the form `function(tokenParams, callback(err, tokenOrTokenRequest))`</If><If lang="java">`TokenCallback` instance</If><If lang="python">callable (eg a lambda)</If><If lang="ruby">proc / lambda (called synchronously in REST and Realtime but does not block EventMachine in the latter)</If> which is called when a new token is required. The role of the callback is to obtain a fresh token, one of: an Ably Token string (in plain text format); a signed [`TokenRequest`](/docs/api/realtime-sdk/types#token-request); a [`TokenDetails`](/docs/api/realtime-sdk/types#token-details) (in JSON format); an [Ably JWT](/docs/api/realtime-sdk/authentication#ably-jwt). See [our authentication documentation](/docs/auth) for details of the Ably TokenRequest format and associated API calls. | <If lang="javascript,nodejs,flutter,php,objc,swift,go">`Callable`</If><If lang="java">`TokenCallback`</If><If lang="ruby">`Proc`</If><If lang="csharp">`Func<TokenParams, Task<object>>`</If><If lang="python">`Callable`</If> |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">authUrl</If><If lang="csharp,go">AuthUrl</If><If lang="ruby">:auth_url</If><If lang="python">auth_url</If> | A URL that the library may use to obtain a fresh token, one of: an Ably Token string (in plain text format); a signed [`TokenRequest`](/docs/api/realtime-sdk/types#token-request); a [`TokenDetails`](/docs/api/realtime-sdk/types#token-details) (in JSON format); an [Ably JWT](/docs/api/realtime-sdk/authentication#ably-jwt). For example, this can be used by a client to obtain signed Ably TokenRequests from an application server. | <If lang="javascript,nodejs,flutter,php,java,ruby,python,go">`String`</If><If lang="csharp">`Uri`</If><If lang="swift,objc">`NSURL`</If> |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">authMethod</If><If lang="csharp,go">AuthMethod</If><If lang="python">auth_method</If><If lang="ruby">:auth_method</If> | The HTTP verb to use for the request, either <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,csharp,go">`GET`</If><If lang="ruby">`:get`</If> or <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,csharp,go">`POST`</If><If lang="ruby">`:post`</If>. The default is <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,csharp,go">`GET`</If><If lang="ruby">`:get`</If>. | <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,go">`String`</If><If lang="ruby">`Symbol`</If><If lang="csharp">`HttpMethod`</If> |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">authHeaders</If><If lang="csharp,go">AuthHeaders</If><If lang="python">auth_headers</If><If lang="ruby">:auth_headers</If> | A set of key value pair headers to be added to any request made to the <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,ruby,go">`authUrl`</If><If lang="csharp">`AuthUrl`</If>. Useful when an application requires these to be added to validate the request or implement the response. <If lang="javascript">If the `authHeaders` object contains an `authorization` key, then `withCredentials` will be set on the xhr request.</If> | <If lang="javascript,nodejs,objc,swift">`Object`</If><If lang="python">`Dict`</If><If lang="ruby">`Hash`</If><If lang="php">Associative Array</If><If lang="java">`Param []`</If><If lang="csharp">`Dictionary<string, string>`</If><If lang="flutter">`Map<String, String>`</If><If lang="go">`Object`</If> |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">authParams</If><If lang="csharp,go">AuthParams</If><If lang="ruby">:auth_params</If><If lang="python">auth_params</If> | A set of key value pair params to be added to any request made to the <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,ruby">`authUrl`</If><If lang="csharp">`AuthUrl`</If>. When the <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,ruby">`authMethod`</If><If lang="csharp,go">`AuthMethod`</If> is `GET`, query params are added to the URL, whereas when <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,ruby">`authMethod`</If><If lang="csharp,go">`AuthMethod`</If> is `POST`, the params are sent as URL encoded form data. Useful when an application require these to be added to validate the request or implement the response. | <If lang="javascript,nodejs">`Object`</If><If lang="ruby">`Hash`</If><If lang="php">Associative Array</If><If lang="java">`Param[]`</If><If lang="csharp">`Dictionary<string, string>`</If><If lang="objc">`NSArray<NSURLQueryItem *>`</If><If lang="swift">`[NSURLQueryItem]/Array<NSURLQueryItem>`</If><If lang="flutter">`Map<String, String>`</If><If lang="python">`Object`</If><If lang="go">`Object`</If> |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">tokenDetails</If><If lang="csharp,go">TokenDetails</If><If lang="python">token_details</If><If lang="ruby">:token_details</If> | An authenticated [`TokenDetails`](/docs/api/realtime-sdk/types#token-details) object (most commonly obtained from an Ably Token Request response). This option is mostly useful for testing: since tokens are short-lived, in production you almost always want to use an authentication method that allows the client library to renew the token automatically when the previous one expires, such as <If lang="javascript,nodejs,flutter,php,java,objc,swift">`authUrl`</If><If lang="csharp,go">`AuthUrl`</If><If lang="ruby">`:auth_url`</If><If lang="python">`auth_url`</If> or <If lang="javascript,nodejs,flutter,php,java,objc,swift">`authCallback`</If><If lang="csharp,go">`AuthCallback`</If><If lang="python">`auth_callback`</If><If lang="ruby">`:auth_callback`</If>. Use this option if you wish to use Token authentication. Read more about [Token authentication](/docs/auth/token) | `TokenDetails` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">key</If><If lang="csharp,go">Key</If><If lang="ruby">:key</If><If lang="python">key</If> | Optionally the [API key](/docs/auth#api-key) to use can be specified as a full key string; if not, the API key passed into [`ClientOptions`](#client-options) when instancing the Realtime or REST library is used | `String` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">queryTime</If><If lang="csharp,go">QueryTime</If><If lang="ruby">:query_time</If><If lang="python">query_time</If> | If true, the library will query the Ably servers for the current time when [issuing TokenRequests](/docs/auth/token) instead of relying on a locally-available time of day. Knowing the time accurately is needed to create valid signed Ably [TokenRequests](/docs/auth/token), so this option is useful for library instances on auth servers where for some reason the server clock cannot be kept synchronized through normal means, such as an [NTP daemon](https://en.wikipedia.org/wiki/Ntpd). The server is queried for the current time once per client library instance (which stores the offset from the local clock), so if using this option you should avoid instancing a new version of the library for each request. The default is false. | `Boolean` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">token</If><If lang="csharp,go">Token</If><If lang="ruby">:token</If><If lang="python">token</If> | An authenticated token. This can either be a [`TokenDetails`](/docs/api/realtime-sdk/types#token-details) object, a [`TokenRequest`](/docs/api/realtime-sdk/types#token-request) object, or token string (obtained from the <If lang="javascript,nodejs,flutter,php,java,objc,swift,python">`token`</If><If lang="csharp,go">`Token`</If> property of a [`TokenDetails`](/docs/api/realtime-sdk/types#token-details) component of an Ably TokenRequest response, or a [JSON Web Token](https://tools.ietf.org/html/rfc7519) satisfying [the Ably requirements for JWTs](/docs/auth/token#jwt)). This option is mostly useful for testing: since tokens are short-lived, in production you almost always want to use an authentication method that allows the client library to renew the token automatically when the previous one expires, such as <If lang="javascript,nodejs,flutter,php,java,objc,swift">`authUrl`</If><If lang="csharp,go">`AuthUrl`</If><If lang="ruby">`:auth_url`</If><If lang="python">`auth_url`</If> or <If lang="javascript,nodejs,flutter,php,java,objc,swift">`authCallback`</If><If lang="csharp,go">`AuthCallback`</If><If lang="python">`auth_callback`</If><If lang="ruby">`:auth_callback`</If>. Read more about [Token authentication](/docs/auth/token) | `String`, `TokenDetails` or `TokenRequest` |


### <If lang="javascript,nodejs,flutter,python,go">ClientOptions Object</If><If lang="objc,swift">ARTClientOptions</If><If lang="ruby">ClientOptions Hash</If><If lang="php">ClientOptions Array</If><If lang="java">io.ably.types.ClientOptions</If><If lang="csharp">IO.Ably.ClientOptions</If> <a id="client-options" />

<If lang="javascript,nodejs">

`ClientOptions` is a plain JavaScript object and is used in the `Ably.Rest` constructor's `options` argument. The following attributes can be defined on the object:

</If>
<If lang="ruby">

`ClientOptions` is a Hash object and is used in the `Ably::Rest` constructor's `options` argument. The following key symbol values can be added to the Hash:

</If>
<If lang="php">

`ClientOptions` is a associative array and is used in the `Ably\AblyRest` constructor's `options` argument. The following named keys and values can be added to the associative array:

</If>
<If lang="java,objc,swift,csharp,go">

<span lang="objc,swift">`ART`</span>`ClientOptions` is used in the `AblyRest` constructor's `options` argument.

</If>
<If lang="flutter">

`ably.ClientOptions` is used in the `ably.Rest` constructor's `options` named argument

</If>

#### <If lang="javascript,nodejs,objc,swift,csharp,php,go,ruby">Properties</If><If lang="java">Members</If><If lang="ruby">Attributes</If><If lang="python">Keywords arguments</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">key</If><If lang="csharp,go">Key</If><If lang="ruby">:key</If><If lang="python">key</If> | The full key string, as obtained from the [application dashboard](https://ably.com/dashboard). Use this option if you wish to use Basic authentication, or wish to be able to issue Ably Tokens without needing to defer to a separate entity to sign Ably TokenRequests. Read more about [Basic authentication](/docs/auth/basic) | `String` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">token</If><If lang="csharp,go">Token</If><If lang="ruby">:token</If><If lang="python">token</If> | An authenticated token. This can either be a [`TokenDetails`](/docs/api/realtime-sdk/types#token-details) object, a [`TokenRequest`](/docs/api/realtime-sdk/types#token-request) object, or token string (obtained from the <If lang="javascript,nodejs,flutter,php,java,objc,swift,python">`token`</If><If lang="csharp,go">`Token`</If> property of a [`TokenDetails`](/docs/api/realtime-sdk/types#token-details) component of an Ably TokenRequest response, or a [JSON Web Token](https://tools.ietf.org/html/rfc7519) satisfying [the Ably requirements for JWTs](/docs/auth/token#jwt)). This option is mostly useful for testing: since tokens are short-lived, in production you almost always want to use an authentication method that allows the client library to renew the token automatically when the previous one expires, such as <If lang="javascript,nodejs,flutter,php,java,objc,swift">`authUrl`</If><If lang="csharp">`AuthUrl`</If><If lang="ruby">`:auth_url`</If><If lang="python">`auth_url`</If> or <If lang="javascript,nodejs,flutter,php,java,objc,swift">`authCallback`</If><If lang="csharp,go">`AuthCallback`</If><If lang="python">`auth_callback`</If><If lang="ruby">`:auth_callback`</If>. Read more about [Token authentication](/docs/auth/token) | `String`, `TokenDetails` or `TokenRequest` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">authCallback</If><If lang="csharp,go">AuthCallback</If><If lang="python">auth_callback</If><If lang="ruby">:auth_callback</If> | A <If lang="javascript,nodejs,flutter,php,objc,swift,csharp,go">function</If><If lang="javascript,nodejs">function with the form `function(tokenParams, callback(err, tokenOrTokenRequest))`</If><If lang="java">`TokenCallback` instance</If><If lang="python">callable (eg a lambda)</If><If lang="ruby">proc / lambda (called synchronously in REST and Realtime but does not block EventMachine in the latter)</If> which is called when a new token is required. The role of the callback is to obtain a fresh token, one of: an Ably Token string (in plain text format); a signed [`TokenRequest`](/docs/api/realtime-sdk/types#token-request); a [`TokenDetails`](/docs/api/realtime-sdk/types#token-details) (in JSON format); an [Ably JWT](/docs/api/realtime-sdk/authentication#ably-jwt). See [our authentication documentation](/docs/auth) for details of the Ably TokenRequest format and associated API calls. | <If lang="javascript,nodejs,flutter,php,objc,swift,go">`Callable`</If><If lang="java">`TokenCallback`</If><If lang="ruby">`Proc`</If><If lang="csharp">`Func<TokenParams, Task<object>>`</If><If lang="python">`Callable`</If> |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">authUrl</If><If lang="csharp,go">AuthUrl</If><If lang="ruby">:auth_url</If><If lang="python">auth_url</If> | A URL that the library may use to obtain a fresh token, one of: an Ably Token string (in plain text format); a signed [`TokenRequest`](/docs/api/realtime-sdk/types#token-request); a [`TokenDetails`](/docs/api/realtime-sdk/types#token-details) (in JSON format); an [Ably JWT](/docs/api/realtime-sdk/authentication#ably-jwt). For example, this can be used by a client to obtain signed Ably TokenRequests from an application server. | <If lang="javascript,nodejs,flutter,php,java,ruby,python,go">`String`</If><If lang="csharp">`Uri`</If><If lang="swift,objc">`NSURL`</If> |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">authMethod</If><If lang="csharp,go">AuthMethod</If><If lang="python">auth_method</If><If lang="ruby">:auth_method</If> | The HTTP verb to use for the request, either <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,csharp,go">`GET`</If><If lang="ruby">`:get`</If> or <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,csharp,go">`POST`</If><If lang="ruby">`:post`</If>. The default is <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,csharp,go">`GET`</If><If lang="ruby">`:get`</If>. | <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,go">`String`</If><If lang="ruby">`Symbol`</If><If lang="csharp">`HttpMethod`</If> |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">authHeaders</If><If lang="csharp,go">AuthHeaders</If><If lang="python">auth_headers</If><If lang="ruby">:auth_headers</If> | A set of key value pair headers to be added to any request made to the <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,ruby,go">`authUrl`</If><If lang="csharp">`AuthUrl`</If>. Useful when an application requires these to be added to validate the request or implement the response. <If lang="javascript">If the `authHeaders` object contains an `authorization` key, then `withCredentials` will be set on the xhr request.</If> | <If lang="javascript,nodejs,objc,swift">`Object`</If><If lang="python">`Dict`</If><If lang="ruby">`Hash`</If><If lang="php">Associative Array</If><If lang="java">`Param []`</If><If lang="csharp">`Dictionary<string, string>`</If><If lang="flutter">`Map<String, String>`</If><If lang="go">`Object`</If> |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">authParams</If><If lang="csharp,go">AuthParams</If><If lang="ruby">:auth_params</If><If lang="python">auth_params</If> | A set of key value pair params to be added to any request made to the <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,ruby">`authUrl`</If><If lang="csharp">`AuthUrl`</If>. When the <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,ruby">`authMethod`</If><If lang="csharp,go">`AuthMethod`</If> is `GET`, query params are added to the URL, whereas when <If lang="javascript,nodejs,flutter,php,java,objc,swift,python,ruby">`authMethod`</If><If lang="csharp,go">`AuthMethod`</If> is `POST`, the params are sent as URL encoded form data. Useful when an application require these to be added to validate the request or implement the response. | <If lang="javascript,nodejs">`Object`</If><If lang="ruby">`Hash`</If><If lang="php">Associative Array</If><If lang="java">`Param[]`</If><If lang="csharp">`Dictionary<string, string>`</If><If lang="objc">`NSArray<NSURLQueryItem *>`</If><If lang="swift">`[NSURLQueryItem]/Array<NSURLQueryItem>`</If><If lang="flutter">`Map<String, String>`</If><If lang="python">`Object`</If><If lang="go">`Object`</If> |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">tokenDetails</If><If lang="csharp,go">TokenDetails</If><If lang="python">token_details</If><If lang="ruby">:token_details</If> | An authenticated [`TokenDetails`](/docs/api/realtime-sdk/types#token-details) object (most commonly obtained from an Ably Token Request response). This option is mostly useful for testing: since tokens are short-lived, in production you almost always want to use an authentication method that allows the client library to renew the token automatically when the previous one expires, such as <If lang="javascript,nodejs,flutter,php,java,objc,swift">`authUrl`</If><If lang="csharp,go">`AuthUrl`</If><If lang="ruby">`:auth_url`</If><If lang="python">`auth_url`</If> or <If lang="javascript,nodejs,flutter,php,java,objc,swift">`authCallback`</If><If lang="csharp,go">`AuthCallback`</If><If lang="python">`auth_callback`</If><If lang="ruby">`:auth_callback`</If>. Use this option if you wish to use Token authentication. Read more about [Token authentication](/docs/auth/token) | `TokenDetails` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift,python">tls</If><If lang="csharp,go">Tls</If><If lang="ruby">:tls</If> | A boolean value, indicating whether or not a TLS ("SSL") secure connection should be used. An insecure connection cannot be used with Basic authentication as it would lead to a possible compromise of the private API key while in transit. [Find out more about TLS](https://faqs.ably.com/are-messages-sent-to-and-received-from-ably-securely-using-tls). The default is true. | `Boolean` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">clientId</If><If lang="csharp,go">ClientId</If><If lang="python">client_id</If><If lang="ruby">:client_id</If> | A client ID, used for identifying this client when publishing messages or for presence purposes. The <If lang="javascript,nodejs,flutter,php,java,objc,swift">`clientId`</If><If lang="ruby,python">`client_id`</If><If lang="csharp,go">`ClientId`</If> can be any non-empty string. This option is primarily intended to be used in situations where the library is instantiated with a key; note that a <If lang="javascript,nodejs,flutter,php,java,objc,swift">`clientId`</If><If lang="ruby,python">`client_id`</If><If lang="csharp,go">`ClientId`</If> may also be implicit in a token used to instantiate the library; an error will be raised if a <If lang="javascript,nodejs,flutter,php,java,objc,swift">`clientId`</If><If lang="ruby,python">`client_id`</If><If lang="csharp,go">`ClientId`</If> specified here conflicts with the <If lang="javascript,nodejs,flutter,php,java,objc,swift">`clientId`</If><If lang="ruby,python">`client_id`</If><If lang="csharp,go">`ClientId`</If> implicit in the token. [Find out more about client identities](/docs/auth/identified-clients) | `String` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">useTokenAuth</If><If lang="csharp,go">UseTokenAuth</If><If lang="python">use_token_auth</If><If lang="ruby">:use_token_auth</If> | When true, forces [Token authentication](/docs/auth/token) to be used by the library. Please note that if a <If lang="ruby,python">`client_id`</If><If lang="javascript,nodejs,flutter,php,java,objc,swift,csharp,go">`clientId`</If> is not specified in the [`ClientOptions`](/docs/api/realtime-sdk/types#client-options) or [`TokenParams`](/docs/api/realtime-sdk/types#token-params), then the Ably Token issued will be [anonymous](https://faqs.ably.com/authenticated-and-identified-clients). The default is false. | `Boolean` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift,python">endpoint</If><If lang="csharp,go">Endpoint</If><If lang="ruby">:endpoint</If> | Enables [enterprise customers](https://ably.com/pricing) to use their own custom endpoints, which support dedicated, isolated clusters and regional message routing and storage constraints. See our [platform customization guide](/docs/platform/account/enterprise-customization) for more details. The default is <If lang="javascript,nodejs,flutter,php,objc,swift">null</If><If lang="java">Null</If><If lang="python">None</If><If lang="ruby,swift,objc">nil</If><If lang="csharp,go">null</If>. | `String` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift,python">environment</If><If lang="csharp,go">Environment</If><If lang="ruby">:environment</If> | Deprecated, use `endpoint`. Enables [enterprise customers](https://ably.com/pricing) to use their own custom environments, which support dedicated, isolated clusters and regional message routing and storage constraints. See our [platform customization guide](/docs/platform/account/enterprise-customization) for more details. The default is <If lang="javascript,nodejs,flutter,php">null</If><If lang="java">Null</If><If lang="python">None</If><If lang="ruby,objc,swift">nil</If><If lang="csharp,go">null</If>. | `String` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift,python">idempotentRestPublishing</If><If lang="csharp,go">IdempotentRestPublishing</If><If lang="ruby">:idempotent_rest_publishing</If> | When true, enables idempotent publishing by assigning a unique message ID client-side, allowing the Ably servers to discard automatic publish retries following a failure such as a network fault. We recommend you enable this by default. In version 1.2 onwards, idempotent publishing for retries will be enabled by default. The default is false. | `Boolean` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">fallbackHosts</If><If lang="csharp,go">FallbackHosts</If><If lang="python">fallback_hosts</If><If lang="ruby">:fallback_hosts</If> | An array of fallback hosts to be used in the case of an error necessitating the use of an alternative host. When a custom environment is specified, the [fallback host functionality](https://faqs.ably.com/routing-around-network-and-dns-issues) is disabled. If your customer success manager has provided you with a set of custom fallback hosts, please specify them here. The default is `[a.ably-realtime.com, b.ably-realtime.com, c.ably-realtime.com, d.ably-realtime.com, e.ably-realtime.com]`. | `String []` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">transportParams</If><If lang="csharp">TransportParams</If><If lang="python">transport_params</If><If lang="ruby">:transport_params</If><If lang="go">transportParams</If> | Optional. Can be used to pass in arbitrary connection parameters, such as [`heartbeatInterval`](/docs/connect#heartbeats) and [`remainPresentFor`](/docs/presence-occupancy/presence#unstable-connections) | <If lang="javascript,nodejs,objc,swift,flutter,go,php">`Object`</If><If lang="python">`Dict`</If><If lang="ruby">`Hash`</If><If lang="php">Associative Array</If><If lang="java">`Param []`</If><If lang="csharp">`Dictionary<string, object>`</If><If lang="flutter">`Map<String, String>`</If> |

<If lang="javascript,nodejs">

| Parameter | Description | Type |
|-----------|-------------|------|
| logLevel | A number controlling the verbosity of the log output of the library. Valid values are: 0 (no logs), 1 (errors only), 2 (errors plus connection and channel state changes), 3 (high-level debug output), and 4 (full debug output). | `Integer` |
| logHandler | A function to handle each line of the library's log output. If `logHandler` is not specified, `console.log` is used. | `Callable` |
| transports | An optional array of transports to use, in descending order of preference. <If lang="javascript">In the browser environment the available transports are: `web_socket`, `xhr_polling`.</If><If lang="nodejs">The transports available in the Node.js client library are: `web_socket`, `xhr_polling`, `comet`.</If> | `String []` |

</If>
<If lang="java">

| Parameter | Description | Type |
|-----------|-------------|------|
| logLevel | A number controlling the verbosity of the output from 2 (maximum, verbose) to 6 (errors only). A special value of 99 will silence all logging. Note that the `logLevel` is a static variable in the library and will thus not act independently between library instances when multiple library instances exist concurrently. See [the logging section of the java library README](https://github.com/ably/ably-java/#logging) for more details. The default is 5. | `Integer` |
| logHandler | A `LogHandler` interface can be specified to handle each line of log output. If `logHandler` is not specified, `System.out` is used. Note that the `logHandler` is a static variable in the library and will thus not act independently between library instances when multiple library instances exist concurrently. See [the logging section of the java library README](https://github.com/ably/ably-java/#logging) for more details. The default is `System.out PrintStream`. | `PrintStream` |

</If>
<If lang="csharp">

To set the log level and custom logger sink when using the .NET library, configure the static `IO.Ably.Logger` class or specify the `ClientOptions`:

| Parameter | Description | Type |
|-----------|-------------|------|
| LogLevel | This is an enum controlling the verbosity of the output from `Debug` (maximum) to `Error` (errors only). A special value of `None` will silence all logging. Note that the `LogLevel` is a static variable in the library and will thus not act independently between library instances. The default is `Error`. | `Enum` |
| LoggerSink | The default ILoggerSink outputs messages to the debug console. This property allows the user to pipe the log messages to their own logging infrastructure. The default is `IO.Ably.DefaultLoggerSink`. | |

</If>
<If lang="go">

| Parameter | Description | Type |
|-----------|-------------|------|
| LogLevel | This is an enum controlling the verbosity of the output from `LogDebug` (maximum) to `LogError` (errors only). A special value of `LogNone` will silence all logging. Note that the `LogLevel` is a static variable in the library and will thus not act independently between library instances. The default is `LogError`. | `Enum` |

</If>
<If lang="objc,swift">

| Parameter | Description | Type |
|-----------|-------------|------|
| logLevel | An enum controlling the verbosity of the output from `ARTLogLevelVerbose` to `ARTLogLevelNone`. A special value of 99 will silence all logging. The default is `ARTLogLevelWarn`. | `ARTLogLevel` |
| logHandler | A `ARTLog` object can be specified to handle each line of log output. If `logHandler` is not specified, a default `ARTLog` instance is used. | `ARTLog *` |

</If>
<If lang="ruby">

| Parameter | Description | Type |
|-----------|-------------|------|
| :log_level | Log level for the standard Logger that outputs to `STDOUT`. Can be set to `:fatal`, `:error`, `:warn`, `:info`, `:debug` or `:none`. Alternatively a [`Logger` severity constant](http://ruby-doc.org/stdlib-2.2.0/libdoc/logger/rdoc/Logger.html#class-Logger-label-Description) can be specified. The default is `:error`. | `Symbol`, [`Logger::SEVERITY`](http://ruby-doc.org/stdlib-2.2.0/libdoc/logger/rdoc/Logger.html#class-Logger-label-Description) |
| :logger | A [Ruby `Logger`](http://ruby-doc.org/stdlib-1.9.3/libdoc/logger/rdoc/Logger.html) compatible object to handle each line of log output. If `logger` is not specified, `STDOUT` is used. The default is `STDOUT Logger`. | [Ruby `Logger`](http://ruby-doc.org/stdlib-1.9.3/libdoc/logger/rdoc/Logger.html) |

</If>
<If lang="php">

| Parameter | Description | Type |
|-----------|-------------|------|
| logLevel | A number controlling the verbosity of the output from 1 (minimum, errors only) to 4 (most verbose). The default is `Log::WARNING`. | `Integer` |
| logHandler | A function to handle each line of log output. If handler is not specified, `console.log` is used. Note that the log level and log handler have global scope in the library and will therefore not act independently between library instances when multiple library instances exist concurrently. The default is `console.log`. | `Function` |

</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">useBinaryProtocol</If><If lang="csharp,go">UseBinaryProtocol</If><If lang="python">use_binary_protocol</If><If lang="ruby">:use_binary_protocol</If> | <If lang="javascript">If set to true, will enable the binary protocol (MessagePack) if it is supported. It's disabled by default on browsers for performance considerations (browsers are optimized for decoding JSON). The default is false.</If><If lang="nodejs,flutter,php,java,python,ruby,csharp,go">If set to false, will forcibly disable the binary protocol (MessagePack). The binary protocol is used by default unless it is not supported. The default is true.</If><If lang="swift,objc,php">Note: The binary protocol is currently not supported <If lang="swift">in Swift</If><If lang="objc">in Objective-C</If><If lang="php">in PHP</If>.</If> Find out more about the [benefits of binary encoding](https://faqs.ably.com/do-you-binary-encode-your-messages-for-greater-efficiency) | `Boolean` |
| <If lang="swift,objc">logExceptionReportingUrl</If> | Defaults to a string value for an Ably error reporting Data Source Name. | `String` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">queryTime</If><If lang="csharp,go">QueryTime</If><If lang="ruby">:query_time</If><If lang="python">query_time</If> | If true, the library will query the Ably servers for the current time when [issuing TokenRequests](/docs/auth/token) instead of relying on a locally-available time of day. Knowing the time accurately is needed to create valid signed Ably [TokenRequests](/docs/api/rest-sdk/authentication#token-request), so this option is useful for library instances on auth servers where for some reason the server clock cannot be kept synchronized through normal means, such as an [NTP daemon](https://en.wikipedia.org/wiki/Ntpd). The server is queried for the current time once per client library instance (which stores the offset from the local clock), so if using this option you should avoid instancing a new version of the library for each request. The default is false. | `Boolean` |
| <If lang="javascript,nodejs,flutter,php,java,objc,swift">defaultTokenParams</If><If lang="python">default_token_params</If><If lang="ruby">:default_token_params</If><If lang="csharp,go">DefaultTokenParams</If> | When a [TokenParams](/docs/api/rest-sdk/types#token-params) object is provided, it will override the client library defaults when issuing new [Ably Tokens](/docs/api/realtime-sdk/authentication#token-details) or [Ably TokenRequests](/docs/api/rest-sdk/authentication#token-request) | [`TokenParams`](/docs/api/rest-sdk/types#token-params) |

### <If lang="javascript,nodejs,flutter,python,go">ClientOptions Object</If><If lang="objc,swift">ARTChannelOptions</If><If lang="ruby">ChannelOptions Hash</If><If lang="php">ChannelOptions Array</If><If lang="java">io.ably.lib.types.ChannelOptions</If><If lang="csharp">IO.Ably.ChannelOptions</If> <a id="channel-options" />

Channel options are used for <If lang="javascript,nodejs,java,swift,objc,csharp">setting [channel parameters](/docs/channels/options) and</If> [configuring encryption](/docs/channels/options/encryption).

<If lang="javascript,nodejs">

`ChannelOptions`, a plain JavaScript object, may optionally be specified when instancing a [`Channel`](/docs/channels), and this may be used to specify channel-specific options. The following attributes can be defined on the object:

</If>
<If lang="ruby">

`ChannelOptions`, a Hash object, may optionally be specified when instancing a [`Channel`](/docs/channels), and this may be used to specify channel-specific options. The following key symbol values can be added to the Hash:

</If>
<If lang="php">

`ChannelOptions`, an Associative Array, may optionally be specified when instancing a [`Channel`](/docs/channels), and this may be used to specify channel-specific options. The following named keys and values can be added to the Associated Array:

</If>
<If lang="java,swift,objc,go">

<If lang="swift,objc">`ART`</If><If lang="java">`io.ably.lib.types.`</If>`ChannelOptions` may optionally be specified when instancing a [`Channel`](/docs/channels), and this may be used to specify channel-specific options.

</If>
<If lang="csharp">

`IO.Ably.ChannelOptions` may optionally be specified when instancing a [`Channel`](/docs/channels), and this may be used to specify channel-specific options.

</If>

#### <If lang="javascript,nodejs,go,swift,objc,flutter,objc,php,python">Properties</If><If lang="java">Members</If><If lang="ruby">Attributes</If>

<If lang="ruby,csharp,go">

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="ruby">:cipher</If><If lang="csharp,go">CipherParams</If> | Requests encryption for this channel when not null, and specifies encryption-related parameters (such as algorithm, chaining mode, key length and key). See [an example](/docs/channels/options/encryption) | <If lang="ruby">[`CipherParams`](/docs/api/realtime-sdk/encryption#cipher-params) or an options hash containing at a minimum a `key`</If><If lang="csharp,go">[`CipherParams`](/docs/api/realtime-sdk/encryption#cipher-params)</If> |

</If>
<If lang="javascript,nodejs,java,objc,swift,php,csharp">

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="javascript,nodejs,java,swift,objc">params</If><If lang="csharp">Params</If> | Optional [parameters](/docs/channels/options) which specify behaviour of the channel. | <If lang="java">`Map<String, String>`</If><If lang="javascript,nodejs,objc,csharp,swift">JSON Object</If> |
| <If lang="javascript,nodejs,java,swift,objc">cipher</If><If lang="csharp">CipherParams</If> | Requests encryption for this channel when not null, and specifies encryption-related parameters (such as algorithm, chaining mode, key length and key). See [an example](/docs/api/realtime-sdk/encryption#getting-started) | <If lang="javascript,nodejs">[`CipherParams`](/docs/api/realtime-sdk/encryption#cipher-params) or an options object containing at a minimum a `key`</If><If lang="java">[`CipherParams`](/docs/api/realtime-sdk/encryption#cipher-params) or a `Param[]` list containing at a minimum a `key`</If><If lang="php">[`CipherParams`](/docs/api/realtime-sdk/encryption#cipher-params) or an Associative Array containing at a minimum a `key`</If><If lang="objc,swift,csharp">[`CipherParams`](/docs/api/realtime-sdk/encryption#cipher-params)</If> |

</If>
<If lang="java">

#### Static methods

##### withCipherKey <a id="with-cipher-key" />

`static ChannelOptions.withCipherKey(Byte[] or String key)`

A helper method to generate a `ChannelOptions` for the simple case where you only specify a key.

##### Parameters

| Parameter | Description | Type |
|-----------|-------------|------|
| key | A binary `Byte[]` array or a base64-encoded `String`. | |

##### Returns

On success, the method returns a complete `ChannelOptions` object. Failure will raise an [`AblyException`](/docs/api/realtime-sdk/types#ably-exception).

</If>

### <If lang="javascript,nodejs,flutter,python,go">CipherParams</If><If lang="objc,swift">ARTCipherParams</If><If lang="ruby">CipherParams Hash</If><If lang="php">CipherParams Array</If><If lang="java">io.ably.lib.util.Crypto.CipherParams</If><If lang="csharp">IO.Ably.CipherParams</If> <a id="cipher-params" />

A `CipherParams` contains configuration options for a channel cipher, including algorithm, mode, key length and key. Ably client libraries currently support AES with CBC, PKCS#7 with a default key length of 256 bits. All implementations also support AES128.

Individual client libraries may support either instancing a `CipherParams` directly, using <If lang="javascript,nodejs,java,flutter,go,python,php,objc,swift">[`Crypto.getDefaultParams()`](/docs/api/realtime-sdk/encryption#get-default-params)</If><If lang="csharp">[`Crypto.GetDefaultParams()`](/docs/api/realtime-sdk/encryption#get-default-params)</If><If lang="ruby">[`Crypto.get_default_params()`](/docs/api/realtime-sdk/encryption#get-default-params)</If>, or generating one automatically when initializing a channel, as in [this example](/docs/channels/options/encryption).

#### <If lang="javascript,nodejs,flutter,php,python,go,objc,swift,csharp">Properties</If><If lang="java">Members</If><If lang="ruby">Attributes</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="javascript,nodejs,flutter,php,python,java">key</If><If lang="csharp,go">Key</If><If lang="ruby">:key</If> | A binary (<If lang="java,csharp">`byte[]`</If><If lang="javascript">`ArrayBuffer` or `Uint8Array`</If><If lang="nodejs">`Buffer`</If><If lang="ruby">byte array</If><If lang="objc,swift">`NSData`</If>) or base64-encoded <If lang="objc">`NS`</If>`String` containing the secret key used for encryption and decryption | |
| <If lang="javascript,nodejs,flutter,php,python,java,objc,swift">algorithm</If><If lang="ruby">:algorithm</If><If lang="csharp,go">Algorithm</If> | The name of the algorithm in the default system provider, or the lower-cased version of it; eg "aes" or "AES". The default is AES. | `String` |
| <If lang="python">key_length</If><If lang="ruby">:key_length</If><If lang="javascript,nodejs,flutter,php,java,objc,swift">keyLength</If><If lang="csharp,go">KeyLength</If> | The key length in bits of the cipher, either 128 or 256. The default is 256. | `Integer` |
| <If lang="javascript,nodejs,flutter,php,python,java,objc,swift">mode</If><If lang="ruby">:mode</If><If lang="csharp,go">Mode</If> | The cipher mode. The default is CBC. | <If lang="javascript,nodejs,flutter,php,python,java,ruby,objc,swift,go">`String`</If><If lang="csharp">`CipherMode`</If> |
| <If lang="java">keySpec</If> | A `KeySpec` for the cipher key | `SecretKeySpec` |

<If lang="csharp">

### IO.Ably.StatsRequestParams <a id="stats-request-params" />

`StatsRequestParams` is a type that encapsulates the parameters for a stats query. For example usage see [`Realtime#Stats`](/docs/metadata-stats/stats).

#### Members

- Start := _null_ The start of the queried interval<br>__Type: @DateTimeOffset@__
- End := _null_ The end of the queried interval<br>__Type: @DateTimeOffset@__
- Limit := _null_ By default it is null. Limits the number of items returned by history or stats<br>__Type: @Integer@__
- Direction := _Backwards_ Enum which is either @Forwards@ or @Backwards@<br>__Type: @Direction@ enum__
- Unit := _Minute_ @Minute@, @Hour@, @Day@ @Month@. Based on the unit selected, the given start or end times are rounded down to the start of the relevant interval depending on the unit granularity of the query<br>__Type: [@StatsIntervalGranularity@](/docs/api/realtime-sdk/types#stats-granularity) enum__
- ExtraParameters := Optionally any extra query parameters that may be passed to the query. This is mainly used internally by the library to manage paging.<br>__Type: @Dictionary<string, string>@__

</If>

### <If lang="javascript,nodejs,flutter,go,python">TokenParams Object</If><If lang="objc,swift">ARTTokenParams</If><If lang="ruby">TokenParams Hash</If><If lang="php">TokenParams Array</If><If lang="java">io.ably.lib.rest.Auth.TokenParams</If><If lang="csharp">IO.Ably.TokenParams</If> <a id="token-params" />

<If lang="javascript,nodejs">

`TokenParams` is a plain JavaScript object and is used in the parameters of [token authentication](/docs/auth/token) requests, corresponding to the desired attributes of the [Ably Token](/docs/api/realtime-sdk/authentication#token-details). The following attributes can be defined on the object:

</If>
<If lang="ruby">

`TokenParams` is a Hash object and is used in the parameters of [token authentication](/docs/auth/token) requests, corresponding to the desired attributes of the [Ably Token](/docs/api/realtime-sdk/authentication#token-details). The following key symbol values can be added to the Hash:

</If>
<If lang="python">

`TokenParams` is a Dict and is used in the parameters of [token authentication](/docs/auth/token) requests, corresponding to the desired attributes of the [Ably Token](/docs/api/realtime-sdk/authentication#token-details). The following keys-value pairs can be added to the Dict:

</If>
<If lang="php">

`TokenParams` is an Associative Array and is used in the parameters of [token authentication](/docs/auth/token) requests, corresponding to the desired attributes of the [Ably Token](/docs/api/realtime-sdk/authentication#token-details). The following named keys and values can be added to the Associative Array:

</If>
<If lang="java,csharp">

`TokenParams` is used in the parameters of [token authentication](/docs/auth/token) requests, corresponding to the desired attributes of the [Ably Token](/docs/api/realtime-sdk/authentication#token-details).

</If>
<If lang="objc,swift">

`ARTTokenParams` is used in the parameters of [token authentication](/docs/auth/token) requests, corresponding to the desired attributes of the [Ably Token](/docs/api/realtime-sdk/authentication#token-details).

</If>

#### <If lang="javascript,nodejs,flutter,go,php,objc,swift,csharp">Properties</If><If lang="java">Members</If><If lang="ruby,python">Attributes</If>

| Parameter | Description | Type |
|-----------|-------------|------|
| <If lang="javascript,nodejs,flutter,php,objc,swift,java,python">capability</If><If lang="csharp,go">Capability</If><If lang="ruby">:capability</If> | JSON stringified capability of the [Ably Token](/docs/api/realtime-sdk/authentication#token-details). If the [Ably Token](/docs/api/realtime-sdk/authentication#token-details) request is successful, the capability of the returned [Ably Token](/docs/api/realtime-sdk/authentication#token-details) will be the intersection of this capability with the capability of the issuing key. [Find our more about how to use capabilities to manage access privileges for clients](/docs/auth/capabilities). | <If lang="javascript,nodejs,flutter,php,objc,swift,java,python,ruby,go">`String`</If><If lang="csharp">`Capability`</If> |
| <If lang="javascript,nodejs,flutter,php,objc,swift,java">clientId</If><If lang="csharp,go">ClientId</If><If lang="python">client_id</If><If lang="ruby">:client_id</If> | A client ID, used for identifying this client when publishing messages or for presence purposes. The <If lang="javascript,nodejs,flutter,php,objc,swift,java">`clientId`</If><If lang="ruby,python">`client_id`</If><If lang="csharp,go">`ClientId`</If> can be any non-empty string. This option is primarily intended to be used in situations where the library is instantiated with a key; note that a <If lang="javascript,nodejs,flutter,php,objc,swift,java">`clientId`</If><If lang="ruby,python">`client_id`</If><If lang="csharp,go">`ClientId`</If> may also be implicit in a token used to instantiate the library; an error will be raised if a <If lang="javascript,nodejs,flutter,php,objc,swift,java">`clientId`</If><If lang="ruby,python">`client_id`</If><If lang="csharp,go">`ClientId`</If> specified here conflicts with the <If lang="javascript,nodejs,flutter,php,objc,swift,java">`clientId`</If><If lang="ruby,python">`client_id`</If><If lang="csharp,go">`ClientId`</If> implicit in the token. [Find out more about client identities](/docs/auth/identified-clients) | `String` |
| <If lang="javascript,nodejs,flutter,php,objc,swift,java,python">nonce</If><If lang="csharp,go">Nonce</If><If lang="ruby">:nonce</If> | An optional opaque nonce string of at least 16 characters to ensure uniqueness of this request. Any subsequent request using the same nonce will be rejected. | `String` |
| <If lang="javascript,nodejs,flutter,php,objc,swift,java,python">timestamp</If><If lang="csharp,go">Timestamp</If><If lang="ruby">:timestamp</If> | <If lang="javascript,nodejs,flutter,php,go,java,python">The timestamp (in milliseconds since the epoch)</If><If lang="ruby,objc,swift,csharp">The timestamp</If> of this request. `timestamp`, in conjunction with the `nonce`, is used to prevent requests for [Ably Token](/docs/api/realtime-sdk/authentication#token-details) from being replayed. | <If lang="javascript,nodejs,php,objc,swift,python">`Integer`</If><If lang="java">`Long Integer`</If><If lang="ruby">`Time`</If><If lang="objc,swift">`NSDate`</If><If lang="csharp">`DateTimeOffset`</If><If lang="flutter">`DateTime`</If> |
| <If lang="javascript,nodejs,flutter,php,objc,swift,java,python">ttl</If><If lang="csharp,go">Ttl</If><If lang="ruby">:ttl</If> | Requested time to live for the [Ably Token](/docs/api/realtime-sdk/authentication#token-details) being created <If lang="javascript,nodejs,flutter,php,go,java,python">in milliseconds</If><If lang="ruby">in seconds</If><If lang="objc,swift">as a `NSTimeInterval`</If><If lang="csharp,go">as a `TimeSpan`.</If> When omitted, the Ably REST API default of 60 minutes is applied by Ably. The default is 1 hour. | <If lang="javascript,nodejs,flutter,php,python">`Integer` (milliseconds)</If><If lang="ruby">`Integer` (seconds)</If><If lang="objc,swift">`NSTimeInterval`</If><If lang="java">`Long Integer`</If><If lang="csharp">`TimeSpan`</If> |

<If lang="javascript,nodejs">

### TokenRevocationTargetSpecifier <a id="token-revocation-target-specifier" />

A `TokenRevocationTargetSpecifier` describes which tokens should be affected by a token revocation request.

#### Properties

| Parameter | Description | Type |
|-----------|-------------|------|
| type | The type of token revocation target specifier. Valid values include `clientId`, `revocationKey` and `channel` | `String` |
| value | The value of the token revocation target specifier | `String` |

### TokenRevocationOptions <a id="token-revocation-options" />

A `TokenRevocationOptions` describes the additional options accepted by revoke tokens request.

#### Properties

| Parameter | Description | Type |
|-----------|-------------|------|
| issuedBefore | An optional Unix timestamp in milliseconds where only tokens issued before this time are revoked. The default is the current time. Requests with an `issuedBefore` in the future, or more than an hour in the past, will be rejected | `Number` |
| allowReauthMargin | If true, permits a token renewal cycle to take place without needing established connections to be dropped, by postponing enforcement to 30 seconds in the future, and sending any existing connections a hint to obtain (and upgrade the connection to use) a new token. The default is `false`, meaning that the effect is near-immediate. | `Boolean` |

</If>
