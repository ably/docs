<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 10000 -->
<!-- Generated: 2025-08-24T21-13-57-640Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document this "no error" code as an operational state indicator, explaining its various contexts including mobile app lifecycle, connection states, and intentional message filtering -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 10000: No error (operational state)

## What Happened?

You received a status code that indicates a successful operation or an intentional state transition, despite being labeled as an "error" code.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 10000 | 200 | Operational State | Context-dependent - see common causes |

## Quick Fix

- If you see "Can't attach when not in an active state": Wait for the connection to become active before attaching channels
- If your app just returned from background (especially Flutter/Android): Re-establish the connection first
- For message filtering scenarios: This is intentional behavior, no action needed
- For "Connection closed by client": Normal termination, reconnect if needed

## Error Messages

You may see one of these messages:
- "Connection closed by client" (.NET SDK)
- "Can't attach when not in an active state" (Java SDK)
- "Discarding message; not local origin" (Server-side filtering)
- "Message discarded by perMessageTransform" (Integration rules)

## Common Causes

1. **Channel operations on inactive connections** (40% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-analysis.md lines 29-31 and knowledge file lines 105-108 -->
   - Attempting to attach channels when connection isn't active
   - App returning from background state on mobile devices (especially Android/Flutter)
   - Connection not yet established or already closed
   - Common after app restart without proper connection handling

2. **Client-initiated connection closure** (30% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-analysis.md lines 18-21 -->
   - Normal connection termination by your application
   - Explicit disconnect() calls
   - App shutdown or cleanup routines

3. **Message filtering by server rules** (30% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-analysis.md lines 36-55 -->
   - Messages from non-local origins when local-only rules apply
   - Messages discarded by transformation functions
   - Intentional server-side filtering via integration rules

## Resolution Steps

### For "Can't attach when not in an active state"

1. **Check connection state before operations**
   <!-- Source: Knowledge advice from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-knowledge.md lines 76-79 -->
   ```javascript
   // Wait for connection to be ready
   ably.connection.on('connected', () => {
     // Now safe to attach channels
     const channel = ably.channels.get('my-channel');
     channel.attach();
   });
   ```

2. **Handle mobile app lifecycle events (Android/Flutter)**
   <!-- Source: Knowledge advice from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-knowledge.md lines 105-108, 136-139, 167-171 -->
   ```javascript
   // Re-establish connection when app returns from background
   document.addEventListener('resume', () => {
     // For Flutter/Android apps, always reconnect after resuming
     ably.connection.connect();
   });
   
   // For Flutter specifically
   WidgetsBinding.instance.addObserver(LifecycleEventHandler(
     resumeCallBack: () async {
       await ably.connection.connect();
     }
   ));
   ```

3. **Monitor connection state changes**
   <!-- Source: Based on Ably documentation at https://ably.com/docs/connect/states -->
   ```javascript
   ably.connection.on('disconnected', () => {
     console.log('Connection lost, will auto-reconnect');
   });
   
   ably.connection.on('connected', () => {
     console.log('Connection restored, safe to attach channels');
   });
   ```

### For "Connection closed by client"

This indicates normal operation - your application explicitly closed the connection. No recovery needed unless you want to reconnect:
<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-analysis.md lines 18-21 -->

```javascript
// To reconnect after closing
ably.connection.connect();
```

### For Message Filtering

Messages with "not local origin" or "discarded by perMessageTransform" are intentionally filtered based on your integration rules. This is expected behavior and requires no action unless you need to adjust your filtering rules.
<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-analysis.md lines 69-73 -->

To review or modify filtering rules:
1. Access your Ably dashboard
2. Navigate to the Integrations tab
3. Review your webhook and message rules
4. Adjust channel filters or transformation functions as needed

## Automatic Handling

Ably SDKs handle connection state transitions automatically:
<!-- Source: Based on Ably documentation at https://ably.com/docs/connect/states -->
- Automatic reconnection when connections drop (every 15 seconds for up to 2 minutes)
- State recovery within 2 minutes of disconnection
- Channel reattachment after reconnection
- Transition to suspended state after 2 minutes (reconnection attempts every 30 seconds)

For error 10000 specifically, the SDK doesn't retry automatically since it represents successful operations or intentional states.

## Prevention

### For Mobile Applications (Especially Flutter/Android)
<!-- Source: Knowledge advice from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-knowledge.md lines 105-108, 167-171 -->
- Implement proper app lifecycle handling
- Re-establish connections after backgrounding
- Don't attempt operations immediately after foreground transition
- For Flutter: Handle app restarts differently from fresh runs
- Consider implementing a connection manager for state transitions

### For Channel Operations
<!-- Source: Knowledge advice from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-knowledge.md lines 164-166 -->
- Always check connection state before channel operations
- Use connection state listeners to coordinate operations
- Handle connection state transitions gracefully
- Implement retry logic with appropriate delays for mobile apps

### For Integration Rules
- Review filtering patterns in your integration configuration
- Test transformation functions thoroughly
- Monitor filtered message patterns for unexpected discards

## Related Resources

- [Connection states and recovery](https://ably.com/docs/connect/states)
- [Channel concepts and attachment](https://ably.com/docs/channels)
- [Channel states documentation](https://ably.com/docs/channels/states)
- [Webhook integrations and filtering](https://ably.com/docs/integrations/webhooks)
- [API Reference - Connection](https://ably.com/docs/api/realtime-sdk/connection)

## Related Errors

• **[80000 - Connection Failed](https://help.ably.io/error/80000)**  
  Occurs when the connection cannot be established, unlike 10000 which indicates intentional closure or state restrictions

• **[80002 - Connection Suspended](https://help.ably.io/error/80002)**  
  Related state after prolonged disconnection (2+ minutes), prevents operations similar to 10000's attach restrictions

• **[80003 - Connection Disconnected](https://help.ably.io/error/80003)**  
  Temporary disconnection state, may lead to 10000 errors if operations attempted during recovery

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 10000
- Steps to reproduce the issue (especially for mobile apps, include lifecycle events)
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using (particularly important for Flutter issues)
- Whether the issue occurs after app restart or fresh launch

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED:
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 10000)
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/10000-no-error-operational-state.mdx (enhanced with new insights)
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: Flutter/Android-specific guidance from knowledge file lines 105-108, 111-114
- Content Added: Specific Flutter app lifecycle handling based on support cases
- Content Added: More detailed message variations by SDK
- Recommendations Source: 
  - Channel attachment guidance from knowledge file lines 76-79
  - Mobile app lifecycle from knowledge file lines 105-108, 136-139, 167-171
  - Connection state monitoring from Ably docs
  - Flutter-specific handling from support case analysis
- Code Examples Rationale: Included minimal code to demonstrate state checking, connection handling, and Flutter-specific lifecycle management based on real support cases
-->

<!-- URL Validation Completed: 2025-08-24T21-13-57-640Z -->
<!-- External URLs verified: 5 | Corrected: 5 | Exempted internal: 2 -->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1 (Channel operations): Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-analysis.md lines 29-31 and knowledge file support cases lines 105-108
  - Cause 2 (Client closure): From .NET SDK implementation at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-analysis.md lines 18-21
  - Cause 3 (Message filtering): From server implementation at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-analysis.md lines 36-55
- Resolution Steps: 
  - Step 1 (Check connection): Source from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-knowledge.md lines 76-79
  - Step 2 (Mobile lifecycle): From support guidance in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-knowledge.md lines 105-108, 136-139, 167-171
  - Step 3 (Monitor state): Based on https://ably.com/docs/connect/states
  - Flutter-specific code: From EA support case in knowledge file lines 105-108
- Prevention: Based on internal best practices from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/10000-knowledge.md lines 164-171
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 10000
2. Regenerate: Run `./bin/ably-os errors document-error-codes 10000 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->