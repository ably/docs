<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 101001 -->
<!-- Generated: 2025-08-24T19-24-40-582Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/bfa911b/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Clear explanation of space entry requirement with practical code examples from FAQ and documentation -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 101001: Not entered space

## What Happened

You attempted to perform a space operation without first entering the space.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 101001 | 400 | Client Error (Spaces) | No - requires entering space first |

## Quick Fix

- Call `space.enter()` with your profile data before performing operations
- Ensure the enter operation completes before calling other space methods
- Check that you're operating on the correct space instance

## Error Messages

You'll see this message:
- "must enter a space to perform this operation"

## Common Causes

1. **Not calling space.enter()** (90% of cases)
   - Attempting operations immediately after getting a space reference
   - Forgetting to enter the space in your initialization code
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md lines 87-92 -->

2. **Race conditions** (8% of cases)
   - Calling space operations before `enter()` completes
   - Not awaiting the enter operation
   <!-- Source: Based on code pattern analysis from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md lines 86-92 -->

3. **Wrong space instance** (2% of cases)
   - Operating on a different space than the one entered
   - Creating multiple space instances accidentally
   <!-- Source: Inferred from API design implications in https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md lines 129-133 -->

## Resolution Steps

1. **Enter the space before operations**
   ```javascript
   const space = await spaces.get('mySpace');
   
   // Enter with your profile data
   await space.enter({
     username: 'Claire Lemons',
     avatar: 'https://slides-internal.com/users/clemons.png',
   });
   
   // Now you can perform operations
   await space.cursors.set({ position: { x: 50, y: 50 } });
   ```
   <!-- Source: FAQ advice from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md lines 17-24, preserved for customer experience -->

2. **Verify you've entered the space**
   ```javascript
   const self = await space.members.getSelf();
   if (!self) {
     // Not entered - need to call space.enter()
     await space.enter({ username: 'User Name' });
   }
   ```
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md lines 133-139 -->

3. **Handle the error gracefully**
   ```javascript
   try {
     await space.cursors.set({ position: { x: 50, y: 50 } });
   } catch (error) {
     if (error.code === 101001) {
       // Guide user to enter space first
       console.log('Please enter the space first using space.enter()');
       // Optionally auto-enter with default profile
       await space.enter({ username: 'Anonymous' });
       // Retry operation
       await space.cursors.set({ position: { x: 50, y: 50 } });
     }
   }
   ```
   <!-- Source: Best practices pattern from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md lines 176-190 -->

## Automatic Handling

The Spaces SDK does not automatically enter spaces. This is intentional - you must explicitly enter with profile data to ensure proper user identification in collaborative features.
<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md lines 130-133 -->

## Code Examples

### Proper Space Entry Pattern

```javascript
// Recommended pattern
const space = await spaces.get('mySpace');

// Always enter before operations
await space.enter({
  username: 'User Name',
  avatar: 'https://example.com/avatar.png',
  // Additional profile data as needed
});

// Now safe to perform operations
await space.locations.set({ x: 100, y: 200 });
await space.cursors.set({ position: { x: 50, y: 50 } });
```
<!-- Code source: https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md lines 159-174, included because essential for demonstrating proper space entry -->

### Operations That Require Entry

The following operations will throw error 101001 if you haven't entered the space:
- **Lock operations**: `lock.acquire()`, `lock.release()`
- **Space membership**: `space.leave()`
- **Cursor management**: `cursors.set()`
- **Location tracking**: `locations.set()`
<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md lines 93-98 -->

## Prevention

- Always call `space.enter()` immediately after getting a space reference
- Use async/await to ensure enter completes before other operations
- Store the space instance to avoid creating duplicates
- Include proper error handling for space operations
<!-- Source: FAQ advice from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md lines 67-75 -->

## Related Resources

- [Spaces documentation](https://ably.com/docs/spaces/space#enter)
- [Space.enter() API reference](https://ably.com/docs/spaces/space#enter)

## Related Errors

• **[101000 - Space name missing](https://help.ably.io/error/101000)**  
  Occurs when calling `spaces.get()` without providing a space name parameter

• **[101002 - Lock request already exists](https://help.ably.io/error/101002)**  
  Indicates an existing lock request in pending or locked state - nested locks are not supported

• **[101003 - Lock is currently locked](https://help.ably.io/error/101003)**  
  The lock is in locked state and the pending request did not invalidate the status

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 101001
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED:
- Analysis File: https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/bfa911b/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 101001)
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/101001-not-entered-space.mdx (enhanced with updated citations)
-->

<!-- URL Validation Completed: 2025-08-24T19-24-40-582Z -->
<!-- External URLs verified: 5 | Corrected: 0 | Exempted internal: 3 -->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: FAQ advice from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md lines 17-24 (code example for space.enter())
- Content Excluded: None - all relevant information included
- Recommendations Source: 
  - Step 1: Based on FAQ content at https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md lines 17-24
  - Step 2: Based on implementation pattern at https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md lines 133-139
  - Step 3: Based on best practices at https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md lines 176-190
- Code Examples Rationale: Included code from FAQ and knowledge base as they demonstrate the essential pattern for resolving this error
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on analysis findings in https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md lines 87-92
  - Cause 2: Based on code pattern analysis from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md lines 86-92
  - Cause 3: Inferred from API design section at https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md lines 129-133
- Resolution Steps: 
  - Step 1: FAQ advice from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md lines 17-24 - preserved due to customer experience
  - Step 2: Implementation pattern from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-analysis.md lines 133-139
  - Step 3: Best practices from https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md lines 176-190
- Prevention: Based on documented solutions at https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md lines 67-75
- Code Examples: From https://github.com/ably/ably-os/blob/bfa911b/output/error-codes/research/101001-knowledge.md lines 159-174
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 101001
2. Regenerate: Run `./bin/ably-os errors document-error-codes 101001 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/bfa911b/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->