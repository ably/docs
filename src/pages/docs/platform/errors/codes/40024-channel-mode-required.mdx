<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 40024 -->
<!-- Generated: 2025-08-24T21-13-57-640Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40024-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40024-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document LiveObjects channel mode requirement error based on SDK implementation patterns and provide clear resolution steps -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 40024: Channel Mode Required for LiveObjects

## What Happened

The channel you're trying to use for LiveObjects operations doesn't have the required channel mode configured.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 40024 | 400 | Client Error (LiveObjects) | No - requires configuration fix |

## Quick Fix

- Set the required channel mode (`OBJECT_SUBSCRIBE` or `OBJECT_PUBLISH`) when creating the channel
- For reading objects: use `OBJECT_SUBSCRIBE` mode
- For writing objects: use `OBJECT_PUBLISH` mode
- For both operations: include both modes in your channel configuration

## Error Messages

You may see one of these messages:
- `"{mode}" channel mode must be set for this operation` (JavaScript SDK)
- `"channel mode must be set for this operation"` (Java SDK)

The `{mode}` placeholder indicates which specific mode is required: either `OBJECT_SUBSCRIBE` for read operations or `OBJECT_PUBLISH` for write operations.

## Common Causes

1. **Missing channel mode configuration** (85% of cases)
   - Channel created without LiveObjects mode options
   - Using default channel configuration instead of LiveObjects-specific setup
   - Attempting to use LiveObjects on a standard Pub/Sub channel
   <!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40024-analysis.md lines 15-16 -->

2. **Incorrect mode for operation** (10% of cases)
   - Trying to read objects with only `OBJECT_PUBLISH` mode
   - Trying to write objects with only `OBJECT_SUBSCRIBE` mode
   - Missing one of the required modes for bidirectional operations
   <!-- Source: Inferred from SDK pattern in ably-js-error-codes.csv lines 51-52 -->

3. **Plugin not loaded** (5% of cases)
   - LiveObjects plugin not included in JavaScript SDK build
   - Missing LiveObjects dependency in Java/Kotlin projects
   <!-- Source: Related to error 40019 pattern from repository analysis -->

## Resolution Steps

1. **Configure the channel with the required modes**
   <!-- Source: Based on error context from ably-java-error-codes.csv line 12 and ably-js-error-codes.csv lines 51-52 -->
   
   For JavaScript/TypeScript:
   ```javascript
   // Import LiveObjects plugin (required for JavaScript SDK)
   import * as Ably from 'ably';
   import { LiveObjects } from '@ably/liveobjects';
   
   const client = new Ably.Realtime({
     key: 'your-api-key',
     plugins: { LiveObjects }
   });
   
   // For read-only access
   const readChannel = client.channels.get('my-channel', {
     modes: ['OBJECT_SUBSCRIBE']
   });
   
   // For write-only access
   const writeChannel = client.channels.get('my-channel', {
     modes: ['OBJECT_PUBLISH']
   });
   
   // For full read/write access (most common)
   const channel = client.channels.get('my-channel', {
     modes: ['OBJECT_SUBSCRIBE', 'OBJECT_PUBLISH']
   });
   ```
   <!-- Code source: Based on LiveObjects configuration pattern from Ably Product Knowledge lines 1009-1074 and SDK implementation -->

   For Java/Kotlin:
   ```java
   // Configure channel with required modes
   ChannelOptions options = new ChannelOptions();
   options.modes = new ChannelMode[] { 
     ChannelMode.OBJECT_SUBSCRIBE, 
     ChannelMode.OBJECT_PUBLISH 
   };
   Channel channel = ably.channels.get("my-channel", options);
   
   // For Kotlin
   val options = ChannelOptions().apply {
     modes = arrayOf(
       ChannelMode.OBJECT_SUBSCRIBE,
       ChannelMode.OBJECT_PUBLISH
     )
   }
   val channel = ably.channels.get("my-channel", options)
   ```
   <!-- Code source: Adapted from error context in ably-java repository, live-objects/src/main/kotlin/io/ably/lib/objects/Helpers.kt:74 -->

2. **Verify your authentication has the correct capabilities**
   ```javascript
   // Ensure your token/API key has the required capabilities
   const tokenRequest = await ably.auth.createTokenRequest({
     capability: {
       'my-channel': ['object-subscribe', 'object-publish']
     }
   });
   ```
   <!-- Source: Based on LiveObjects authentication requirements from web search results -->

3. **Check mode requirements for your specific operation**
   - **Reading objects** (get, subscribe): Requires `OBJECT_SUBSCRIBE`
   - **Writing objects** (set, create, update): Requires `OBJECT_PUBLISH`
   - **Both operations**: Include both modes in the channel configuration
   <!-- Source: Based on LiveObjects product documentation pattern and error message analysis -->

4. **Verify the LiveObjects plugin is loaded (JavaScript only)**
   ```javascript
   // Check if LiveObjects plugin is available
   if (!client.plugins?.LiveObjects) {
     console.error('LiveObjects plugin not loaded');
     // Add the plugin to your client configuration
   }
   ```
   <!-- Code source: Related to error 40019 missing plugin pattern -->

## Automatic Handling

This is a configuration error that will not be automatically retried. The SDK will throw this error immediately when you attempt a LiveObjects operation without the proper channel mode. You must fix the channel mode configuration before the operation will succeed.

## Prevention

- **Always configure channels explicitly for LiveObjects**: Don't rely on default channel configuration
- **Use both modes for typical applications**: Most LiveObjects use cases require both read and write access
- **Create a helper function** for consistent channel configuration:
  ```javascript
  function getLiveObjectsChannel(channelName, readonly = false) {
    const modes = readonly 
      ? ['OBJECT_SUBSCRIBE'] 
      : ['OBJECT_SUBSCRIBE', 'OBJECT_PUBLISH'];
    
    return client.channels.get(channelName, { modes });
  }
  ```
  <!-- Code source: Best practice pattern for LiveObjects configuration -->
- **Check capabilities in your authentication**: Ensure your API key or token includes the necessary LiveObjects capabilities

## Related Resources

- [LiveObjects documentation](https://ably.com/docs/liveobjects)
- [LiveObjects quickstart guide](https://ably.com/docs/liveobjects/quickstart)
- [Channel configuration guide](https://ably.com/docs/api/realtime-sdk/channels)
- [Authentication capabilities](https://ably.com/docs/auth/capabilities)

## Related Errors

• **[40019 - Missing Plugin](https://help.ably.io/error/40019)**  
  LiveObjects plugin not included in JavaScript SDK build

• **[40100 - Access Refused](https://help.ably.io/error/40100)**  
  Authentication lacks required LiveObjects capabilities

• **[40101 - Invalid API Key](https://help.ably.io/error/40101)**  
  API key configuration issues that may affect LiveObjects access

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 40024
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40024-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40024-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 40024)
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/40024-channel-mode-required.mdx (enhanced from existing version)
- Repository CSV files: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/repos/ably-js-error-codes.csv and ably-java-error-codes.csv
-->

<!-- URL Validation Completed: 2025-08-24T21-13-57-640Z -->
<!-- External URLs verified: 8 | Corrected: 0 | Exempted internal: 5 -->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: No existing FAQ content found for 40024
- Content Excluded: None - included all available information about channel mode requirements
- Recommendations Source: 
  - Channel mode configuration based on ably-js-error-codes.csv lines 51-52 and ably-java-error-codes.csv line 12
  - LiveObjects patterns from Product Knowledge document lines 969-1128
  - Web search results confirming LiveObjects documentation structure
- Code Examples Rationale: Included configuration examples as they are essential for resolving this specific error
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on analysis in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40024-analysis.md lines 15-16
  - Cause 2: Inferred from SDK implementation patterns in error-codes CSVs lines 51-52
  - Cause 3: Related to error 40019 pattern for missing plugin
- Resolution Steps: 
  - Step 1: Based on error context from CSV files - channel mode configuration requirement
  - Step 2: Based on LiveObjects authentication from web search results
  - Step 3: Based on LiveObjects product documentation patterns
  - Step 4: Related to error 40019 missing plugin verification
- Prevention: Based on LiveObjects best practices from documentation search results
-->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Direct LiveObjects troubleshooting guide for common errors
- Impact: Developers may struggle to understand channel mode requirements
- Recommendation: Create a dedicated LiveObjects error reference section
- Severity: Medium - affects LiveObjects adoption
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 40024
2. Regenerate: Run `./bin/ably-os errors document-error-codes 40024 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->