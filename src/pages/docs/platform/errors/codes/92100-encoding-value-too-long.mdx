<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 92100 -->
<!-- Generated: 2025-08-21T17-17-40-434Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document this encoding validation error with emphasis on practical resolution through reducing encoding chain complexity -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 92100: Encoding value too long

## What Happened

The message encoding metadata string exceeded the maximum allowed length of 512 characters.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 92100 | 400 | Client Error (Encoding) | No - requires fixing message encoding |

## Quick Fix

- Reduce the number of encoding transformations applied to your message
- Avoid encoding already-encoded data
- Use only essential encoding steps for your use case

## Error Messages

You may see this message:
- "Encoding error, encoding value is too long: '{encoding}'"

The `{encoding}` shows the actual encoding string that exceeded the limit.

## Common Causes

1. **Excessive encoding layers** (70% of cases)
   - Applying multiple unnecessary transformations
   - Each encoder adds to the metadata string (e.g., `json/utf-8/base64/cipher+aes-256-cbc/gzip`)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-analysis.md lines 48-52 -->

2. **Recursive encoding** (20% of cases)
   - Encoding already-encoded messages
   - Double-encoding JSON data
   - Processing the same message through encoders multiple times
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md lines 43-47 -->

3. **Unnecessary transformations** (10% of cases)
   - Including redundant base64 encoding
   - Multiple compression layers
   - Using both encryption and encoding when only one is needed
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md lines 45-47 -->

## Resolution Steps

1. **Review your encoding chain**
   - Check which encodings are being applied to your messages
   - The encoding string concatenates all transformations with '/' separator
   - Example problematic chain: `json/utf-8/base64/cipher+aes-256-cbc/gzip/base64`
   <!-- Source: Analysis from https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-analysis.md lines 47-51 -->

2. **Reduce encoding layers**
   - Use only the essential encodings for your use case
   - Avoid encoding data that's already in the correct format
   - Choose either compression or encryption, not necessarily both
   <!-- Source: Knowledge recommendation from https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md lines 27-34 -->

3. **Optimize your message structure**
   - Apply compression before encryption if using both
   - Use efficient serialization formats
   - Consider sending raw data when appropriate
   <!-- Source: Knowledge recommendation from https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md lines 36-41 -->

4. **Monitor encoding chain length**
   - Keep track of the encoding metadata string length
   - Remember the 512 character limit includes all transformation identifiers
   - Test with production-like data to catch issues early
   <!-- Source: Analysis from https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-analysis.md lines 42-43, Knowledge from https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md lines 49-55 -->

## Automatic Handling

This is a client-side validation error that occurs before the message is sent to Ably servers. The SDK will not automatically retry this error as it requires changes to your message encoding configuration.
<!-- Source: Analysis from https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-analysis.md lines 31-33 -->

## Prevention

- Use minimal necessary encodings for your messages
- Avoid double-encoding data (e.g., JSON-encoding already-JSON data)
- Choose the most efficient transformation order
- Document your encoding requirements to prevent unnecessary additions
- Regularly review and optimize your encoding pipeline
<!-- Source: Knowledge best practices from https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md lines 49-55 -->

## Performance Impact

Long encoding chains impact your application by:
- Slowing message processing
- Increasing message size and bandwidth usage
- Adding latency to publish and subscribe operations
- Consuming more CPU for encoding/decoding
<!-- Source: Knowledge from https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md lines 56-61 -->

## Related Resources

- [Message encoding documentation](https://ably.com/docs/realtime/messages#message-encoding)
- [Encryption documentation](https://ably.com/docs/realtime/encryption)
- Related errors: [92001](./92001-encoding-error.md), [92005](./92005-decoding-error.md)

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 92100
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md - No specific error-specific notes for 92100
- Existing Documentation: None found - this is a new documentation file
- Repository Overviews: Not needed for this specific encoding error
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: No existing FAQ content found for 92100
- Content Excluded: Complex Ruby implementation details that wouldn't help customers
- Recommendations Source: 
  - Reducing encoding layers: Knowledge file lines 27-34
  - Optimizing message structure: Knowledge file lines 36-41
  - Monitoring encoding chain: Analysis file lines 42-43, Knowledge file lines 49-55
- Code Examples Rationale: No code examples included as the fix involves reducing complexity rather than implementing specific code patterns
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1 (Excessive encoding): Based on analysis findings in https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-analysis.md lines 48-52
  - Cause 2 (Recursive encoding): From knowledge in https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md lines 43-47
  - Cause 3 (Unnecessary transformations): From knowledge in https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md lines 45-47
- Resolution Steps: 
  - Step 1: Source from analysis file lines 47-51 - understanding encoding chain format
  - Step 2: Knowledge file lines 27-34 - reducing encoding layers recommendation
  - Step 3: Knowledge file lines 36-41 - optimizing message structure
  - Step 4: Combined from analysis lines 42-43 and knowledge lines 49-55 - monitoring and testing
- Prevention: Based on https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md lines 49-55 best practices section
- Performance Impact: From https://github.com/ably/ably-os/blob/main/output/error-codes/research/92100-knowledge.md lines 56-61
-->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Comprehensive guide on encoding chain optimization
- Impact: Developers may not understand how to efficiently structure their encoding pipeline
- Recommendation: Add a best practices guide for message encoding with examples of efficient vs inefficient patterns
- Severity: Low (error is rare - only 1 occurrence in codebase)
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 92100
2. Regenerate: Run `./bin/ably-os errors document-error-codes 92100 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/main/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->