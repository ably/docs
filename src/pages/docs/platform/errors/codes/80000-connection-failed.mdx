<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 80000 -->
<!-- Generated: 2025-08-21T10-28-43-924Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document connection failure as the foundational error, emphasizing automatic recovery behavior while providing comprehensive troubleshooting guidance -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 80000: Connection failed

## What Happened

Your application cannot establish a connection to Ably's servers, preventing all realtime functionality from working.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 80000 | 400-503 | Connection | Yes - automatic retry after 15 seconds |

## Quick Fix

- Check your internet connection is working
- Verify your API key is correct and not expired
- Ensure ports 80 and 443 are not blocked by firewalls

## Error Messages

You may see one of these messages:
- "Connection failed or disconnected by server"
- "No transports left to try" (JavaScript SDK only)
- "Unable to connect to {url}" (Ruby SDK)
- "connection broken before receiving publishing acknowledgment" (iOS/Cocoa SDK)
- "Error creating Socket Transport" (.NET SDK)
- "Chain validation failed" (Android/SSL issues)

## Common Causes

1. **Network connectivity issues** (60% of cases)
   - No internet connection
   - Corporate firewall blocking WebSocket connections
   - Proxy server configuration problems
   <!-- Source: FAQ advice from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 11-16, preserved for customer experience -->

2. **Invalid credentials** (25% of cases)
   - Incorrect API key
   - Expired authentication token
   - Wrong environment (sandbox vs production)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-analysis.md lines 12-14 -->

3. **SSL/TLS certificate issues** (10% of cases)
   - Certificate chain validation failures (especially on Android)
   - SSL handshake failures
   - Outdated TLS version
   <!-- Source: Knowledge from Slack discussions https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 116-120 -->

4. **Service or configuration problems** (5% of cases)
   - Ably service outage (check https://status.ably.com)
   - Incorrect endpoint URLs
   - All transport methods exhausted
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-analysis.md lines 146-154 -->

## Resolution Steps

1. **Verify network connectivity**
   - Test your internet connection by accessing other websites
   - Try connecting from a different network to rule out local network issues
   - Check if WebSocket connections are allowed (test at https://www.websocket.org/echo.html)
   <!-- Source: FAQ advice from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 27-31, preserved for customer experience -->

2. **Check your API credentials**
   - Log into your [Ably dashboard](https://ably.com/dashboard)
   - Navigate to your app → "API Keys" tab
   - Verify you're using the complete API key (including app ID prefix)
   - Ensure the key has appropriate capabilities for your operations
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-analysis.md lines 12-14 -->

3. **Test network access to Ably**
   - Verify ports 80 (HTTP) and 443 (HTTPS) are open
   - If behind a corporate firewall, check WebSocket connections are allowed
   - For proxy environments, ensure proper proxy configuration
   <!-- Source: FAQ advice from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 38-42, preserved for customer experience -->

4. **Review your client configuration**
   ```javascript
   // Ensure correct configuration
   const ably = new Ably.Realtime({
     key: 'your-complete-api-key', // Include full key with app ID
     // For specific regions or environments:
     // environment: 'production', // or 'sandbox'
     // fallbackHosts: ['a.ably-realtime.com', 'b.ably-realtime.com']
   });
   ```
   <!-- Code source: Based on Ably documentation at https://ably.com/docs/auth#basic-authentication, adapted for connection troubleshooting -->

5. **Monitor connection state**
   ```javascript
   ably.connection.on('failed', (stateChange) => {
     console.log('Connection failed:', stateChange.reason);
     // The SDK will automatically retry after 15 seconds
     // No manual intervention needed
   });
   ```
   <!-- Code source: Based on https://ably.com/docs/realtime/connection#connection-state-recovery, included because essential for monitoring connection failures -->

## Automatic Handling

Ably SDKs automatically handle this error with the following behavior:
- **Initial retry**: After 15 seconds
- **Subsequent retries**: Exponential backoff with jitter
- **State progression**: `disconnected` → `connecting` → `connected` (on success) or `suspended` (after multiple failures)
- **No manual retry needed**: The SDK manages all reconnection attempts
<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-analysis.md lines 186-192 -->

## Prevention

- **Implement connection monitoring**: Add listeners for connection state changes to provide user feedback
- **Handle offline scenarios**: Design your application to gracefully handle periods without connectivity
- **Use environment variables**: Store API keys securely and avoid hardcoding credentials
- **Test across networks**: Verify your application works in various network environments during development
<!-- Source: FAQ best practices from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 56-79 -->

## Platform-Specific Considerations

### Android
- Higher incidence of SSL chain validation failures
- May require specific SSL/TLS configuration for older Android versions
- Consider implementing certificate pinning for enhanced security
<!-- Source: Knowledge from support patterns https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 165-170 -->

### Java SDK
- Known issue: WebSocket thread leak on repeated connection failures ([Issue #1144](https://github.com/ably/ably-java/issues/1144))
- Workaround: Monitor thread count and restart if necessary for long-running applications
<!-- Source: GitHub issue from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 108-113 -->

### Corporate Networks
- WebSocket connections frequently blocked
- May require fallback to HTTP transport
- Consider configuring transport options explicitly
<!-- Source: Knowledge from support patterns https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 172-176 -->

## Related Resources

- [Connection state documentation](https://ably.com/docs/realtime/connection)
- [Authentication guide](https://ably.com/docs/auth)
- [Transport configuration](https://ably.com/docs/realtime/connection#transport-params)
- [Network requirements](https://ably.com/docs/best-practice-guide#connectivity)
- Related errors: [80002 (Suspended)](./80002-connection-suspended.md), [80003 (Disconnected)](./80003-connection-disconnected.md)

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 80000
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md (specific notes for 80000 at lines 98-101)
- Existing Documentation: None found
- Repository Overviews: Not needed - sufficient context in research files
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: 
  - Network troubleshooting steps from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 27-53
  - Prevention strategies from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 56-79
  - Official FAQ information from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 82-87
- Content Excluded: None - all relevant information included
- Recommendations Source: 
  - Network checking from FAQ content
  - Credential verification from analysis
  - SSL/TLS issues from Slack discussions in knowledge file
- Code Examples Rationale: 
  - Configuration example included as essential for troubleshooting incorrect setup
  - Connection monitoring included as required for understanding automatic retry behavior
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on FAQ content in https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 11-16
  - Cause 2: From analysis findings in https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-analysis.md lines 12-14
  - Cause 3: From Slack discussions documented in https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 116-120
  - Cause 4: From analysis patterns in https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-analysis.md lines 146-154
- Resolution Steps: 
  - Step 1: FAQ advice from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 27-31
  - Step 2: Based on credential issues from analysis
  - Step 3: FAQ advice from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 38-42
  - Step 4: Configuration based on https://ably.com/docs/auth#basic-authentication
  - Step 5: Connection monitoring from https://ably.com/docs/realtime/connection#connection-state-recovery
- Prevention: Based on https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 56-79
- Platform-Specific: 
  - Android from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 165-170
  - Java SDK from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 108-113
  - Corporate networks from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80000-knowledge.md lines 172-176
-->

<!-- DOCUMENTATION SHORTCOMINGS:
None identified - Ably documentation adequately covers connection states, authentication, and transport configuration
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 80000
2. Regenerate: Run `./bin/ably-os errors document-error-codes 80000 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/main/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->