---
title: "Error 40300 - Forbidden"
meta_description: "Information and troubleshooting for Ably error code 40300 - Forbidden access"
meta_keywords: "Ably, error, error codes, 40300, forbidden, 403, authorization, permissions"
---

{/* Generated by: ably-os errors document-error-codes */}
{/* Repository: https://github.com/ably/ably-os */}
{/* Command: ./bin/ably-os errors document-error-codes 40300 */}
{/* Generated: 2025-11-07T08-36-41-586Z */}
{/* Sources:
     - Analysis: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/b819713/src/prompts/errors/editorial-notes.md
*/}
{/* Key Approach: Document as general forbidden error covering multiple scenarios including disabled accounts, insufficient permissions, and protocol violations */}
{/* Citations: Complete source attribution with line numbers available at bottom of document */}

A request was understood but refused due to insufficient permissions, policy violations, or account restrictions.

| Error code | HTTP status code | Category | Retryable |
| ---------- | ---------------- | -------- | --------- |
| 40300 | 403 | Client error (authorization) | No |

## Error messages

The following error messages can be returned with error code 40300:

| Message | Description |
| ------- | ----------- |
| Forbidden | General forbidden response for requests that cannot be authorized. |
| Forbidden (HTTPS required) | The request was made over HTTP instead of HTTPS. |
| Account [id] disabled | The account has been disabled by Ably. |
| Application [appId] disabled | The application has been disabled. |
| Rule type unavailable | The requested integration rule type is not available for this account. |
| Disallowed IP address | The IP address is blocked for security reasons. |
| You need to be sure | Confirmation parameter missing for a destructive operation. |
| Test routes are disabled in production | Attempting to access test endpoints in production environment. |
| Unable to publish to qualified channel | Publishing to this channel type is not permitted. |
| Malformed reauth request | The reauthentication token format is invalid. |

{/* Source: Messages from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md lines 16-138 */}

## Impact

This error prevents the current operation from completing. The impact varies based on the cause:

- **Disabled accounts/apps**: All operations for that account or app will fail until re-enabled.
- **HTTPS requirement**: Only affects connections over HTTP; switching to HTTPS resolves it.
- **Permission issues**: Only the specific unauthorized operation is affected.
- **IP blocking**: All requests from the blocked IP address are rejected.

This is an authorization error that will not be automatically retried. The underlying issue must be resolved before the operation will succeed.

{/* Source: Impact assessment based on https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md lines 28-35 */}

## Troubleshooting

The following are common causes and how to resolve them for error 40300:

### Application or account disabled

| Error messages |
| -------------- |
| Account [id] disabled |
| Application [appId] disabled |

This occurs when:

- Your Ably account has been suspended or disabled.
- The specific application has been disabled.
- Account limitations or billing issues have triggered a suspension.

To resolve this:

- Check your account status in the [Ably dashboard](https://ably.com/dashboard).
- Review any recent communications from Ably regarding account status.
- Contact [Ably support](https://ably.com/support) to understand why the account was disabled.
- Resolve any outstanding billing issues if applicable.

{/* Source: Account disabled scenarios from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md lines 20-30 and https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md lines 135-141 */}

### HTTPS required

| Error messages |
| -------------- |
| Forbidden (HTTPS required) |

This occurs when:

- Accessing the Control API over HTTP instead of HTTPS.
- Using unencrypted connections for secure endpoints.
- Development code using HTTP URLs in production.

To resolve this:

- Update all Control API URLs from `http://` to `https://`.
- Ensure production configurations always use HTTPS endpoints.
- Update your API client configuration:

<Code>
```javascript
// Wrong: Using HTTP
const controlApiUrl = 'http://control.ably.net/v1/accounts';

// Correct: Using HTTPS
const controlApiUrl = 'https://control.ably.net/v1/accounts';
```
</Code>

{/* Source: HTTPS requirement from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md lines 138-142 and https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md lines 8-12 */}

### Insufficient permissions

| Error messages |
| -------------- |
| Forbidden |
| Rule type unavailable |

This occurs when:

- Your API key lacks the required capabilities for the operation.
- The requested feature is not available on your account tier.
- Regional restrictions prevent access to certain features.
- Your token has valid authentication but insufficient scope.

To resolve this:

- Review your API key capabilities in the [Ably dashboard](https://ably.com/dashboard).
- Check if the feature requires a specific account tier or add-on.
- Verify your token includes the necessary capabilities:

<Code>
```javascript
// Ensure your token has the required capabilities
const tokenRequest = await ably.auth.createTokenRequest({
  capability: {
    'channel:*': ['publish', 'subscribe', 'presence']
  }
});
```
</Code>

- Review the [capability documentation](https://ably.com/docs/auth/capabilities) for proper configuration.

{/* Source: Permission issues from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md lines 14-27 */}

### Destructive operation without confirmation

| Error messages |
| -------------- |
| You need to be sure |

This occurs when:

- Attempting to delete accounts, apps, or other resources.
- Performing irreversible operations without confirmation.
- Missing the required `areYouSure=yes` parameter.

To resolve this:

- Add the confirmation parameter to destructive operations:

<Code>
```javascript
// Wrong: Missing confirmation
await fetch('/api/delete-app/appId', { method: 'DELETE' });

// Correct: Include confirmation
await fetch('/api/delete-app/appId?areYouSure=yes', { method: 'DELETE' });
```
</Code>

{/* Source: Confirmation requirements from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md lines 59-77 and https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md lines 111-119 */}

### IP address blocked

| Error messages |
| -------------- |
| Disallowed IP address |

This occurs when:

- The IP address is on Ably's security blocklist.
- Using localhost or private IP addresses in production integrations.
- Security policies prevent access from certain IP ranges.

To resolve this:

- Verify you're not using localhost URLs in production webhook or integration configurations.
- Check if your IP address might be flagged for security reasons.
- Use publicly accessible URLs for webhooks and integrations.
- Contact [Ably support](https://ably.com/support) if you believe your IP is incorrectly blocked.

{/* Source: IP blocking from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md lines 33-42 and https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md lines 143-146 */}

## Related errors

The following errors are related to error code 40300:

| Error code | Description |
| ---------- | ----------- |
| [40100 - Unauthorized](/docs/platform/errors/codes/40100) | Authentication failure, as opposed to authorization failure. |
| [40101 - Invalid API key](/docs/platform/errors/codes/40101) | API key is invalid or does not exist. |
| [40103 - Invalid use of basic auth](/docs/platform/errors/codes/40103) | Basic authentication used over non-TLS connection. |

## Need further help?

Contact [Ably support](https://ably.com/support) if you're still experiencing issues after trying the steps listed above.

You'll need to provide:

- Your account ID and app ID.
- The full error message including the error code.
- Steps to reproduce the issue.
- Any relevant code snippets (without any sensitive credentials).
- The SDK and version you're using.

### Resources

The following resources provide further context or assistance with this error:

- [API Security](https://ably.com/docs/api/rest-api#security)
- [Control API](https://ably.com/docs/api/control-api)
- [Authentication vs Authorization](https://ably.com/docs/auth)
- [Capability documentation](https://ably.com/docs/auth/capabilities)

{/* =============================================== */}
{/* INTERNAL DOCUMENTATION (NOT RENDERED) */}
{/* =============================================== */}

{/* SOURCES USED:
- Analysis File: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/b819713/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 40300)
- Example Documentation: https://github.com/ably/ably-os/blob/b819713/src/prompts/errors/example-4xx-error-documentation.mdx
*/}

{/* CONTENT DECISIONS:
- FAQ Content Preserved: No specific FAQ content found in knowledge files for 40300
- Content Excluded: Administrative safeguard details (internal operations)
- Recommendations Source: Based on analysis of common patterns in codebase
- Code Examples Rationale: Minimal code examples included only for HTTPS and capability configuration as these are essential for resolution
*/}

{/* ATTRIBUTION BY SECTION:
- Error Messages:
  - Based on analysis findings in https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md lines 16-138
  - Includes messages from realtime and website repositories
- Application/Account Disabled:
  - Analysis from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md lines 20-30
  - Knowledge from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md lines 135-141
- HTTPS Required:
  - Analysis from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md lines 138-142
  - Knowledge from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md lines 8-12
- Permissions:
  - Knowledge from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md lines 14-27
  - Based on Control API documentation patterns
- Confirmation Parameter:
  - Analysis from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md lines 59-77
  - Knowledge from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md lines 111-119
- IP Blocking:
  - Analysis from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-analysis.md lines 33-42
  - Knowledge from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/40300-knowledge.md lines 143-146
*/}

{/* URL Validation Completed: 2025-11-07T08-36-41-586Z */}
{/* External URLs verified: 5 | Corrected: 0 | Exempted internal: 0 */}

{/* IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 40300
2. Regenerate: Run `./bin/ably-os errors document-error-codes 40300 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/b819713/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
*/}