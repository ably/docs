---
title: "ably apps channel-rules create"
meta_description: "Create a channel rule for an Ably app using the CLI."
meta_keywords: "ably cli, cli, apps, channel rules, create rule, ably apps channel-rules create"
---

<Code>
```shell
ably apps channel-rules create --name <name> [flags]
```
</Code>

Use the `ably apps channel-rules create` command to create a new [channel rule](/docs/channels/channel-rules-namespaces) for an Ably app. Channel rules define behaviors and settings for groups of channels that match a specific naming pattern.

## Arguments

### `--name` <a id="name"/>

The name of the channel rule. This defines the pattern that channels must match to be affected by this rule.

## Flags

In addition to the [global flags](/docs/cli#global-flags), the `ably apps channel-rules create` command supports:

### `--app` <a id="app"/>

App ID or name to create the channel rule in. If not specified, uses the current app from your CLI configuration.

### `--authenticated` <a id="authenticated"/>

Whether channels matching this rule require clients to be authenticated.

### `--persisted` <a id="persisted"/>

Whether messages on channels matching this rule should be persisted to [message history](/docs/storage-history/history).

### `--persist-last` <a id="persist-last"/>

Whether to persist only the last message on channels matching this rule.

### `--push-enabled` <a id="push-enabled"/>

Whether [push notifications](/docs/push) should be enabled for channels matching this rule.

### `--tls-only` <a id="tls-only"/>

Whether to enforce TLS for channels matching this rule.

### `--populate-channel-registry` <a id="populate-channel-registry"/>

Whether to populate the channel registry for channels matching this rule.

### `--batching-enabled` <a id="batching-enabled"/>

Whether to enable batching for messages on channels matching this rule.

### `--batching-interval` <a id="batching-interval"/>

The batching interval for messages on channels matching this rule (in milliseconds).

### `--conflation-enabled` <a id="conflation-enabled"/>

Whether to enable [delta compression](/docs/channels/channel-parameters/deltas) (conflation) for messages on channels matching this rule.

### `--conflation-interval` <a id="conflation-interval"/>

The conflation interval for messages on channels matching this rule (in milliseconds).

### `--conflation-key` <a id="conflation-key"/>

The conflation key for messages on channels matching this rule.

### `--expose-time-serial` <a id="expose-time-serial"/>

Whether to expose the time serial for messages on channels matching this rule.

## Global flags

The following global flags are supported using the `ably apps channel-rules create` command:

* [`--access-token`](/docs/cli#access-token)
* [`--api-key`](/docs/cli#api-key)
* [`--client-id`](/docs/cli#client-id)
* [`--env`](/docs/cli#env)
* [`--endpoint`](/docs/cli#endpoint)
* [`--host`](/docs/cli#host)
* [`--json`](/docs/cli#json)
* [`--pretty-json`](/docs/cli#pretty-json)
* [`--token`](/docs/cli#token)
* [`--verbose`](/docs/cli#verbose)

## Examples

Create a basic channel rule with persistence:

```shell
ably apps channel-rules create --name "chat" --persisted
```

Create a channel rule with push notifications enabled:

```shell
ably apps channel-rules create --name "events" --push-enabled
```

Create a comprehensive channel rule:

```shell
ably apps channel-rules create --name "notifications" --persisted --push-enabled --app "My App"
```
