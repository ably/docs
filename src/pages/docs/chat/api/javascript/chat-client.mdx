---
title: ChatClient
meta_description: ""
---

The `ChatClient` class is the core client for Ably Chat.

---

## Accessors

| Property | Description | Type |
| -------- | ----------- | ---- |
| `clientId` | The clientId of the current client. | String |
| `clientOptions` | The resolved client options for the client, including any defaults that have been set. | [`ChatClientOptions`](#chatclientoptions) |
| `connection` | The underlying connection to Ably, which can be used to monitor the client's connection to Ably servers. | [`Connection`](/docs/chat/api/javascript/connection) |
| `realtime` | The underlying Ably Realtime client. | [`Realtime`](#realtime) |
| `rooms` | The rooms object, which provides access to chat rooms. | [`Rooms`](/docs/chat/api/javascript/rooms) |

---

## Constructor

`new ChatClient()`

Creates a new ChatClient instance.

`new ChatClient(realtime: Realtime, clientOptions?: ChatClientOptions): ChatClient`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `realtime` | The Ably Realtime client. | [`Realtime`](https://sdk.ably.com/builds/ably/ably-js/main/typedoc/) |
| `clientOptions` | *Optional* The client options. | [`ChatClientOptions`](#chatclientoptions) |

#### ChatClientOptions

The following `ChatClientOptions` can be set:

| Properties | Description | Type |
| ---------- | ----------- | ---- |
| `logLevel` | *Optional* The logging level to use. The default is `LogLevel.Error`. | [`LogLevel`](#loglevel) |
| `logHandler` | *Optional* A custom log handler. The default behavior will log messages to the console. | [`LogHandler`](#loghandler) |

#### LogLevel

An enum representing the different log levels.

Logs of higher severity than the specified `LogLevel` are automatically logged.

It has the following members:

| Member | Description |
| ------ | ----------- |
| `Silent` |	No logging will be performed. |
| `Trace` |	Something routine and expected has occurred. This level will provide logs for the vast majority of operations and function calls. |
| `Debug` |	Development information, messages that are useful when trying to debug library behavior, but superfluous to normal operation. |
| `Info` |	Informational messages. Operationally significant to the library but not out of the ordinary. |
| `Warn` |	Anything that is not immediately an error, but could cause unexpected behavior in the future. For example, passing an invalid value to an option. Indicates that some action should be taken to prevent future errors. |
| `Error` |	A given operation has failed and cannot be automatically recovered. The error may threaten the continuity of operation. |

#### LogHandler

A function that handles log messages.

`LogHandler: (message: string, level: LogLevel, context?: LogContext) => void`

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `message` | The message being logged. | String |
| `logLevel` | The log level of the message. | [`LogLevel`](#loglevel) |
| `context` | *Optional* The context of the log message as key-value pairs. | [`LogContext`](#logcontext) |

#### LogContext

Represents the context of a log message. It is an object of key-value pairs that can be used to provide additional context to a log message.

`LogContext: Record<string, any>`

### Returns

Returns a new `ChatClient` instance.

<Code>
```javascript
import * as Ably from 'ably';
import { ChatClient, LogLevel } from '@ably/chat';

const realtimeClient = new Ably.Realtime({ key: 'your-api-key' });
const chatClient = new ChatClient(realtimeClient, {
  logLevel: 'LogLevel.Debug'
});
```
</Code>

---

## Realtime

The Chat constructor requires a realtime client generated using the core [Pub/Sub SDK]() to establish a connection with Ably. The realtime client handles [authentication](/docs/chat/api/javascript/auth) with Ably.

`new Ably.Realtime(ClientOptions clientOptions)`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `clientOptions` | The options to pass to customize the client connection. | [`ClientOptions`](#clientoptions) |

### ClientOptions

The following `ClientOptions` can be set:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `clientId` | *Optional* The identity of the client. It may also be implicit within an Ably Token or JWT. This is required to use the Chat SDK. | String |
| `authUrl` | *Optional* A URL that the SDK uses to obtain a fresh Ably Token or JWT. | String |
| `authCallback` | *Optional* A function in the form `function(tokenParams, callback(err, tokenOrTokenRequest))` which is called when a fresh Ably Token or JWT is required. | Callable |
| `key` | *Optional* A full API key obtained from your Ably dashboard. This should only used with basic authentication for your authentication server or for clients in development environments. | String |
