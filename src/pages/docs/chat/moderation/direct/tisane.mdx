---
title: Tisane
meta_description: "Detect and remove unwanted content in a Chat Room using Tisane AI."
---

[Tisane](https://tisane.ai/) is a powerful Natural Language Understanding (NLU) platform that can be used to moderate content in chat rooms.

The Tisane rule is a rule applied to chat rooms in Ably Chat which enables you to use Tisane's text moderation capabilities to detect and handle inappropriate content before it is published to other users.

## Integration setup <a id="setup"/>

Configure the integration rule in your [Ably dashboard](https://ably.com/accounts/any/apps/any/integrations) or using the [Control API](/docs/account/control-api).

The following are the fields specific to Tisane configuration:

| Field | Description |
| ----- | ----------- |
| Tisane API key | The API key for your Tisane account. |
| Thresholds | A map of [text moderation categories](https://docs.tisane.ai/apis/tisane-api-response-guide#supported-types) to severity levels (`low`, `medium`, `high`, `extreme`). When moderating text, any message deemed to be at or above a specified threshold will be rejected and not published to the chat room. |
| Default Language | The language to use for content analysis. |
| Model URL (optional) | A custom URL if using a custom moderation model. |
| Retry timeout | Maximum duration (in milliseconds) that an attempt to invoke the rule may take (including any retries). The possible range is 0 - 5000ms. |
| Max retries | Maximum number of retries after the first attempt at invoking the rule. |
| Failed action | The action to take in the event that a rule fails to invoke. Options are reject the request or publish anyway. |
| Too many requests action | The action to take in the event that Tisane returns a 429 (Too Many Requests Response). Options are to fail rule invocation, or retry. |
| Room filter (optional) | A regular expression to match to specific chat rooms. |

## Handling rejections <a id="rejections"/>

If a message fails moderation the message will not be published and the publish request will be rejected.

Moderation rejections will use error code `42213`.
