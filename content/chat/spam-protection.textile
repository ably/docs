---
title: Spam protection
meta_description: "Limit chat participant's ability to post messages within a given timeframe within specific channels, or entire channel namespaces."
product: chat
languages:
  - javascript
---

Large-scale live-streaming channels may result in high volumes of participants having difficulties keeping up with the flow of the channels. Every chat platform also works hard to fight against the risk of those with malicious intent on spamming their channels. Spam protection enables you to prevent users from sending an excessive number of messages in a short period of time.

Chat participants can be restricted either on individual channels, or as a set of channels defined by a common namespace. For example if you set the value of @ably.limits.publish.perAttachment.maxRate.chat:*@ to one of @1@, then chat participants would only be able publish one message per second in any channel defined under the @chat@ namespace. Examples of other possibilities are shown in the table below:

|_=. maxRate Value |_=. Message rate |
| 0.1 | 1 every 10 seconds |
| 1 | 1 per second |
| 5 | 5 per second |
| 10 | 10 per second |

h2(#set-limits). Set limits

Limits are set in the auth token which are generated from a trusted device that has access to the API key. The limits are defined within the claims in your JWT authentication payload using the key @ably.limits.publish.perAttachment.maxRate.<resource-name>@.

*Note:* Limits are only supported in token authentication. They are not available when using legacy tokens or "basic auth":/auth/basic . Limits will only apply to each attachment to a channel, meaning if your client is subscribed to two channels, each channel follows its own rules for that limit restriction. The REST API also counts each request as its own instance, so a limit would also not apply here.

For example, to limit chat participants to only be able to publish 10 messages per second in the @chat1@ room, but 1 message every 10 seconds in any channel under the @chat@ namespace, your claims object would appear similar to what's shown in the example below:

```[javascript]
const claims = {
  "sub": "1234567890",
  "name": "John Doe",
  "x-ably-capability": <...>,
  "x-ably-clientId": <...>,
  "ably.limits.publish.perAttachment.maxRate.chat1": 10,
  "ably.limits.publish.perAttachment.maxRate.chat:*": 0.1
}
```
