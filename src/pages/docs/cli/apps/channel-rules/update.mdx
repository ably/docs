---
title: "ably apps channel-rules update"
meta_description: "Update a channel rule for an Ably app using the CLI."
meta_keywords: "ably cli, cli, apps, channel rules, update rule, ably apps channel-rules update"
---

<Code>
```shell
ably apps channel-rules update <NAMEORID> [flags]
```
</Code>

Use the `ably apps channel-rules update` command to modify an existing [channel rule](/docs/channels/channel-rules-namespaces) for an Ably app. You can update various settings including persistence, authentication, and push notification configurations.

## Arguments

### `<NAMEORID>` <a id="nameorid"/>

The name or ID of the channel rule to update, for example: `chat` or `/gfgdchvj`.

## Flags

In addition to the [global flags](/docs/cli#global-flags), the `ably apps channel-rules update` command supports:

### `--app` <a id="app"/>

App ID or name to update the channel rule in. If not specified, uses the current app from your CLI configuration.

### `--authenticated` / `--no-authenticated` <a id="authenticated"/>

Enable or disable authentication requirement for channels matching this rule.

### `--persisted` / `--no-persisted` <a id="persisted"/>

Enable or disable message persistence to [message history](/docs/storage-history/history) for channels matching this rule.

### `--persist-last` / `--no-persist-last` <a id="persist-last"/>

Enable or disable persisting only the last message on channels matching this rule.

### `--push-enabled` / `--no-push-enabled` <a id="push-enabled"/>

Enable or disable [push notifications](/docs/push) for channels matching this rule.

### `--tls-only` / `--no-tls-only` <a id="tls-only"/>

Enable or disable TLS enforcement for channels matching this rule.

### `--populate-channel-registry` / `--no-populate-channel-registry` <a id="populate-channel-registry"/>

Enable or disable populating the channel registry for channels matching this rule.

### `--batching-enabled` / `--no-batching-enabled` <a id="batching-enabled"/>

Enable or disable message batching for channels matching this rule.

### `--batching-interval` <a id="batching-interval"/>

Set the batching interval for messages on channels matching this rule (in milliseconds).

### `--conflation-enabled` / `--no-conflation-enabled` <a id="conflation-enabled"/>

Enable or disable [delta compression](/docs/channels/channel-parameters/deltas) (conflation) for messages on channels matching this rule.

### `--conflation-interval` <a id="conflation-interval"/>

Set the conflation interval for messages on channels matching this rule (in milliseconds).

### `--conflation-key` <a id="conflation-key"/>

Set the conflation key for messages on channels matching this rule.

### `--expose-time-serial` / `--no-expose-time-serial` <a id="expose-time-serial"/>

Enable or disable exposing the time serial for messages on channels matching this rule.

## Global flags

The following global flags are supported using the `ably apps channel-rules update` command:

* [`--access-token`](/docs/cli#access-token)
* [`--api-key`](/docs/cli#api-key)
* [`--client-id`](/docs/cli#client-id)
* [`--env`](/docs/cli#env)
* [`--endpoint`](/docs/cli#endpoint)
* [`--host`](/docs/cli#host)
* [`--json`](/docs/cli#json)
* [`--pretty-json`](/docs/cli#pretty-json)
* [`--token`](/docs/cli#token)
* [`--verbose`](/docs/cli#verbose)

## Examples

Enable persistence for a channel rule:

```shell
ably apps channel-rules update chat --persisted
```

Disable push notifications for a channel rule:

```shell
ably apps channel-rules update events --push-enabled=false
```

Update multiple settings for a channel rule:

```shell
ably apps channel-rules update notifications --persisted --push-enabled --app "My App"
```
