---
title: MessageReactions
meta_description: "API reference for the MessageReactions interface in the Ably Chat JavaScript SDK."
meta_keywords: "Ably Chat SDK, JavaScript, MessageReactions API, send, delete, subscribe, subscribeRaw, clientReactions, message reactions"
---

The `MessageReactions` interface provides methods to send, delete, and subscribe to reactions on specific messages. Unlike room reactions, message reactions are persisted and associated with individual chat messages. Access it via `room.messages.reactions`.

<Code>
```javascript
const reactions = room.messages.reactions;
```
</Code>

Message reactions support three counting strategies:
- **Unique**: One reaction per client per message (like iMessage, WhatsApp)
- **Distinct**: One reaction of each type per client (like Slack)
- **Multiple**: Unlimited reactions including repeats (like Medium claps)

## Send a reaction to a message <a id="send"/>

<MethodSignature>{`reactions.send(messageSerial: string, params: SendMessageReactionParams): Promise<void>`}</MethodSignature>

Sends a reaction to a specific chat message. The reaction is persisted and contributes to the message's reaction summary.

This method uses the Ably Chat REST API and does not require the room to be attached.

<Code>
```javascript
await room.messages.reactions.send('message-serial-123', {
  name: 'üëç'
});
```
</Code>

### Parameters <a id="send-params"/>

The `send()` method takes the following parameters:

<Table id='SendParameters'>

| Parameter | Required | Description | Type |
| --- | --- | --- | --- |
| messageSerial | Required | The serial of the message to react to. | String |
| params | Required | The reaction parameters. | <Table id='SendMessageReactionParams'/> |

</Table>

<Table id='SendMessageReactionParams' hidden>

| Property | Required | Description | Type |
| --- | --- | --- | --- |
| name | Required | The reaction identifier, typically an emoji. | String |
| type | Optional | The counting strategy for this reaction. Defaults vary by room configuration. | <Table id='MessageReactionType'/> |
| count | Optional | Number of times to count this reaction. Only applies to `Multiple` type. Defaults to `1`. | Number |

</Table>

<Table id='MessageReactionType' hidden>

| Value | Description |
| --- | --- |
| Unique | One reaction per client per message. A second reaction replaces the first. Similar to iMessage, Facebook Messenger, or WhatsApp. The value is `unique`. |
| Distinct | One reaction of each type per client per message. Multiple different reactions allowed. Similar to Slack. The value is `distinct`. |
| Multiple | Unlimited reactions including repeats. Includes a count for batch reactions. Similar to Medium claps. The value is `multiple`. |

</Table>

### Returns <a id="send-returns"/>

`Promise<void>`

Returns a promise. The promise is fulfilled when the reaction has been sent, or rejected with an `ErrorInfo` object.

## Delete a reaction from a message <a id="delete"/>

<MethodSignature>{`reactions.delete(messageSerial: string, params?: DeleteMessageReactionParams): Promise<void>`}</MethodSignature>

Removes a previously sent reaction from a chat message.

This method uses the Ably Chat REST API and does not require the room to be attached.

<Code>
```javascript
await room.messages.reactions.delete('message-serial-123', {
  name: 'üëç'
});
```
</Code>

### Parameters <a id="delete-params"/>

The `delete()` method takes the following parameters:

<Table id='DeleteParameters'>

| Parameter | Required | Description | Type |
| --- | --- | --- | --- |
| messageSerial | Required | The serial of the message to remove the reaction from. | String |
| params | Optional | Parameters specifying which reaction to delete. | <Table id='DeleteMessageReactionParams'/> |

</Table>

<Table id='DeleteMessageReactionParams' hidden>

| Property | Required | Description | Type |
| --- | --- | --- | --- |
| name | Optional | The reaction identifier to delete. Required except for `Unique` type. | String |
| type | Optional | The counting strategy of the reaction to delete. | <Table id='MessageReactionType'/> |

</Table>

### Returns <a id="delete-returns"/>

`Promise<void>`

Returns a promise. The promise is fulfilled when the reaction has been deleted, or rejected with an `ErrorInfo` object.

## Subscribe to reaction summaries <a id="subscribe"/>

<MethodSignature>{`reactions.subscribe(listener: MessageReactionListener): Subscription`}</MethodSignature>

Subscribes to aggregated reaction count summaries for messages. Receives updates when the total reaction counts change on any message in the room.

The room must be [attached](/docs/chat/api/javascript/room#attach) to receive reaction summary events.

<Code>
```javascript
const { unsubscribe } = room.messages.reactions.subscribe((event) => {
  console.log('Message:', event.messageSerial);
  console.log('Reactions:', event.reactions);
});

// To stop receiving reaction summaries
unsubscribe();
```
</Code>

### Parameters <a id="subscribe-params"/>

The `subscribe()` method takes the following parameters:

<Table id='SubscribeParameters'>

| Parameter | Required | Description | Type |
| --- | --- | --- | --- |
| listener | Required | Callback invoked when reaction summaries change. | <Table id='MessageReactionSummaryEvent'/> |

</Table>

<Table id='MessageReactionSummaryEvent' hidden>

| Property | Description | Type |
| --- | --- | --- |
| type | The event type. | <Table id='MessageReactionSummaryEventType'/> |
| messageSerial | The serial of the message. | String |
| reactions | The aggregated reaction counts. | <Table id='MessageReactionSummary'/> |

</Table>

<Table id='MessageReactionSummaryEventType' hidden>

| Value | Description |
| --- | --- |
| Summary | A reaction summary update was received. The value is `reaction.summary`. |

</Table>

<Table id='MessageReactionSummary' hidden>

| Property | Description | Type |
| --- | --- | --- |
| unique | Reactions counted with the "unique" strategy (one per client per message). Maps reaction name to summary. | <Table id='SummaryClientIdList'/> |
| distinct | Reactions counted with the "distinct" strategy (one of each type per client). Maps reaction name to summary. | <Table id='SummaryClientIdList'/> |
| multiple | Reactions counted with the "multiple" strategy (unlimited per client). Maps reaction name to summary. | <Table id='SummaryClientIdCounts'/> |

</Table>

<Table id='SummaryClientIdList' hidden>

| Property | Description | Type |
| --- | --- | --- |
| total | The total number of clients who have reacted with this name. | Number |
| clientIds | A list of the client IDs of all clients who have reacted with this name. | String[] |

</Table>

<Table id='SummaryClientIdCounts' hidden>

| Property | Description | Type |
| --- | --- | --- |
| total | The total count of reactions with this name across all clients. | Number |
| clientIds | A map of client ID to the count each client has contributed. | `Record<string, number>` |
| totalUnidentified | The total count from unidentified clients not included in `clientIds`. | Number |

</Table>

### Returns <a id="subscribe-returns"/>

`Subscription`

Returns an object with the following methods:

#### Unsubscribe from reaction summaries <a id="subscribe-unsubscribe"/>

<MethodSignature>unsubscribe(): void</MethodSignature>

Call `unsubscribe()` to stop receiving reaction summary events.

## Subscribe to individual reaction events <a id="subscribeRaw"/>

<MethodSignature>{`reactions.subscribeRaw(listener: MessageRawReactionListener): Subscription`}</MethodSignature>

Subscribes to individual reaction events, receiving notifications each time a user adds or removes a reaction. This provides more granular updates than the summary subscription.

The room must be [attached](/docs/chat/api/javascript/room#attach) to receive raw reaction events. Raw message reactions must also be enabled when [creating the room](/docs/chat/api/javascript/rooms#get) by setting `rawMessageReactions: true` in the `MessagesOptions`.

<Aside data-type='note'>
Raw reactions are not suitable for the purpose of displaying message reaction counts as their effect on the reactions summary depends on the previous reactions.
</Aside>

<Code>
```javascript
const { unsubscribe } = room.messages.reactions.subscribeRaw((event) => {
  if (event.type === 'reaction.create') {
    console.log(`${event.reaction.clientId} reacted with ${event.reaction.name}`);
  } else if (event.type === 'reaction.delete') {
    console.log(`${event.reaction.clientId} removed ${event.reaction.name}`);
  }
});

// To stop receiving raw events
unsubscribe();
```
</Code>

### Parameters <a id="subscribeRaw-params"/>

The `subscribeRaw()` method takes the following parameters:

<Table id='SubscribeRawParameters'>

| Parameter | Required | Description | Type |
| --- | --- | --- | --- |
| listener | Required | Callback invoked for each individual reaction event. | <Table id='MessageReactionRawEvent'/> |

</Table>

<Table id='MessageReactionRawEvent' hidden>

| Property | Description | Type |
| --- | --- | --- |
| type | The event type. The value is `reaction.create` or `reaction.delete`. | MessageReactionRawEventType |
| timestamp | When the event occurred. | Date |
| reaction | The reaction details. | <Table id='MessageReactionRawEventReaction'/> |

</Table>

<Table id='MessageReactionRawEventReaction' hidden>

| Property | Required | Description | Type |
| --- | --- | --- | --- |
| messageSerial | Required | The serial of the message. | String |
| type | Required | The counting strategy. | <Table id='MessageReactionType'/> |
| name | Required | The reaction identifier. | String |
| count | Optional | The count for Multiple type reactions. | Number |
| clientId | Required | The client ID who sent the reaction. | String |

</Table>

### Returns <a id="subscribeRaw-returns"/>

`Subscription`

Returns an object with the following methods:

#### Unsubscribe from raw reaction events <a id="subscribeRaw-unsubscribe"/>

<MethodSignature>unsubscribe(): void</MethodSignature>

Call `unsubscribe()` to stop receiving raw reaction events.

## Get reactions for a specific client <a id="clientReactions"/>

<MethodSignature>{`reactions.clientReactions(messageSerial: string, clientId?: string): Promise<MessageReactionSummary>`}</MethodSignature>

Retrieves the reaction data for a specific client on a message. If no client ID is provided, returns reactions for the current user.

<Code>
```javascript
// Get current user's reactions on a message
const myReactions = await room.messages.reactions.clientReactions('message-serial-123');

// Get another user's reactions
const theirReactions = await room.messages.reactions.clientReactions('message-serial-123', 'user-456');
```
</Code>

### Parameters <a id="clientReactions-params"/>

The `clientReactions()` method takes the following parameters:

<Table id='ClientReactionsParameters'>

| Parameter | Required | Description | Type |
| --- | --- | --- | --- |
| messageSerial | Required | The serial of the message to get reactions for. | String |
| clientId | Optional | The client ID to get reactions for. Defaults to the current user. | String |

</Table>

### Returns <a id="clientReactions-returns"/>

`Promise<MessageReactionSummary>`

Returns a promise. The promise is fulfilled with the reaction data for the specified client, or rejected with an `ErrorInfo` object.

## Example

<Code>
```javascript
import { MessageReactionType, MessageReactionRawEventType } from '@ably/chat';

const room = await chatClient.rooms.get('my-room', {
  messages: { rawMessageReactions: true }
});
await room.attach();

// Subscribe to reaction summaries
const { unsubscribe: unsubscribeSummary } = room.messages.reactions.subscribe((event) => {
  const { messageSerial, reactions } = event;

  // Update UI with reaction counts
  for (const [name, summary] of Object.entries(reactions.distinct)) {
    console.log(`${name}: ${summary.total} reactions from ${summary.clientIds.length} clients`);
  }
});

// Subscribe to individual reaction events for animations
const { unsubscribe: unsubscribeRaw } = room.messages.reactions.subscribeRaw((event) => {
  if (event.type === MessageReactionRawEventType.Create) {
    // Show reaction animation
    showReactionAnimation(event.reaction.name, event.reaction.clientId);
  }
});

// Send a distinct reaction (Slack-style)
await room.messages.reactions.send('message-serial-123', {
  name: 'üëç',
  type: MessageReactionType.Distinct
});

// Send multiple reactions (Medium-style claps)
await room.messages.reactions.send('message-serial-456', {
  name: 'üëè',
  type: MessageReactionType.Multiple,
  count: 5
});

// Remove a reaction
await room.messages.reactions.delete('message-serial-123', {
  name: 'üëç'
});

// Check what reactions I've sent on a message
const myReactions = await room.messages.reactions.clientReactions('message-serial-123');
console.log('My reactions:', myReactions);

// Clean up
unsubscribeSummary();
unsubscribeRaw();
```
</Code>
