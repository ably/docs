<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 50310 -->
<!-- Generated: 2025-08-25T12-12-38-783Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Enhanced documentation with comprehensive edge proxy architecture context, specific failure patterns from real incidents, and corrected retry guidance per editorial notes (no exponential backoff for 503 errors) -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 50310: Edge service unavailable

## What Happened

Ably's CloudFront edge proxy service received a service unavailable response (HTTP 503) from the Ably platform backend.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 50310 | 503 | Server Error (Edge Proxy) | Yes - temporary platform issue |

## Quick Fix

- No immediate action required - Ably SDKs handle retry automatically
- Check [Ably status page](https://status.ably.com) if persistent
- If experiencing high-volume operations, consider implementing rate limiting

## Error Messages

You may see this message:
- "Ably's edge proxy service received a service unavailable response code from the Ably platform"

## Common Causes

1. **Platform overload during traffic spikes** (most common)
   - High volume of requests overwhelming the platform
   - Often seen during push device registrations or bulk operations
   - Example: 10+ new users/second with multiple device registrations each
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md lines 65-68 -->

2. **Backend service availability issues**
   - Core Ably services experiencing problems
   - Router failing to forward requests via netmap
   - Connection timeout issues in frontdoor services
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md lines 55-61 -->

3. **Network communication problems**
   - Issues between CloudFront edge and Ably platform
   - Context cancellation errors in frontend layers
   - Serverside ping check warnings (180-240s since last ping)
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md lines 57-59 -->

4. **Deployment or maintenance windows**
   - Platform updates being rolled out
   - Scheduled maintenance activities
   - Check status page for announcements
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md line 28 -->

## Resolution Steps

1. **For transient errors (most cases)**
   - Ably SDKs automatically retry with appropriate backoff
   - No action required unless persistent beyond 2 minutes
   - Monitor connection state for automatic recovery
   <!-- Source: SDK automatic retry behavior per editorial notes - no manual exponential backoff needed -->

2. **For persistent errors (>2 minutes)**
   - Check https://status.ably.com for platform incidents
   - Review recent changes to your implementation
   - Note the time and frequency of errors for support
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md line 84 -->

3. **For high-volume operations**
   - Implement rate limiting on bulk operations
   - Spread device registrations over time (avoid 10+ users/second)
   - Consider batching requests where possible
   - Use connection pooling to reduce overhead
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md lines 65-68, 85 -->

4. **Monitor recovery with connection events**
   ```javascript
   ably.connection.on('connected', () => {
     console.log('Successfully reconnected to Ably');
   });
   
   ably.connection.on('disconnected', () => {
     console.log('Disconnected - SDK will retry automatically');
   });
   
   ably.connection.on('suspended', () => {
     console.log('Connection suspended after extended disconnect');
     // May need manual intervention at this point
   });
   ```
   <!-- Source: Standard Ably connection state management pattern from https://ably.com/docs/connect/states -->

## Automatic Handling

Ably SDKs automatically handle 503 errors with:
- Appropriate retry strategy (not exponential backoff per editorial notes)
- Connection state preservation during retries
- Automatic reconnection when platform recovers
- Message queueing (if enabled) during temporary disconnection

Manual retry logic is not needed and should not be implemented.

## Prevention

While 503 errors indicate platform-side issues, you can minimize impact:

- **Implement gradual rollouts**: Avoid sudden traffic spikes
- **Use connection pooling**: Reduce connection overhead
- **Cache authentication tokens**: Minimize token request frequency
- **Monitor rate limits**: Stay within published limits
- **Implement circuit breakers**: Fail fast during extended outages

## Performance Impact

This error may affect:
- Real-time message delivery (temporary delays)
- Token authentication requests (may fail during outage)
- Push device registrations (particularly under high load)
- PubNub translator connections (if using adapter)

## Related Resources

- [Ably Status Page](https://status.ably.com)
- [Connection State Management](https://ably.com/docs/connect/states)
- [Connection Overview](https://ably.com/docs/connect/)
- [API Reference - Connection](https://ably.com/docs/api/realtime-sdk/connection)

## Related Errors

• **[50010 - Edge Internal Error](https://help.ably.io/error/50010)**  
  Generic edge proxy error when internal failures occur

• **[50210 - Edge Bad Gateway](https://help.ably.io/error/50210)**  
  Edge proxy received invalid response from platform

• **[50410 - Edge Gateway Timeout](https://help.ably.io/error/50410)**  
  Platform didn't respond within timeout period

• **[50003 - Timeout Error](https://help.ably.io/error/50003)**  
  General timeout error that may occur alongside 503 errors

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 50310
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md (Note: Editorial guidance applied - no exponential backoff for non-429 errors)
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/50310-edge-service-unavailable.mdx (enhanced with new insights and corrections)
- Repository Overviews: Not used for this error
-->

<!-- URL Validation Completed: 2025-08-25T12-12-38-783Z -->
<!-- External URLs verified: 6 | Corrected: 0 | Exempted internal: 2 -->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: No FAQ content was available for error 50310
- Content Excluded: 
  - Specific customer names from Slack discussions (Mentimeter, Visionbox)
  - Internal app IDs (zJgw1w)
  - Account IDs that coincidentally match error code
  - Removed incorrect exponential backoff recommendation per editorial notes
- Recommendations Source: 
  - Automatic retry: Editorial notes guidance that SDKs handle retry automatically
  - Status page check: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md line 84
  - Load management: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md lines 65-68
  - Rate limiting: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md line 85
- Code Examples Rationale: Connection state monitoring included as essential for understanding recovery process per writing guide requirements
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1 (Platform overload): https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md lines 65-68 - real incident data from load testing
  - Cause 2 (Backend issues): https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md lines 55-61 - PubNub translator investigation
  - Cause 3 (Network issues): https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md lines 57-59 - specific symptoms observed
  - Cause 4 (Maintenance): https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md line 28 - general cause pattern
- Resolution Steps: 
  - Step 1 (Auto retry): Editorial notes - SDKs handle retry automatically, no exponential backoff for 503
  - Step 2 (Status check): https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md line 84 - support guidance
  - Step 3 (Rate limiting): https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md lines 65-68, 85 - from load test incident
  - Step 4 (Monitoring): Standard Ably connection state patterns per documentation at https://ably.com/docs/connect/states
- Prevention: Based on analysis of common causes and Ably best practices
- Performance Impact: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/50310-knowledge.md lines 76-80 - documented customer impacts
-->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Specific guidance on bulk operation rate limits
- Missing: Detailed CloudFront edge proxy architecture documentation
- Impact: Users may not understand infrastructure layers or safe operation thresholds
- Recommendation: Add dedicated edge proxy architecture guide and bulk operation best practices
- Severity: Medium - affects understanding of high-volume scenarios
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 50310
2. Regenerate: Run `./bin/ably-os errors document-error-codes 50310 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->