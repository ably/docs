---
title: "ably channels occupancy subscribe"
meta_description: "Subscribe to occupancy events on an Ably channel using the CLI."
meta_keywords: "ably cli, cli, command, occupancy subscribe, realtime occupancy, channel monitoring"
---

<Code>
```shell
ably channels occupancy subscribe <channel> [flags]
```
</Code>

Use the `ably channels occupancy subscribe` command to subscribe to occupancy metrics for a channel. Occupancy metrics display high-level metrics about the clients attached to a channel, such as the number of connections.

## Arguments

Pass the following argument to the `ably channels occupancy subscribe` command:

### `<channel>` <a id="channel"/>

The channel name to subscribe to occupancy events for, for example: `example-channel`.

## Flags

You can optionally pass the following flag to the `ably channels occupancy subscribe` command:

### `--duration | -D` <a id="duration"/>

Automatically exit after the given number of seconds. Set to `0` to run indefinitely. The default is `0`.

## Global flags

The following global flags are supported using the `ably channels occupancy subscribe` command:

* [`--token`](/docs/cli#token)
* [`--json`](/docs/cli#json)
* [`--pretty-json`](/docs/cli#pretty-json)
* [`--api-key`](/docs/cli#api-key)
* [`--access-token`](/docs/cli#access-token)
* [`--client-id`](/docs/cli#client-id)
* [`--env`](/docs/cli#env)
* [`--host`](/docs/cli#host)
* [`--endpoint`](/docs/cli#endpoint)
* [`--verbose`](/docs/cli#verbose)

## Output

Each occupancy event includes the following metrics:

| Metric | Description |
| ------ | ----------- |
| connections |	The number of connections. |
| publishers |	The number of connections that are authorized to publish. |
| subscribers |	The number of connections that are authorized to subscribe to messages. |
| presenceSubscribers |	The number of connections that are authorized to subscribe to presence messages. |
| presenceConnections |	The number of connections that are authorized to enter members into the presence channel. |
| presenceMembers |	The number of members currently entered into the presence channel. |
| objectPublishers |	The number of connections that are authorized to publish updates to objects on the channel. |
| objectSubscribers |	The number of connections that are authorized to subscribe to objects on the channel. |

## Examples

### Subscribe to occupancy events

Monitor occupancy changes on a channel:

<Code>
```shell
ably channels occupancy subscribe example-channel
```
</Code>

**Output:**
<Code>
```text
Using: App=example-app (Ab1CdE) â€¢ Key=example-key (Ab1CdE.FgHiJk)

Subscribing to occupancy events on channel: example-channel
Listening for occupancy events. Press Ctrl+C to exit.
[2025-01-20T14:09:29.426Z] Channel: example-channel | Occupancy Update
Occupancy Data: {
  "metrics": {
    "connections": 2,
    "publishers": 2,
    "subscribers": 2,
    "presenceConnections": 2,
    "presenceMembers": 0,
    "presenceSubscribers": 2,
    "objectSubscribers": 0,
    "objectPublishers": 0
  }
}
```
</Code>

The command will continue to show occupancy updates as they occur.

### Subscribe with automatic exit

Monitor occupancy for 30 seconds then exit:

<Code>
```shell
ably channels occupancy subscribe example-channel --duration 30
```
</Code>
