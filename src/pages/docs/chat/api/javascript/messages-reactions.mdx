---
title: MessagesReactions
meta_description: ""
---

The `MessagesReactions` interface is used to add, delete, and subscribe to reactions on individual messages.

Access it via `room.messages.reactions`.

---

## Send a message reaction <a id="send"/>

`room.messages.reactions.send()`

React to an existing message.

`send(messageSerial: Serial, params: AddMessageReactionParams): Promise<void>`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `messageSerial` | The serial of the message to react to. | [`Serial`](#serial) |
| `params` | Describe the reaction to add. | [`AddMessageReactionParams`](#addmessagereactionparams) |

#### Serial

A serial is used to identify a particular message, reaction or other chat event. It is the identifier for that event in the chat history.

Serials can be conveyed either as a string, or an object that contains serial as a property. Message is included for type hinting and LLM purposes.

The string-form of the serial should not be parsed or interpreted in any way, as it is subject to change without warning.

`Serial: Message | string | { serial: string }`

#### AddMessageReactionParams

The parameters that can be added to a message reaction.

It has the following properties:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `count` | The count of the reaction for type `MessageReactionType.Multiple`. Defaults to 1 if not set. | Number |
| `name` | The reaction name to add, i.e. the emoji to use. | String |
| `type` | The type of reaction. Uses the default type configured in the [`MessageOptions`](/docs/chat/api/javascript/rooms#messageoptions) of the room if not set. | [`MessageReactionType`](#messagereactiontype) |

#### MessageReactionType

An enum that represents the types of reactions for a message.

It has the following members:

| Member | Description |
| ------ | ----------- |
| `Distinct` | Allows for at most one reaction of each type per client per message. It is possible for a client to add multiple reactions to the same message as long as they are different (e.g. different emojis). Duplicates are not counted in the summary. This is similar to reactions on Slack. |
| `Multiple` | Allows any number of reactions, including repeats, and they are counted in the summary. The reaction payload also includes a count of how many times each reaction should be counted (defaults to 1 if not set). This is similar to the clap feature on Medium. |
| `Unique` | Allows for at most one reaction per client per message. If a client reacts to a message a second time, only the second reaction is counted in the summary. This is similar to reactions on iMessage, Facebook Messenger or WhatsApp. |

### Returns

Returns a promise. On success, the promise is fulfilled when the reaction is added. On failure, the promise is rejected with an [`ErrorInfo`](/docs/chat/api/javascript/error-info).

<Code>
```javascript
await room.messages.reactions.send(message, {
    name: '‚ù§Ô∏è',
    type: MessageReactionType.Multiple,
    count: 100,
});
```
</Code>

---

## Delete a reaction from a message <a id="delete"/>

`room.messages.reactions.delete()`

Delete a message reaction.

`delete(messageSerial: Serial, params?: DeleteMessageReactionParams): Promise<void>`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `messageSerial` | The serial of the message to remove the reaction from. | [`Serial`](#serial) |
| `params` | *Optional* The type of reaction annotation and the specific reaction to remove. The reaction to remove is required for all types except [`MessageReactionType.Unique`](#messagereactiontype). | [`DeleteMessageReactionParams`](#deletemessagereactionparams) |

#### DeleteMessageReactionParams

The following `DeleteMessageReactionParams` can be set:

| Parameters | Description | Type |
| ---------- | ----------- | ---- |
| `name` | *Optional* The reaction to remove. Required for all reaction types except `Unique`. | String |
| `type` | *Optional* The type of reaction annotation. Defaults to the room's default reaction type if not specified. | [`MessageReactionType`](#messagereactiontype) |

### Returns

Returns a promise. On success, the promise is fulfilled when the reaction is deleted. On failure, the promise is rejected with an [`ErrorInfo`](/docs/chat/api/javascript/error-info).

<Code>
```javascript
await room.messages.reactions.delete(message.serial, {
  type: 'üëç',
  reactionType: 'reaction:unique.v1'
});
```
</Code>

---

## Subscribe to message reaction summaries <a id="subscribe"/>

`room.messages.reactions.subscribe()`

Subscribe to message reaction summaries. Use this to keep message reaction counts up to date efficiently in the UI.

`subscribe(listener: MessageReactionListener): Subscription`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `listener` | The listener to call when a message reaction summary is received. | [`MessageReactionListener`](#messagereactionlistener) |

#### MessageReactionListener

A listener that listens for message reaction summary events.

`MessageReactionListener: (event: MessageReactionSummaryEvent) => void`

It uses the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `event` | A message reaction summary event. Use with [`message.with()`](/docs/chat/api/javascript/message#with) to keep an up-to-date reaction count. | [`MessageReactionSummaryEvent`](#messagereactionsummaryevent) |

#### MessageReactionSummaryEvent

An interface that represents a summary of message reactions. It aggregates different reaction types such as distinct, multiple, and unique for a specific message.

It has the following properties:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `type` | The type of reaction event. | [`MessageReactionEventType.Summary`](#messagereactioneventtype) |
| `summary` | The message reactions summary. | `{summary: { distinct: SummaryDistinct Values, messageSerial: string, multiple: SummaryMultipleValues, unique: SummaryUniqueValues, }` |

The properties of a `summary` are:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `distinct` | Map of distinct reactions. | `SummaryDistinctValues` |
| `multiple` | Map of multiple reactions. | `SummaryMultipleValues` |
| `distinct` | Map of unique reactions. | `SummaryUniqueValues` |
| `messageSerial` | The message serial. | String |

#### MessageReactionEventType

An enum representing the different message reaction events.

It has the following members:

| Member | Description |
| ------ | ----------- |
| `Create` | A reaction was added. |
| `Delete` | A reaction was removed. |
| `Summary` | The reaction summary was updated for the message. |

### Returns

Returns a [`Subscription`](#subscription) object that can be used to unsubscribe from message reactions.

#### Subscription

A response object that allows you to control the subscription.

It has the following properties:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `unsubscribe` | A method to unsubscribe from message reaction events. | `() => Promise<void>` |

---

## Subscribe to individual reaction events <a id="subscribeRaw"/>

`room.messages.reactions.subscribeRaw()`

Subscribe to individual reaction events.

Note that [reaction summaries](#subscribe) are recommended for the majority of use cases, especially if you only need to keep track of reaction counts and clients.

`subscribeRaw(listener: MessageRawReactionListener): Subscription`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `listener` | The listener to call when a message reaction event is received. | [`MessageRawReactionListener`](#messagerawreactionlistener) |

#### MessageRawReactionListener

A listener that listens for individual message reaction events.

`MessageRawReactionListener: (event: MessageRawReactionEvent) => void`

It uses the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `event` | An individual message reaction event. | [`MessageRawReactionEvent`](#messagerawreactionevent) |

#### MessageRawReactionEvent

An interface that represents an individual message reaction event.

It has the following properties:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `timestamp` | The timestamp when the reaction event occurred. | Date |
| `type` | The type of reaction event. | [`MessageReactionEventType.Create`](#messagereactioneventtype) \| [`MessageReactionEventType.Delete`](#messagereactioneventtype) |
| `reaction` | The message reaction that was received. | `reaction: { clientId: string; count?: number; messageSerial: string; name: string; type: MessageReactionType;}` |

The properties of a `reaction` are:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `clientId` | The client ID of the user who added or removed the reaction. | String |
| `count` | The count of the reaction for type `MessageReactionType.Multiple`. | Number |
| `messageSerial` | The serial of the message that was reacted to. | String |
| `name` | The reaction name, i.e. the emoji that was used. | String |
| `type` | The reaction that was added or removed. | [`MessageReactionType`](#messagereactiontype) |

### Returns

Returns a [`Subscription`](#subscription) object that can be used to unsubscribe from message reactions.

<Code>
```javascript
const subscription = room.messages.reactions.subscribeRaw((event) => {
  if (event.type === 'MessageReactionEventType.Create') {
    console.log(`${event.clientId} reacted to message ${event.messageSerial} with ${event.reaction}`);
  } else {
    console.log(`${event.clientId} removed ${event.reaction} from message ${event.messageSerial}`);
  }
});

// Unsubscribe when done
await subscription.unsubscribe();
```
</Code>
