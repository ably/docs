---
title: Merge Function
product: Livesync
---

Merge functions play a crucial role in updating your model with the latest data version upon receiving a mutation event.

Your backend needs to emit events when any changes are made to the data model. These events should reflect the alterations made and be processed by the Ably Models Realtime SDK. This SDK applies the changes to its local version of the model state, producing an updated version. These changes are definded by an update function:

```ts
type UpdateFunc<T> = (state: T, event: OptimisticEvent | ConfirmedEvent) => Promise<T>;
```

The update function takes the current model state and the event as inputs and returns the ensuing model state.

There are two types of events - optimistic and confirmed. Events from your backend are always confirmed since they are the outcome of a mutation validated by your backend. The Ably Realtime Models SDK can also generate local optimistic events indicating that local changes have been made but are still waiting for validation from the backend.

Events are dispatched from your backend through "@Ably channel@":/channels. A model can receive events from multiple channels. Additionally, each model is associated with a specific channel name and executes the update function for every event it receives on that channel. 