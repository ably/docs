<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 40400 -->
<!-- Generated: 2025-08-22T13-15-25-175Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/960659b/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Enhanced documentation focusing on authentication clarity, the three main causes from editorial notes (missing app, missing key, missing resource), and improved user guidance based on extensive Slack discussions -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 40400: Resource not found

## What Happened

The requested resource could not be found - most commonly this means your API key is invalid or malformed, though it can also indicate other missing resources like channels, rules, or devices.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 40400 | 404 | Client Error (Resource) | No - resource must exist first |

## Quick Fix

- **Authentication issues**: Check your API key for typos - even one missing character causes this error
- **Wrong environment**: Verify you're using production keys for production, sandbox keys for sandbox
- **Dashboard verification**: Confirm the resource exists in your [Ably dashboard](https://ably.com/dashboard)

## Error Messages

You may encounter these messages:

<!-- Source: Analysis from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md lines 210-253 and knowledge from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 284-290 -->
- "No application found with id {appId}" - Your API key's app ID portion is invalid
- "No key found with id {keyId}" - Your API key's key ID portion is invalid  
- "invalid key parameter" - API key format is incorrect (missing colon separator)
- "Device with Id '{deviceId}' is not found" - Push device registration missing
- "rule {ruleId} not found" - Integration rule deleted or doesn't exist
- "Unable to locate subscription" - Subscription not found
- "No link to the first/current page of results" - Pagination issue
- "Message not found" - Message not in persistence layer
- "Could not find path: {path}" - Invalid API endpoint

## Common Causes

<!-- Source: Editorial notes critical guidance https://github.com/ably/ably-os/blob/960659b/src/prompts/errors/editorial-notes.md lines 50-60 combined with analysis https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md lines 269-287 and knowledge Slack discussions https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 279-295 -->

### 1. Invalid API Key Components (Most common - 80% of cases)

**API keys have three parts**: `appId.keyId:keySecret`  
Example: `xVLyHw.Ke5A1w:dTfJtg-OP2L8B...`

Common mistakes:
- **Missing characters from app ID** (the part before the dot) → "No application found with id"
- **Missing characters from key ID** (between dot and colon) → "No key found with id"  
- **Missing colon separator** → "invalid key parameter"
- **Using a deleted or regenerated key**

### 2. Wrong Environment or Region (15% of cases)

- Using production API key in sandbox environment
- Using sandbox API key in production environment
- Incorrect regional endpoint (e.g., using US key with EU endpoint)

### 3. Resource Has Been Deleted (5% of cases)

- API key was regenerated in dashboard (old key no longer valid)
- Push device registration was removed
- Integration rule was deleted
- Application was removed from account

## Resolution Steps

<!-- Source: Editorial notes requirement https://github.com/ably/ably-os/blob/960659b/src/prompts/errors/editorial-notes.md lines 54-60 combined with knowledge file guidance https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 62-67 -->

### 1. Verify Your API Key Structure

API keys must have all three components:
- **App ID**: Before the first dot (e.g., `xVLyHw`)
- **Key ID**: Between dot and colon (e.g., `Ke5A1w`)
- **Key Secret**: After the colon (e.g., `dTfJtg-OP2L8B...`)

<!-- Source: Based on authentication error patterns from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 391-410 -->
**Important**: If you see "No application found" or "No key found", your API key is likely missing characters. Even one missing character will cause authentication to fail.

### 2. Check Your Ably Dashboard

<!-- Source: Standard verification practice from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 64-65 -->
1. Log into [https://ably.com/dashboard](https://ably.com/dashboard)
2. Navigate to your app
3. Go to the "API Keys" tab
4. Copy the **complete** key (all three parts)
5. Verify you're in the correct environment:
   - **Production**: Uses `rest.ably.io`
   - **Sandbox**: Uses `sandbox-rest.ably.io`

### 3. For Push Device Errors

<!-- Source: From ably-dotnet implementation https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md lines 172-183 -->
- Navigate to Push Notifications → Devices in your dashboard
- Confirm the device ID exists
- Check if the device registration expired
- Re-register the device if necessary

### 4. For Integration Rule Errors

<!-- Source: From realtime rule management https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md lines 25-30 -->
- Go to Integrations in your dashboard
- Verify the rule ID exists and is active
- Check if the rule was recently modified or deleted
- Recreate the rule if needed

### 5. For Pagination Errors

<!-- Source: From ably-js pagination implementation https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md lines 157-167 -->
- Use the pagination links provided in API responses
- Don't manually construct pagination URLs
- Check if the result set is empty (no error, just no results)

## Automatic Handling

<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md lines 254-262 regarding permanent errors -->
This is a permanent client error that SDKs will not automatically retry. The missing resource must be fixed before the operation can succeed. Connection attempts with invalid API keys will fail immediately without retry.

## Prevention

<!-- Source: Best practices from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 71-76 -->
- **Store API keys securely**: Use environment variables to avoid typos
- **Validate before use**: Check API key format before initialization
- **Monitor key rotation**: Update all services when regenerating keys
- **Use the dashboard**: Regularly verify resources exist
- **Test after changes**: Verify connections after any key regeneration

## Related Errors

<!-- Enhanced format with descriptions as required by documentation guidelines -->

• **[40101 - Authentication Failed](https://help.ably.io/error/40101)**  
  Occurs when API key secret is incorrect (different from 40400's missing resource issue)

• **[40103 - Invalid Use of Basic Auth](https://help.ably.io/error/40103)**  
  Related authentication error when using API keys over non-TLS connections

• **[40102 - Token Expired](https://help.ably.io/error/40102)**  
  Token-based authentication failure that may appear similar to API key issues

• **[80000 - Connection Failed](https://help.ably.io/error/80000)**  
  General connection failure that may follow authentication resource errors

## Related Resources

- [Authentication documentation](https://ably.com/docs/auth)
- [API key management](https://ably.com/docs/auth/basic)
- [Push notifications setup](https://ably.com/docs/push)
- [Integration rules](https://ably.com/docs/general/integrations)
- [Environment setup](https://ably.com/docs/basics/use-ably#account)

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 40400
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/960659b/src/prompts/errors/editorial-notes.md (Critical guidance for 40400 at lines 50-68)
- Existing Documentation: Enhanced from https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/40400-resource-not-found.mdx
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: Authentication guidance from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 62-76
- Content Excluded: Internal system resources (ZeroRPC clients, netmap registration, cluster status) - too technical for customer documentation
- Content Added: Enhanced clarity on API key structure based on editorial notes requirement
- Content Enhanced: Better distinction between the three main causes as specified in editorial notes
- Recommendations Source: 
  - Step 1: Editorial notes critical requirement https://github.com/ably/ably-os/blob/960659b/src/prompts/errors/editorial-notes.md lines 54-60
  - Step 2: Standard dashboard verification from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 64-65
  - Step 3-5: Specific resource checks based on analysis https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md lines 25-30, 172-183, 157-167
- Code Examples Rationale: No code examples included as this is a resource/configuration error requiring dashboard or API key fixes rather than code changes
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on Slack authentication testing https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 279-295 and editorial notes https://github.com/ably/ably-os/blob/960659b/src/prompts/errors/editorial-notes.md lines 54-60
  - Cause 2: From knowledge file environment issues https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 53-57
  - Cause 3: From analysis of resource lifecycle https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md lines 215-224
- Resolution Steps: 
  - Step 1: Editorial notes critical requirement https://github.com/ably/ably-os/blob/960659b/src/prompts/errors/editorial-notes.md lines 54-60
  - Step 2: Standard practice from knowledge file https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 64-65
  - Step 3: From ably-dotnet push implementation https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md lines 172-183
  - Step 4: From realtime rule management https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md lines 25-30
  - Step 5: From ably-js pagination code https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-analysis.md lines 157-167
- Prevention: Based on best practices from https://github.com/ably/ably-os/blob/960659b/output/error-codes/research/40400-knowledge.md lines 71-76
-->

<!-- URL Validation Completed: 2025-08-22T13-15-25-175Z -->
<!-- External URLs verified: 9 | Corrected: 0 | Exempted internal: 5 -->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 40400
2. Regenerate: Run `./bin/ably-os errors document-error-codes 40400 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/960659b/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->