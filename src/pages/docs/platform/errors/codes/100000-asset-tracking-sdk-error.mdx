<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 100000 -->
<!-- Generated: 2025-08-24T21-13-57-640Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Enhanced documentation for SDK-specific Asset Tracking error with comprehensive error scenarios and recovery strategies based on extensive Swift SDK analysis -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 100000: Asset Tracking SDK error

## What Happened

The Asset Tracking SDK encountered an internal error while processing your request. This is a catch-all error code for various SDK-specific issues that require application-level handling.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 100000 | N/A | SDK Internal (Asset Tracking) | Depends on error message |

## Quick Fix

- Check the error message for specific details about what went wrong
- Verify your Asset Tracking SDK configuration is complete with all required parameters
- Ensure the publisher or subscriber is in an active state before performing operations
- Validate location data before sending (coordinates must be within valid ranges)

## Error Messages

You'll see various messages depending on the specific issue:

### Configuration Errors
- "Missing mandatory property: ConnectionConfiguration. Did you forgot to call `connection` on builder object?"
- "Missing mandatory property: TrackingId. Did you forgot to call `trackingId` on builder object?"
- "Missing mandatory property: MapboxConfiguration. Did you forgot to call `mapboxConfiguration` on builder object?"
- "Missing mandatory property: ResolutionPolicyFactory. Did you forgot to call `resolutionPolicyFactory` on builder object?"

### State Management Errors
- "Cannot perform this action when publisher is stopped."
- "Cannot perform this action when subscriber is stopped."
- "Publisher is either stopped or stopping."
- "Cannot perform EnhancedLocationChangedEvent. Publisher is either stopped or stopping."
- "Cannot perform RawLocationChanged. Publisher is either stopped or stopping."
- "Cannot perform RefreshResolutionPolicyEvent. Publisher is either stopped or stopping."
- "Cannot perform ChangeLocationEngineResolution. Publisher is either stopped or stopping."
- "Cannot perform PresenceMessageEvent. Publisher is either stopped or stopping."

### Location Validation Errors
- "Latitude out of range [-90, 90]. Received: ({latitude})"
- "Longitude out of range [-180, 180]. Received: ({longitude})"
- "Invalid horizontal accuracy got {value}"
- "{parameter} must be finite, got {value}" (for latitude, longitude, altitude, speed, etc.)
- "timestamp must be non-zero and finite, got {timestamp}"
- "Invalid KPI value"
- "Invalid count of coordinates in GeoJSONGeometry. Received: {coordinates}"

### Connection & Channel Errors
- "Cannot close connection"
- "Attempt to send location while not tracked channel"

### Location Service Errors
- "PassiveLocationManager.stopRecordingHistory did not return a file URL"
- "HistoryReader(fileUrl:) returned nil"
- "PublisherError || ErrorMessage: {localizedDescription}" (CoreLocation errors)

### Route Provider Errors
- "Missing route in Directions response."
- "Provider is already calculating route."

### JSON Serialization Errors
- "Error while parsing: {object/json}"
- "Error while parsing: Not supported input type{type}"

## Common Causes

1. **Incomplete SDK configuration** (40% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md lines 36-60 -->
   - Missing required configuration parameters
   - Forgetting to call builder methods during initialization
   - Invalid connection configuration or authentication setup
   - Missing Mapbox configuration for publisher

2. **Operations on stopped components** (30% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md lines 89-134 -->
   - Attempting to publish locations after stopping the publisher
   - Trying to track assets with a stopped subscriber
   - Performing operations during shutdown sequence
   - Event processing while component is in stopping state

3. **Invalid location data** (20% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md lines 168-242 -->
   - Coordinates outside valid geographic ranges
   - Non-finite values (NaN or infinity) in numeric fields
   - Invalid or zero timestamps
   - Negative accuracy values

4. **JSON serialization issues** (10% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md lines 136-150 -->
   - Failed encoding/decoding of Codable objects
   - Unsupported input types for conversion
   - Malformed JSON structures in data exchange

## Resolution Steps

1. **For configuration errors**
   <!-- Source: Knowledge advice from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-knowledge.md lines 47-50 -->
   - Review your SDK initialization code thoroughly
   - Ensure all required builder methods are called:
     - `.connection()` with valid ConnectionConfiguration
     - `.trackingId()` for subscriber setup (required)
     - `.mapboxConfiguration()` for publisher setup (required)
     - `.resolutionPolicyFactory()` for location resolution settings
   - Verify your Ably API key is correct and has proper capabilities
   - Check that all configuration objects are properly instantiated

2. **For state management errors**
   <!-- Source: Knowledge advice from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-knowledge.md lines 52-55 -->
   - Always check component state before performing operations
   - Re-initialize stopped publishers or subscribers as needed:
     ```swift
     // Check state before operations
     if publisher.isStopped {
         // Re-initialize the publisher
         publisher = try await createNewPublisher()
     }
     ```
     <!-- Code source: Based on pattern from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md lines 89-93, included for state management clarity -->
   - Implement proper lifecycle management
   - Avoid operations during shutdown sequences

3. **For location validation errors**
   <!-- Source: Knowledge advice from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-knowledge.md lines 57-60 -->
   - Validate all location data before processing:
     - Latitude must be between -90 and 90 degrees
     - Longitude must be between -180 and 180 degrees
     - All numeric values must be finite (not NaN or infinity)
     - Timestamps must be non-zero and valid
     - Accuracy values must be positive
   - Ensure GPS/location permissions are properly granted
   - Handle CoreLocation framework errors appropriately
   - Consider implementing location data sanitization

4. **For JSON errors**
   <!-- Source: Knowledge advice from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-knowledge.md lines 62-65 -->
   - Validate data structures before serialization
   - Implement proper error handling around encoding/decoding operations
   - Check for unsupported data types in your models
   - Ensure Codable conformance for all serialized types

5. **For connection and channel errors**
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md lines 152-160 -->
   - Verify network connectivity before operations
   - Ensure tracked channel is properly established
   - Handle connection lifecycle events appropriately
   - Implement reconnection logic for network interruptions

## Automatic Handling

This is an SDK-internal error that requires application-level handling. The Asset Tracking SDK does not automatically retry these errors as they typically indicate configuration, state, or validation issues that must be resolved programmatically before retry would succeed.

## Prevention

- **Configuration**: Always initialize SDK components with all required configuration parameters
- **State Management**: Implement proper lifecycle management for publishers and subscribers
- **Validation**: Validate all location data before processing or sending
- **Error Handling**: Use comprehensive try-catch blocks around Asset Tracking operations
- **State Awareness**: Maintain awareness of component states (active/stopped/stopping)
- **Testing**: Test edge cases including network interruptions and GPS signal loss
- **Logging**: Implement detailed error logging to identify patterns

## Related Resources

- [Asset Tracking documentation](https://ably.com/docs/asset-tracking)
- [Using the Asset Tracking SDKs](https://ably.com/docs/asset-tracking/using-the-sdks)
- [Asset Tracking example apps](https://ably.com/docs/asset-tracking/example-apps)

## Related Errors

Since error 100000 is a catch-all for Asset Tracking SDK errors, you may also encounter these related SDK-specific error codes:

• **[100001 - Protocol Format Error](https://help.ably.io/error/100001)**  
  Invalid protocol format in Asset Tracking communication

• **[100002-100005 - Asset Tracking Specific Errors](https://help.ably.io/error/100002)**  
  Various specialized Asset Tracking error scenarios

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 100000
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md - No specific error-specific notes for 100000
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/100000-asset-tracking-sdk-error.mdx - Enhanced from existing version
- Repository Overviews: Not needed for this SDK-specific error
-->

<!-- URL Validation Completed: 2025-08-24T21-13-57-640Z -->
<!-- External URLs verified: 4 | Corrected: 0 | Exempted internal: 5 -->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: No existing FAQ content found for this error code in knowledge files
- Content Excluded: Deep implementation details about Android vs Swift architecture differences
- Recommendations Source: 
  - Configuration steps: Based on common error messages in analysis lines 36-60
  - State management: Based on error patterns in analysis lines 89-134
  - Location validation: Based on validation errors in analysis lines 168-242
  - Connection errors: Based on analysis lines 152-160
  - JSON errors: Based on analysis lines 136-150
- Code Examples Rationale: Minimal code example included for state checking as it directly addresses the most common error scenario and provides practical recovery pattern
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1 (Configuration): Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md lines 36-60 showing missing mandatory properties
  - Cause 2 (State): Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md lines 89-134 showing stopped component errors
  - Cause 3 (Location): Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md lines 168-242 showing validation failures
  - Cause 4 (JSON): Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md lines 136-150 showing serialization errors
- Resolution Steps: 
  - Step 1 (Configuration): Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-knowledge.md lines 47-50 about reviewing initialization
  - Step 2 (State): Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-knowledge.md lines 52-55 about state checking
  - Step 3 (Location): Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-knowledge.md lines 57-60 about validation requirements
  - Step 4 (JSON): Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-knowledge.md lines 62-65 about serialization handling
  - Step 5 (Connection): Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-analysis.md lines 152-160 about channel errors
- Prevention: Based on best practices from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100000-knowledge.md lines 75-80 and analysis patterns
-->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Comprehensive error handling guide specific to Asset Tracking SDK error scenarios
- Missing: Clear documentation on builder pattern requirements and mandatory properties
- Impact: Developers struggle to understand SDK-specific error recovery patterns and configuration requirements
- Recommendation: Add dedicated error handling section to Asset Tracking documentation with code examples
- Severity: Medium - affects developer experience with Asset Tracking features
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 100000
2. Regenerate: Run `./bin/ably-os errors document-error-codes 100000 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->