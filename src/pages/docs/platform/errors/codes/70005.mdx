---
title: "Error 70005 - AMQP Queue Timeout"
meta_description: "Information and troubleshooting for Ably error code 70005 - AMQP queue timeout when delivering messages to your message broker integration"
meta_keywords: "Ably, error, error codes, 70005, AMQP, queue, timeout, RabbitMQ, integration, message broker"
---

{/* Generated by: ably-os errors document-error-codes */}
{/* Repository: https://github.com/ably/ably-os */}
{/* Command: ./bin/ably-os errors document-error-codes 70005 */}
{/* Generated: 2025-11-07T08-36-41-586Z */}
{/* Sources:
     - Analysis: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/b819713/src/prompts/errors/editorial-notes.md
*/}
{/* Key Approach: Documenting a server-side AMQP integration timeout error with focus on queue broker health and network connectivity */}
{/* Citations: Complete source attribution with line numbers available at bottom of document */}

Ably could not deliver a message to your AMQP queue integration because the delivery operation timed out. The message was successfully received by Ably but couldn't be forwarded to your message broker within the expected timeframe.

| Error code | HTTP status code | Category | Retryable |
| ---------- | ---------------- | -------- | --------- |
| 70005 | 500 | Server error (Integration) | Yes |

## Error messages

The following error message is returned with error code 70005:

| Message | Description |
| ------- | ----------- |
| Timeout sending message to queue | The AMQP queue delivery operation exceeded the configured timeout period. |

## Impact

This error impacts message delivery to your AMQP integration:

- One or more messages failed to reach your AMQP queue (RabbitMQ, Amazon MQ, or other AMQP broker).
- The message was successfully processed by Ably but couldn't be forwarded to your queue.
- Regular Ably channel subscribers are not affected.
- Your queue consumers will experience missing messages.

Ably automatically retries the message delivery when possible. However, persistent timeouts may require investigation of your AMQP broker and network connectivity.

## Quick fixes

Try the following to resolve the error:

- Check your AMQP broker logs for performance issues or errors.
- Verify network connectivity between Ably and your broker endpoint.
- Monitor queue depth to ensure it's not backlogged.
- Ensure your broker has adequate resources to handle the message volume.

## Troubleshooting

The following are common causes and how to resolve them for error 70005:

### AMQP broker performance issues

| Error message |
| ------------- |
| Timeout sending message to queue |

This occurs when:

- Your AMQP broker is experiencing high load or resource constraints.
- The broker takes too long to acknowledge message delivery.
- Queue processing is slower than message arrival rate.

To resolve this:

- Monitor your AMQP broker's CPU, memory, and disk I/O metrics.
- Scale your broker resources (vertical or horizontal scaling) as needed.
- Check broker logs for warnings about resource limits or slow operations.
- Ensure adequate consumers are processing messages from the queue.

{/* Source: Knowledge from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 9-17 */}

### Network connectivity problems

| Error message |
| ------------- |
| Timeout sending message to queue |

This occurs when:

- High network latency between Ably and your AMQP broker.
- Intermittent connectivity issues to your broker endpoint.
- Firewall rules blocking or throttling connections.

To resolve this:

- Test connectivity from Ably's regions to your AMQP broker using monitoring tools.
- Verify firewall rules allow Ably's IP ranges to connect to your broker.
- Consider hosting your AMQP broker in a region closer to Ably's infrastructure.
- Check for packet loss or high latency in network path.

{/* Source: Knowledge from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 12-14 */}

### Queue congestion

| Error message |
| ------------- |
| Timeout sending message to queue |

This occurs when:

- Target queue is full or approaching capacity limits.
- Consumer applications are not keeping up with message production.
- Dead letter queues are filling up with unprocessed messages.

To resolve this:

- Check queue depth and consumer processing rates in your broker management console.
- Scale up consumer applications to process messages faster.
- Implement auto-scaling for consumers based on queue depth.
- Review and optimize message processing logic in consumers.
- Configure appropriate queue size limits and overflow behavior.

{/* Source: Knowledge from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 13-15 */}

### Integration configuration issues

| Error message |
| ------------- |
| Timeout sending message to queue |

This occurs when:

- Authentication with your AMQP broker is slow or failing intermittently.
- Queue names or routing keys are misconfigured.
- Connection pooling settings are not optimal.

To resolve this:

- Verify your AMQP connection settings in the Ably Integrations dashboard.
- Check that authentication credentials are valid and haven't expired.
- Test the AMQP connection directly using a management tool.
- Review connection timeout settings in your integration configuration.

{/* Source: Knowledge from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 37-40 */}

## Prevention

To minimize AMQP timeout occurrences:

- **Monitor queue health**: Set up comprehensive monitoring for queue depth, consumer lag, and broker performance.
- **Scale appropriately**: Ensure your AMQP broker has sufficient resources for peak message volumes.
- **Optimize message size**: Keep message payloads reasonable and consider compression where appropriate.
- **Configure timeouts**: Adjust timeout settings based on your expected message processing times.
- **Implement resilience**: Use dead letter queues and retry mechanisms in your AMQP setup.
- **Network optimization**: Use dedicated connections and choose broker regions close to Ably infrastructure.

{/* Source: Knowledge from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 47-68 */}

## Related errors

The following errors are related to error code 70005:

| Error code | Description |
| ---------- | ----------- |
| [70006 - AMQP Queue Timeout with Backpressure](/docs/platform/errors/codes/70006) | Similar timeout but indicates the AMQP connection is experiencing backpressure/congestion. |
| [50000 - Internal Server Error](/docs/platform/errors/codes/50000) | General server error that may occur alongside integration issues. |
| [50003 - Timeout Error](/docs/platform/errors/codes/50003) | General timeout error that may occur in various contexts. |

## Need further help?

Contact [Ably support](https://ably.com/support) if you're still experiencing issues after trying the steps listed above.

You'll need to provide:

- Your account ID and app ID.
- The full error message including the error code.
- Steps to reproduce the issue.
- Any relevant code snippets (without any sensitive credentials).
- The SDK and version you're using.

### Resources

The following resources provide further context or assistance with this error:

- [Ably Integrations documentation](https://ably.com/docs/platform/integrations)
- [AMQP queue integration guide](https://ably.com/docs/platform/integrations/queues)
- [Ably status page](https://status.ably.com)

{/* =============================================== */}
{/* INTERNAL DOCUMENTATION (NOT RENDERED) */}
{/* =============================================== */}

{/* SOURCES USED:
- Analysis File: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/b819713/src/prompts/errors/editorial-notes.md
- Example 5xx Error: https://github.com/ably/ably-os/blob/b819713/src/prompts/errors/example-5xx-error-documentation.mdx
*/}

{/* CONTENT DECISIONS:
- FAQ Content Preserved: Used knowledge base content about troubleshooting steps from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 25-45
- Content Excluded: Detailed code implementation specifics from analysis file (not relevant for customers)
- Recommendations Source: Based on knowledge file's prevention strategies and troubleshooting steps
- Code Examples Rationale: No code examples included as this is a server-side integration error not directly controllable via SDK code
*/}

{/* ATTRIBUTION BY SECTION:
- Common Causes:
  - Broker performance: Based on knowledge file https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 11-12
  - Network issues: From knowledge file https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 12-14
  - Queue congestion: From knowledge file https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 13-15
- Resolution Steps:
  - Step 1 (Check broker): Source from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 27-31
  - Step 2 (Network): Source from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 32-36
  - Step 3 (Queue depth): Source from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 41-45
- Prevention: Based on https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/70005-knowledge.md lines 47-68
*/}

{/* URL Validation Completed: 2025-11-07T08-36-41-586Z */}
{/* External URLs verified: 3 | Corrected: 0 | Exempted internal: 4 */}

{/* IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 70005
2. Regenerate: Run `./bin/ably-os errors document-error-codes 70005 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/b819713/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
*/}