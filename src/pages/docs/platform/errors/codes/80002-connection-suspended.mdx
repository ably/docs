<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 80002 -->
<!-- Generated: 2025-08-21T10-28-43-924Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document connection suspension state with emphasis on automatic recovery and network troubleshooting -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 80002: Connection suspended

## What Happened

Your connection to Ably has been suspended after network connectivity issues prevented a stable connection for more than 2 minutes.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 80002 | 400/503 | Connection (State) | Yes - automatically handled by SDK |

## Quick Fix

- Check your internet connection stability
- Verify WebSocket connections aren't blocked by firewall or proxy
- Connection will automatically retry every 15-30 seconds

## Error Messages

You may see one of these messages:
- "Connection to server unavailable"
- "Connection unavailable" 
- "Unable to establish connection" (when no connection was ever established)
- "Unable to publish in Suspended state"
- "Connection suspended due to server unavailability code=80002"

## Common Causes

1. **Network connectivity issues** (70% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-knowledge.md lines 11-17 -->
   - Intermittent WiFi or cellular connectivity
   - Moving between cell towers or poor signal areas
   - Network interruptions lasting more than 2 minutes

2. **Network configuration problems** (20% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-knowledge.md lines 11-17 -->
   - Corporate firewalls blocking WebSocket connections
   - Proxy servers interfering with persistent connections
   - Restrictive network policies

3. **Extended authentication issues** (10% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-knowledge.md lines 11-17 -->
   - Token refresh failures during connection attempts
   - Credential validation taking too long

## Resolution Steps

1. **Verify network connectivity**
   <!-- Source: FAQ advice from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-knowledge.md lines 35-43 -->
   - Test your internet connection stability
   - Try switching between WiFi and cellular data
   - Move to a location with better signal strength

2. **Check network environment**
   <!-- Source: FAQ advice from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-knowledge.md lines 44-47 -->
   - Test from a different network (home, office, mobile hotspot)
   - Verify WebSocket connections are allowed on port 443
   - Check if corporate firewall or proxy is interfering

3. **Monitor connection state**
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-analysis.md lines 87-88 -->
   - The SDK will automatically retry connection every 15-30 seconds
   - No manual intervention required - automatic recovery is built-in
   - Connection will transition back to `connected` state when network improves

4. **Handle suspended state in your application**
   <!-- Source: Ably documentation at https://ably.com/docs/connect/states#connection-states -->
   - Show appropriate UI feedback to users about connection status
   - Queue critical operations locally if needed
   - Wait for connection state to become `connected` before resuming operations

## Automatic Handling

Ably SDKs automatically handle connection suspension with these behaviors:
<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-analysis.md lines 87-88 and knowledge file lines 113-114 -->
- Retry connection attempts every 15-30 seconds while suspended
- Automatically transition back to `connected` when network recovers
- No exponential backoff needed - SDK manages retry timing
- Messages cannot be published while in suspended state

## Prevention

<!-- Source: FAQ advice from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-knowledge.md lines 55-75 -->
- Design your app to gracefully handle extended offline periods
- Implement proper connection state monitoring
- Test your app under poor network conditions
- Consider offline functionality for core features

## Performance Impact

While connection is suspended:
<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-knowledge.md lines 19-24 -->
- All realtime features (channels, presence, messaging) are unavailable
- Publishing operations will fail with error 80002
- Presence members are removed from channels
- Recovery may take several minutes depending on network conditions

## Related Resources

- [Connection State Management](https://ably.com/docs/connect/states#connection-states)
- [Connection Recovery](https://ably.com/docs/connect/recovery)
- [Network Requirements](https://ably.com/docs/connect#network-requirements)
- Related errors: [80000](./80000-connection-failed.md) (connection failed), [80003](./80003-disconnected.md) (disconnected)

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 80002
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md (Connection state guidance lines 147-209)
- Existing Documentation: None found
- Repository Overviews: Not needed for this error code
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: Network troubleshooting steps from https://github.com/ably/ably-os/blob/main/output/error-codes/research/80002-knowledge.md lines 35-53
- Content Excluded: Specific Slack conversation details as they were internal debugging discussions
- Recommendations Source: 
  - Step 1: Based on knowledge file lines 35-43 (network quality checks)
  - Step 2: Based on knowledge file lines 44-47 (network environment)
  - Step 3: Based on analysis file lines 87-88 (automatic retry behavior)
  - Step 4: Based on Ably docs and editorial notes lines 147-209
- Code Examples Rationale: No code examples included as this is a network/state issue not resolved by code changes
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on knowledge file lines 11-17 describing network connectivity scenarios
  - Cause 2: Based on knowledge file lines 11-17 describing configuration problems
  - Cause 3: Based on knowledge file lines 11-17 describing authentication issues
- Resolution Steps: 
  - Step 1: FAQ advice from knowledge file lines 35-43 - preserved for customer experience
  - Step 2: FAQ advice from knowledge file lines 44-47 - network environment checks
  - Step 3: Analysis file lines 87-88 and knowledge file lines 113-114 - automatic recovery behavior
  - Step 4: Ably documentation and editorial notes guidance on state handling
- Prevention: Based on knowledge file lines 55-75 best practices section
- Performance Impact: Based on knowledge file lines 19-24 describing service impact
-->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Clear guidance on expected suspension duration under various network conditions
- Impact: Users uncertain how long to wait before taking manual action
- Recommendation: Add typical recovery timeframes for common scenarios
- Severity: Medium - affects user expectations and troubleshooting decisions
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 80002
2. Regenerate: Run `./bin/ably-os errors document-error-codes 80002 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/main/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->