<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 90010 -->
<!-- Generated: 2025-08-21T10-28-43-924Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document both bulk operation limits (100 channels) and per-connection limits (varies by account) based on research findings -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 90010: Channel limit exceeded

## What happened?

You've exceeded the maximum number of channels allowed in a single request or connection.

## Quick reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 90010 | 400 | Channel Error | No - requires splitting request or reducing channels |

## Quick fix

- Split bulk operations into batches of 100 channels or fewer
- For connection limits, check your account's channel limit (typically 200-1000)
- Implement pagination or batching for large channel operations

## Error messages

You may see one of these messages:
- "Max number of channels permitted in a single bulk presence request (100) exceeded"
- "Max number of channels permitted in a single bulk publish request (100) exceeded"
- "Maximum number of channels per connection 200 exceeded" (limit varies by account)
- "Maximum number of channels per connection 1000 exceeded" (enterprise accounts)

## Common causes

1. **Bulk operation exceeds 100 channels** (Most common for batch operations)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-analysis.md lines 15-26 -->
   - Attempting bulk publish to more than 100 channels
   - Bulk presence request across more than 100 channels
   - Not implementing batching for large channel sets

2. **Per-connection limit exceeded** (Common for realtime connections)
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md lines 86-88 -->
   - Standard accounts: exceeding 200 channels per connection
   - Enterprise accounts: exceeding configured limit (often 1000+)
   - Incorrectly configured accounts with 50 channel limit

3. **Rapid channel attachment** (Less common)
   <!-- Source: Slack issue from https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md lines 65-69 -->
   - Attaching to many channels quickly without checking limits
   - Not reusing connections efficiently
   - Creating new connections unnecessarily

## Resolution steps

### For bulk operations (100 channel limit)

1. **Split your batch requests**
   <!-- Source: Resolution strategy from https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md lines 21-40 -->
   ```javascript
   // Split channels into batches of 100
   const batchSize = 100;
   const batches = [];
   for (let i = 0; i < channels.length; i += batchSize) {
       batches.push(channels.slice(i, i + batchSize));
   }
   
   // Process each batch
   for (const batch of batches) {
       await client.request({
           method: 'POST',
           path: '/messages',
           body: batch
       });
   }
   ```
   <!-- Code source: https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md lines 28-40, included as essential pattern for resolution -->

2. **Use parallel processing for better performance**
   ```javascript
   // Process batches in parallel (be mindful of rate limits)
   const results = await Promise.all(
       batches.map(batch => processBatch(batch))
   );
   ```

### For per-connection limits

1. **Check your account's channel limit**
   <!-- Source: Ably documentation at https://faqs.ably.com/is-there-a-maximum-number-of-channels-per-connection -->
   - Standard accounts: 200 channels per connection
   - Enterprise accounts: Can be configured higher (contact support for increases)
   - Verify in your dashboard under account limits

2. **Optimize channel usage**
   - Use channel namespacing to reduce total channels
   - Implement channel pooling for efficient reuse
   - Consider using wildcards for subscriptions where appropriate

3. **Distribute across multiple connections**
   ```javascript
   // Create multiple connections for large channel sets
   const connectionsNeeded = Math.ceil(totalChannels / channelLimit);
   const connections = Array(connectionsNeeded).fill(null).map(() => 
       new Ably.Realtime({ key: apiKey })
   );
   ```

## Automatic handling

<!-- Source: Analysis from https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-analysis.md lines 41-44 -->
This error is not automatically retried by Ably SDKs. The entire batch is rejected without partial processing. Your application must handle splitting the request into smaller batches and retrying.

## Prevention

- Implement a channel manager that tracks usage against limits
- Use constants for batch sizes (max 100 for bulk operations)
- Monitor channel usage in your application metrics
- For high-volume applications, contact Ably about enterprise limits

## Related resources

- [Channel limits documentation](https://faqs.ably.com/is-there-a-maximum-number-of-channels-per-connection)
- [Batch publishing guide](https://ably.com/docs/api/rest-api#batch-publish)
- [Connection limits](https://ably.com/docs/general/limits)

## Need further help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 90010
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 90010)
- Existing Documentation: None found
- Repository Overviews: Not needed for this error
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: Resolution pattern from https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md lines 28-40
- Content Excluded: None - all relevant information included
- Recommendations Source: 
  - Batch splitting: https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md lines 21-24
  - Account limits: https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md lines 86-88
- Code Examples Rationale: Included batch splitting pattern as it's essential for resolution and documented in knowledge base
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on analysis findings in https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-analysis.md lines 15-26
  - Cause 2: From knowledge base at https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md lines 86-88
  - Cause 3: From Slack support case at https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md lines 65-69
- Resolution Steps: 
  - Step 1 (Batch splitting): Source from https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md lines 21-40 - preserved pattern from knowledge base
  - Step 2 (Account limits): Based on https://github.com/ably/ably-os/blob/main/output/error-codes/research/90010-knowledge.md lines 86-88 and link to FAQ
  - Step 3 (Multiple connections): General pattern based on documented limits
- Prevention: Based on best practices derived from the error patterns and support cases
-->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Clear documentation of the 100 channel limit for bulk operations (only found in code)
- Impact: Developers discover this limit only through errors
- Recommendation: Add bulk operation limits to main API documentation
- Severity: Medium - causes confusion between bulk and connection limits
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 90010
2. Regenerate: Run `./bin/ably-os errors document-error-codes 90010 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/main/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->