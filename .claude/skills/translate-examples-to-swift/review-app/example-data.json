{
  "version": "1.0",
  "generatedAt": "2026-01-30T10:30:00Z",
  "summary": {
    "filesProcessed": 2,
    "examplesTranslated": 3,
    "compilationPassed": 2,
    "compilationFailed": 1
  },
  "files": [
    {
      "path": "src/pages/docs/ai-transport/streaming.mdx",
      "examples": [
        {
          "id": "streaming-1",
          "lineNumber": 45,
          "original": {
            "language": "javascript",
            "code": "// Publish initial message and capture the serial for appending tokens\nconst { serials: [msgSerial] } = await channel.publish({ name: 'response', data: '' });\n\n// Example: stream returns events like { type: 'token', text: 'Hello' }\nfor await (const event of stream) {\n  // Append each token as it arrives\n  if (event.type === 'token') {\n    channel.appendMessage({ serial: msgSerial, data: event.text });\n  }\n}"
          },
          "translation": {
            "language": "swift",
            "code": "// Publish initial message and capture the serial for appending tokens\nchannel.publish(\"response\", data: \"\") { publishResult, error in\n    if let error {\n        print(\"Error publishing message: \\(error)\")\n        return\n    }\n\n    let msgSerial = publishResult!.serials[0].value!\n\n    Task {\n        // Example: stream returns events like { type: 'token', text: 'Hello' }\n        for await event in stream {\n          // Append each token as it arrives\n          if (event.type == \"token\") {\n              let messageToAppend = ARTMessage()\n              messageToAppend.serial = msgSerial\n              messageToAppend.data = event.text\n\n              channel.append(messageToAppend, operation: nil, params: nil) { _, error in\n                  if let error {\n                      print(\"Error appending to message: \\(error)\")\n                  }\n              }\n          }\n        }\n    }\n}"
          },
          "harness": {
            "functionSignature": "func example(channel: ARTRealtimeChannel, stream: any AsyncSequence<(type: String, text: String), Never> & Sendable) async throws",
            "stubTypes": null,
            "fullContext": "import Ably\n\nfunc example(channel: ARTRealtimeChannel, stream: any AsyncSequence<(type: String, text: String), Never> & Sendable) async throws {\n    // example code inserted here\n}"
          },
          "translationNotes": [
            {
              "type": "decision",
              "message": "Used callback pattern instead of async/await as ably-cocoa doesn't have async publish API"
            },
            {
              "type": "deviation",
              "message": "Added explicit error handling in callback (not present in JS original)"
            }
          ],
          "verification": {
            "compilation": {
              "status": "pass"
            },
            "faithfulness": {
              "rating": "minor_differences",
              "notes": "Error handling added in Swift version; logical flow preserved"
            }
          }
        },
        {
          "id": "streaming-2",
          "lineNumber": 112,
          "original": {
            "language": "javascript",
            "code": "const client = new Ably.Realtime({ key: 'your-api-key' });\nconst channel = client.channels.get('my-channel');"
          },
          "translation": {
            "language": "swift",
            "code": "let client = ARTRealtime(key: \"your-api-key\")\nlet channel = client.channels.get(\"my-channel\")"
          },
          "harness": {
            "functionSignature": "func example()",
            "stubTypes": null,
            "fullContext": "import Ably\n\nfunc example() {\n    // example code inserted here\n}"
          },
          "translationNotes": [],
          "verification": {
            "compilation": {
              "status": "pass"
            },
            "faithfulness": {
              "rating": "faithful",
              "notes": null
            }
          }
        }
      ]
    },
    {
      "path": "src/pages/docs/messages/updates-deletes.mdx",
      "examples": [
        {
          "id": "updates-deletes-1",
          "lineNumber": 78,
          "original": {
            "language": "javascript",
            "code": "// Subscribe to message updates\nchannel.subscribe('update', (message) => {\n  console.log('Message updated:', message.data);\n  console.log('Original serial:', message.updateSerial);\n});"
          },
          "translation": {
            "language": "swift",
            "code": "// Subscribe to message updates\nchannel.subscribe(\"update\") { message in\n    print(\"Message updated: \\(message.data)\")\n    print(\"Original serial: \\(message.updateSerial)\")\n}"
          },
          "harness": {
            "functionSignature": "func example(channel: ARTRealtimeChannel)",
            "stubTypes": null,
            "fullContext": "import Ably\n\nfunc example(channel: ARTRealtimeChannel) {\n    // example code inserted here\n}"
          },
          "translationNotes": [
            {
              "type": "warning",
              "message": "updateSerial property may not exist on ARTMessage - needs verification against latest SDK"
            }
          ],
          "verification": {
            "compilation": {
              "status": "fail",
              "errorMessage": "error: value of type 'ARTMessage' has no member 'updateSerial'\n    print(\"Original serial: \\(message.updateSerial)\")\n                                      ^~~~~~~~~~~~"
            },
            "faithfulness": {
              "rating": "not_assessed",
              "notes": "Could not assess faithfulness due to compilation failure"
            }
          }
        }
      ]
    }
  ]
}
