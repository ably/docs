<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 40400 -->
<!-- Generated: 2025-08-25T19-44-21-128Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Enhanced documentation with clearer authentication guidance, improved error messages, and better distinction between causes as required by editorial notes -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 40400: Resource not found

## What Happened

The requested resource could not be found. Most commonly, this means your API key is invalid or malformed, though it can also indicate missing channels, rules, devices, or other resources.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 40400 | 404 | Client Error (Resource) | No - resource must exist first |

## Quick Fix

- **Check your API key** - Even one missing character causes this error
- **Verify the environment** - Ensure you're using the right keys for production vs sandbox
- **Confirm in dashboard** - Check that the resource exists in your [Ably dashboard](https://ably.com/dashboard)

## Error Messages

You may encounter one of these messages:

<!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md lines 210-253 and knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 279-295, 391-410 -->
- "No application found with id {appId}" - Your API key's app ID portion is invalid
- "No key found with id {keyId}" - Your API key's key ID portion is invalid
- "invalid key parameter" - API key format is incorrect (missing colon separator)
- "Device with Id '{deviceId}' is not found" - Push device registration missing
- "rule {ruleId} not found" - Integration rule deleted or doesn't exist
- "Unable to locate subscription" - Subscription not found
- "No link to the first/current page of results" - Pagination issue
- "Message not found" - Message not in persistence layer
- "Could not find path: {path}" - Invalid API endpoint

## Common Causes

<!-- Source: Editorial notes critical guidance https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md lines 50-60 combined with analysis https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md lines 269-287 and knowledge Slack discussions https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 391-410 -->

### 1. **Invalid API Key Components** (80% of cases)

API keys have three essential parts: `appId.keyId:keySecret`

Example: `xVLyHw.Ke5A1w:dTfJtg-OP2L8B...`
- **App ID**: Before the dot (e.g., `xVLyHw`)
- **Key ID**: Between dot and colon (e.g., `Ke5A1w`)
- **Key Secret**: After the colon (e.g., `dTfJtg-OP2L8B...`)

**Common mistakes:**
- Missing characters from any part of the key
- Copying an incomplete key
- Using a deleted or regenerated key
- Missing the colon separator entirely

### 2. **Wrong Environment or Region** (15% of cases)

- Using production API key with sandbox endpoint
- Using sandbox API key with production endpoint
- Incorrect regional endpoint configuration

### 3. **Resource Has Been Deleted** (5% of cases)

- API key was regenerated (old key no longer valid)
- Push device registration expired or was removed
- Integration rule was deleted
- Application was removed from account

## Resolution Steps

<!-- Source: Editorial notes requirement https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md lines 54-60 combined with knowledge file guidance https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 62-76 and Slack authentication findings https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 391-410 -->

### 1. **Verify Your API Key Structure**

Check that your API key has all three components separated correctly:

<!-- Source: Based on authentication error patterns from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 391-410 -->
```
appId.keyId:keySecret
```

**Important**: Even one missing character will cause authentication to fail. The error message will tell you which part is invalid:
- "No application found" → App ID issue (before the dot)
- "No key found" → Key ID issue (between dot and colon)
- "invalid key parameter" → Missing colon separator

### 2. **Check Your Ably Dashboard**

<!-- Source: Standard verification practice from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 64-65 -->
1. Log into [https://ably.com/dashboard](https://ably.com/dashboard)
2. Navigate to your app
3. Go to the "API Keys" tab
4. Copy the **complete** key (all three parts)
5. Verify you're using the correct environment:
   - **Production**: Uses `rest.ably.io` or `realtime.ably.io`
   - **Sandbox**: Uses `sandbox-rest.ably.io` or `sandbox-realtime.ably.io`

### 3. **For Push Device Errors**

<!-- Source: From ably-dotnet implementation https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md lines 172-183 -->
If you see "Device with Id '{deviceId}' is not found":
- Navigate to Push Notifications → Devices in your dashboard
- Confirm the device ID exists
- Check if the device registration has expired
- Re-register the device if necessary

### 4. **For Integration Rule Errors**

<!-- Source: From realtime rule management https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md lines 25-30 -->
If you see "rule {ruleId} not found":
- Go to Integrations in your dashboard
- Verify the rule ID exists and is active
- Check if the rule was recently modified or deleted
- Recreate the rule if needed

### 5. **For Pagination Errors**

<!-- Source: From ably-js pagination implementation https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md lines 157-167 -->
If you see "No link to the first/current page of results":
- Use the pagination links provided in API responses
- Don't manually construct pagination URLs
- Check if the result set is empty (which is not an error)

## Automatic Handling

<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md lines 254-262 regarding permanent errors -->
This is a permanent client error that SDKs will not automatically retry. The missing resource must be created or the reference must be fixed before the operation can succeed. Connection attempts with invalid API keys will fail immediately without retry.

## Prevention

<!-- Source: Best practices from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 71-76 -->
- **Store API keys securely**: Use environment variables to avoid typos
- **Validate before use**: Check API key format before initialization
- **Monitor key rotation**: Update all services when regenerating keys
- **Use the dashboard**: Regularly verify resources exist
- **Test after changes**: Verify connections after any key regeneration
- **Use complete keys**: Always copy the entire API key including all three parts

## Related Errors

<!-- Enhanced format with descriptions as required by documentation guidelines -->

• **[40101 - Authentication Failed](https://help.ably.io/error/40101)**  
  Occurs when the API key secret is incorrect (different from 40400's missing resource issue)

• **[40103 - Invalid Use of Basic Auth](https://help.ably.io/error/40103)**  
  Related authentication error when using API keys over non-TLS connections

• **[40102 - Token Expired](https://help.ably.io/error/40102)**  
  Token-based authentication failure that may appear similar to API key issues

• **[80000 - Connection Failed](https://help.ably.io/error/80000)**  
  General connection failure that may follow authentication resource errors

## Related Resources

- [Authentication documentation](https://ably.com/docs/auth)
- [API key management](https://ably.com/docs/auth/basic)
- [Push notifications setup](https://ably.com/docs/push)
- [Integration rules](https://ably.com/docs/general/integrations)
- [Environment setup](https://ably.com/docs/basics/use-ably#account)

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 40400
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md (Critical guidance for 40400 at lines 50-68)
- Existing Documentation: Enhanced from https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/40400-resource-not-found.mdx
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: Authentication guidance from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 62-76
- Content Excluded: Internal system resources (ZeroRPC clients, netmap registration, cluster status, health monitors) - too technical for customer documentation
- Content Added: Enhanced clarity on API key structure with visual example based on editorial notes requirement
- Content Enhanced: Better explanation of the three-part API key structure as specified in editorial notes
- Recommendations Source: 
  - Step 1: Editorial notes critical requirement https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md lines 54-60 and Slack findings https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 391-410
  - Step 2: Standard dashboard verification from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 64-65
  - Step 3-5: Specific resource checks based on analysis https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md lines 25-30, 172-183, 157-167
- Code Examples Rationale: No code examples included as this is primarily a resource/configuration error requiring dashboard or API key fixes rather than code changes
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on extensive Slack authentication testing https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 279-295, 391-410 and editorial notes https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md lines 54-60
  - Cause 2: From knowledge file environment issues https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 53-57
  - Cause 3: From analysis of resource lifecycle https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md lines 215-224
- Resolution Steps: 
  - Step 1: Editorial notes critical requirement https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md lines 54-60 with Slack authentication findings https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 391-410
  - Step 2: Standard practice from knowledge file https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 64-65
  - Step 3: From ably-dotnet push implementation https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md lines 172-183
  - Step 4: From realtime rule management https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md lines 25-30
  - Step 5: From ably-js pagination code https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-analysis.md lines 157-167
- Prevention: Based on best practices from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40400-knowledge.md lines 71-76 with addition about complete keys from Slack findings
-->

<!-- URL Validation Completed: 2025-08-25T19-44-21-128Z -->
<!-- External URLs verified: 10 | Corrected: 0 | Exempted internal: 5 -->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 40400
2. Regenerate: Run `./bin/ably-os errors document-error-codes 40400 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->