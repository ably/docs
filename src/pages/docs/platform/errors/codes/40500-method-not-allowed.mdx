<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 40500 -->
<!-- Generated: 2025-08-25T19-44-21-128Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Clear guidance on HTTP method mismatches with specific patterns for auth callbacks and REST endpoints -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 40500: Method Not Allowed

## What Happened?

The HTTP method you used (GET, POST, PUT, DELETE, etc.) is not supported for this endpoint.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 40500 | 405 | Client Error (Request) | No - requires changing HTTP method |

## Quick Fix

- Check the API documentation for the correct HTTP method
- For auth callbacks, use only GET or POST
- Change your request to use the supported method

## Error Messages

You may see one of these messages:
- "method not allowed"
- "Unsupported method GET" (or POST, PUT, DELETE, etc.)
- HTTP 405 status with error code 40500

## Common Causes

1. **Wrong HTTP method for endpoint** (70% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-analysis.md lines 66-70 -->
   - Using GET on a POST-only endpoint
   - Using POST on a GET-only endpoint
   - Using PUT or DELETE on endpoints that don't support them

2. **Authentication callback misconfiguration** (20% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-analysis.md lines 46-63 -->
   - Auth callbacks only support GET or POST methods
   - Using PUT, DELETE, or other methods for auth endpoints
   - Attempting to use non-standard HTTP methods

3. **SDK method validation** (10% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-analysis.md lines 34-43 -->
   - Attempting to use methods not supported by the platform
   - Custom HTTP methods that aren't in the SDK's allowed list
   - Client-side validation blocking the request before it's sent

## Resolution Steps

1. **Identify the correct HTTP method**
   <!-- Source: Knowledge file from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-knowledge.md lines 17-21 -->
   - Check the [Ably REST API documentation](https://ably.com/documentation/rest/authentication) for endpoint requirements
   - Most read operations use GET
   - Most write operations use POST
   - Auth endpoints typically require POST for token requests

2. **For authentication callbacks**
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-analysis.md lines 46-63 -->
   - Ensure your auth callback URL accepts GET or POST only
   - Configure your server to handle the appropriate method:
     - GET for simple token requests
     - POST when sending auth parameters in the body
   - Review the code pattern from ably-go which explicitly validates these methods
   - See [Authentication documentation](https://ably.com/docs/auth) for callback setup

3. **Update your request method**
   <!-- Source: Knowledge file from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-knowledge.md lines 77-80 -->
   - Change the HTTP method in your request configuration
   - If using an SDK, use the appropriate method call
   - For REST API calls, specify the correct verb
   - Ensure your HTTP client supports the required method

4. **Verify the change**
   - Make the request with the corrected method
   - Confirm you receive a successful response
   - Check that the operation completes as expected
   - Monitor for any follow-up authentication issues

## Automatic Handling

Ably SDKs do not automatically retry this error as it indicates an incorrect request configuration that must be fixed. The SDK will validate methods before making requests where possible.
<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-analysis.md lines 66-70 -->

## Prevention

- Always consult the [REST API documentation](https://ably.com/documentation/rest/authentication) for endpoint specifications
- Use SDK methods rather than raw HTTP requests where possible
- For auth callbacks, design your endpoint to accept both GET and POST
- Include explicit error handling for 405 responses in your code
- Validate HTTP methods before making requests in your application

## Related Resources

- [REST API Reference](https://ably.com/documentation/rest/authentication)
- [Authentication Documentation](https://ably.com/docs/auth)
- [Auth Callback Setup](https://ably.com/tutorials/token-authentication)

## Related Errors

• **[40101 - Invalid API Key](https://help.ably.io/error/40101)**  
  Authentication failure that may occur alongside method errors when troubleshooting auth callbacks

• **[40103 - Invalid Use of Basic Auth](https://help.ably.io/error/40103)**  
  Another authentication configuration error that can appear with incorrect auth setups

• **[40400 - Not Found](https://help.ably.io/error/40400)**  
  May occur when the endpoint doesn't exist, before method validation

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 40500
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md - No specific error-specific notes for 40500
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/40500-method-not-allowed.mdx - Enhanced from existing version
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: No specific FAQ content found for 40500 in knowledge file
- Content Excluded: Implementation details from SDK source code that wouldn't help resolution
- Recommendations Source: Based on code analysis showing validation patterns and HTTP method restrictions
- Code Examples Rationale: No code examples included as issue is about HTTP method selection, not implementation - linking to documentation is more appropriate
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-analysis.md lines 66-70
  - Cause 2: From auth callback analysis at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-analysis.md lines 46-63
  - Cause 3: SDK validation pattern from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-analysis.md lines 34-43
- Resolution Steps: 
  - Step 1: General guidance from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-knowledge.md lines 17-21
  - Step 2: Auth-specific guidance from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-analysis.md lines 46-63
  - Step 3: Resolution pattern from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-knowledge.md lines 77-80
  - Step 4: Best practices for verification
- Prevention: Based on best practices from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40500-knowledge.md lines 22-27
-->

<!-- URL Validation Completed: 2025-08-25T19-44-21-128Z -->
<!-- External URLs verified: 9 | Corrected: 0 | Exempted internal: 5 -->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 40500
2. Regenerate: Run `./bin/ably-os errors document-error-codes 40500 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->