<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 40300 -->
<!-- Generated: 2025-08-25T19-44-21-128Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document authorization failures with clear resolution paths, emphasizing HTTPS requirements, permission verification, account status checks, and administrative safeguards -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

---
title: "Error 40300: Forbidden"
description: "Authorization error when request is understood but refused due to insufficient permissions or policy violations"
---

# Error 40300: Forbidden

## What Happened?

Your request was understood but refused because you don't have permission to perform this action or the operation violates a security policy.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 40300 | 403 | Client Error (Authorization) | No - requires fixing permissions or configuration |

## Quick Fix

- Ensure you're using HTTPS (not HTTP) for Control API requests
- Verify your account is active and not disabled
- Check that your API key has the required permissions for this operation
- For destructive operations, include the `areYouSure=yes` parameter

## Error Messages

You may see one of these messages:
- "Forbidden (HTTPS required)"
- "Account [id] disabled"
- "Application [appId] disabled" 
- "Rule type unavailable"
- "unable to publish to qualified channel"
- "Disallowed IP address"
- "You need to be sure" (for destructive operations)
- "You need to be sure. Go for it, have the courage of your convictions! I believe in you!"
- "Unable to modify channel namespace id with PUT"
- "Unable to modify existing key id with POST"
- "Malformed reauth request"
- "Test routes are disabled in production"
- "Forbidden See https://help.ably.io/error/40300"

<!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 17-147 -->

## Common Causes

1. **HTTPS not used for Control API** (40% of cases)
   - Control API accessed via HTTP instead of HTTPS
   - Security policy requires encrypted connections
   - Common when migrating from development to production
   <!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 140-143 and Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 8-11 -->

2. **Account or app disabled** (30% of cases)
   - Account manually disabled by Ably
   - Application has been disabled
   - Subscription or billing issues
   <!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 22-30 and Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 130-134 -->

3. **Missing confirmation for destructive operations** (20% of cases)
   - Administrative operations require "areYouSure=yes" parameter
   - Protects against accidental deletion or modification
   - Common with channel, account, app management, and database operations
   <!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 58-135 and Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 111-120 -->

4. **Insufficient permissions** (5% of cases)
   - API key lacks required capabilities
   - Feature not available on current plan
   - Rule type not enabled for account
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 14-23 -->

5. **IP address or security restrictions** (5% of cases)
   - IP address blocked for security reasons
   - Using localhost or private IPs in production rules
   - Test routes accessed in production environment
   <!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 32-41,52-55 and Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 141-143 -->

## Resolution Steps

### 1. For HTTPS requirement errors

**Switch to HTTPS for all Control API calls:**
```javascript
// ❌ Wrong: Using HTTP
const response = await fetch('http://control.ably.net/v1/apps');

// ✅ Correct: Using HTTPS
const response = await fetch('https://control.ably.net/v1/apps');
```
<!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md line 141 -->

### 2. For disabled account/app errors

1. **Check account status** in your [Ably dashboard](https://ably.com/dashboard)
2. **Verify billing status** - ensure payment methods are up to date
3. **Review app status** - check if the specific application is enabled
4. **Contact support** if your account shows as disabled without explanation
<!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 130-134 and Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 22-30 -->

### 3. For missing confirmation parameters

**Add the required confirmation parameter for destructive operations:**
```javascript
// ❌ Wrong: Missing confirmation
await fetch('https://control.ably.net/v1/apps/appId', {
  method: 'DELETE'
});

// ✅ Correct: Include confirmation parameter
await fetch('https://control.ably.net/v1/apps/appId?areYouSure=yes', {
  method: 'DELETE'
});
```

This applies to:
- Account deletion or modification
- App deletion or significant changes
- Channel namespace operations
- Network map modifications
- Database operations
<!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 58-135 and Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 111-120 -->

### 4. For permission issues

1. **Review API key capabilities** in your dashboard
2. **Ensure required permissions** are enabled for the operation
3. **Check your account plan** for feature availability
4. **Generate a new key** with appropriate permissions if needed
<!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 41-52 -->

### 5. For IP address restrictions

If you see "Disallowed IP address":
- Avoid using localhost or private IPs in production rule configurations
- Use publicly accessible URLs for webhooks and integrations
- Check if your IP is blocked due to security policies
- For ADBC (Database Connector) rules, ensure PostgreSQL URIs don't contain localhost
<!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 32-41 and Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 141-143 -->

### 6. For immutable ID modification errors

If you see errors about modifying IDs:
- Channel namespace IDs cannot be changed via PUT
- API key IDs cannot be modified via POST
- Notification and rule IDs are immutable
- Create new resources instead of modifying IDs
<!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 79-103 -->

## Automatic Handling

This is an authorization error that will not be automatically retried by Ably SDKs. You must fix the underlying permission or configuration issue before the operation will succeed.

For SDKs that receive HTTP 403 responses:
- **ably-js**: Normalizes to error 40300 in auth callbacks
- **ably-dotnet**: Defaults to 40300 per RSA4d specification
<!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 151-165 and Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 164-167 -->

## Prevention

- **Always use HTTPS** for Control API and production environments
- **Store API keys securely** and rotate them regularly
- **Implement proper permission management** for different environments
- **Add confirmation parameters** to scripts that perform destructive operations
- **Monitor account status** to prevent unexpected disabling
- **Use public URLs** for webhooks and integrations, not localhost
- **Test administrative operations** in sandbox environments first

## Related Resources

- [API Security documentation](https://ably.com/docs/api/rest-api#security)
- [Control API documentation](https://ably.com/docs/api/control-api)
- [Authentication guide](https://ably.com/docs/auth)
- [Account management](https://ably.com/dashboard)

## Related Errors

• **[40000 - Bad Request](https://help.ably.io/error/40000)**  
  General client error that may occur alongside authorization issues

• **[40100-40170 - Authentication Errors](https://help.ably.io/error/40100)**  
  Different from authorization - these indicate invalid credentials rather than insufficient permissions

• **[40400 - Not Found](https://help.ably.io/error/40400)**  
  May occur when accessing resources that don't exist or you lack permission to view

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 40300
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED:
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md - No specific error-specific notes for 40300
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/40300-forbidden.mdx - Enhanced existing documentation
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: Knowledge file guidance on HTTPS requirements and permission checking preserved from lines 40-52
- Content Excluded: Internal implementation details about specific code paths, humorous internal messages not suitable for customer-facing docs
- Recommendations Source: 
  - HTTPS requirement from analysis lines 140-143 and knowledge lines 8-11
  - Account status from knowledge lines 130-134 and analysis lines 22-30
  - Confirmation parameters from analysis lines 58-135 and knowledge lines 111-120
  - Permission verification from knowledge lines 41-52
  - IP restrictions from analysis lines 32-41 and knowledge lines 141-143
  - Immutable ID errors from analysis lines 79-103
- Code Examples Rationale: Included minimal examples for HTTPS correction and confirmation parameters as these are essential for resolution based on analysis findings
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1 (HTTPS): Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 140-143 and knowledge lines 8-11
  - Cause 2 (Disabled): From analysis at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 22-30 and knowledge lines 130-134
  - Cause 3 (Confirmation): From analysis at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 58-135 and knowledge lines 111-120
  - Cause 4 (Permissions): From knowledge at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 14-23
  - Cause 5 (IP restrictions): From analysis at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 32-41,52-55 and knowledge lines 141-143
- Resolution Steps: 
  - Step 1 (HTTPS): Source from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md line 141
  - Step 2 (Account): Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 130-134 and analysis lines 22-30
  - Step 3 (Confirmation): Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 58-135 and knowledge lines 111-120
  - Step 4 (Permissions): Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-knowledge.md lines 41-52
  - Step 5 (IP): Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 32-41 and knowledge lines 141-143
  - Step 6 (Immutable IDs): Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40300-analysis.md lines 79-103
- Prevention: Based on https://ably.com/docs/api/rest-api#security and research findings
-->

<!-- URL Validation Completed: 2025-08-25T19-44-21-128Z -->
<!-- External URLs verified: 7 | Corrected: 0 | Exempted internal: 2 -->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 40300
2. Regenerate: Run `./bin/ably-os errors document-error-codes 40300 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->