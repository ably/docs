---
title: Occupancy
meta_description: ""
---

The `Occupancy` interface is used to subscribe to occupancy updates and fetch the occupancy metrics of a room.

Occupancy is disabled in a room by default. Enable it using the `enableEvents` property in the [`OccupancyOptions`](/docs/chat/api/javascript/rooms#OccupancyOptions) of a room.

Access it via `room.occupancy`.

---

## Get the room occupancy <a id="get"/>

`room.occupancy.get()`

Get the current occupancy of the room as an instantaneous value from the server.

`get(): Promise<OccupancyEvent>`

### Returns

Returns a promise. On success, the promise is fulfilled with an `OccupancyData` object containing the current occupancy metrics. On failure, the promise is rejected with an [`ErrorInfo`](/docs/chat/api/javascript/error-info).

#### OccupancyData

An interface that represents an occupancy data of a chat room.

It has the following properties:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `connections` | The number of connections attached to the channel. | `number` |
| `presenceMembers` | The number of users entered into the [presence](/docs/chat/api/javascript/presence) set. | `number` |

---

## Get the current room occupancy <a id="current"/>

`room.occupancy.current()`

Get the latest occupancy data received from realtime events.

`current(): undefined | OccupancyData`

### Returns

The latest occupancy data, or undefined if no realtime events have been received in the room yet.

--

## Subscribe to occupancy <a id="subscribe"/>

`room.occupancy.subscribe()`

Subscribe the provided listener to occupancy occupancy events.

`subscribe(listener: OccupancyListener): Subscription`

### Parameters

It uses the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `listener` | Function called when an occupancy update is received | `OccupancyListener` |

#### OccupancyListener

A listener that listens for occupancy events.

`OccupancyListener: (event: OccupancyEvent) => void`

It uses the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `event` | An occupancy event. | [`OccupancyEvent`](#occupancyevent) |

#### OccupancyEvent

An interface that represents an occupancy event.

It has the following properties:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `occupancy` | The occupancy data associated with the event. Contains the number of `connections` and `presenceMembers`. | `occupancy: { connections: number; presenceMembers: number }` |
| `type` | The type of the occupancy event. Will always be `Updated`. ||

### Returns

Returns a [`Subscription`](/docs/chat/api/javascript/subscriptions#subscription) object that can be used to unsubscribe the listener.
