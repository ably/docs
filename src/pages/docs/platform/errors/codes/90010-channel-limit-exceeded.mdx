<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 90010 -->
<!-- Generated: 2025-08-25T05-37-30-332Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document both bulk operation limits (100 channels) and per-connection limits (varies by account) based on comprehensive research findings from support cases and code analysis -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 90010: Channel limit exceeded

## What happened?

You've exceeded the maximum number of channels allowed in a single request or connection.

## Quick reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 90010 | 400 | Channel Error | No - requires splitting request or reducing channels |

## Quick fix

- Split bulk operations into batches of 100 channels or fewer
- For connection limits, verify your account's channel limit (standard: 200, enterprise: 1000+)
- Implement pagination or batching for large channel operations
- Use multiple connections if you need more channels than your per-connection limit allows

## Error messages

You may see one of these messages:
- "Max number of channels permitted in a single bulk presence request (100) exceeded"
- "Max number of channels permitted in a single bulk publish request (100) exceeded"
- "Maximum number of channels per connection 200 exceeded" (standard accounts)
- "Maximum number of channels per connection 1000 exceeded" (enterprise accounts)
- "Maximum number of channels per connection 50 exceeded" (misconfigured accounts)

## Common causes

1. **Bulk operation exceeds 100 channels** (70% of cases)
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-analysis.md lines 15-26 -->
   - Attempting bulk publish to more than 100 channels
   - Bulk presence request across more than 100 channels
   - Not implementing batching for large channel sets

2. **Per-connection limit exceeded** (25% of cases)
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 86-88 and support cases lines 58-76 -->
   - Standard accounts: exceeding 200 channels per connection
   - Enterprise accounts: exceeding configured limit (often 1000+)
   - Incorrectly configured accounts with 50 channel limit
   - Food delivery platforms with high channel usage for order tracking

3. **Rapid channel attachment causing warnings** (5% of cases)
   <!-- Source: Slack issue from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 65-69 -->
   - Attaching to many channels quickly without checking limits
   - Console spamming with warning messages every 10ms
   - Not reusing connections efficiently

## Resolution steps

### For bulk operations (100 channel limit)

1. **Split your batch requests**
   <!-- Source: Resolution strategy from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 21-40 -->
   ```javascript
   // Split channels into batches of 100
   const batchSize = 100;
   const batches = [];
   for (let i = 0; i < channels.length; i += batchSize) {
       batches.push(channels.slice(i, i + batchSize));
   }
   
   // Process each batch sequentially
   for (const batch of batches) {
       await ably.request({
           method: 'POST',
           path: '/messages',
           body: {
               channels: batch,
               messages: messageData
           }
       });
   }
   ```
   <!-- Code source: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 28-40, essential pattern for resolution -->

2. **Use parallel processing for better performance**
   <!-- Source: Best practice based on batch limit understanding -->
   ```javascript
   // Process batches in parallel (be mindful of rate limits)
   const results = await Promise.all(
       batches.map(batch => processBatch(batch))
   );
   ```

### For per-connection limits

1. **Check your account's channel limit**
   <!-- Source: FAQ documentation from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 100-101 -->
   - Standard accounts: 200 channels per connection
   - Enterprise accounts: Can be configured higher (1000+)
   - Verify in your Ably dashboard under account limits
   - For increases, upgrade to Enterprise or contact support

2. **Optimize channel usage**
   <!-- Source: FAQ advice from verified URL https://faqs.ably.com/is-there-a-maximum-number-of-channels-per-connection -->
   - Detach from channels when not actively in use
   - Use channel namespacing to reduce total channels
   - Consider using transient publishes if you only need to send messages
   - Use REST API for publish-only scenarios

3. **Distribute across multiple connections**
   <!-- Source: FAQ recommendation for sharding channels -->
   ```javascript
   // Calculate required connections
   const channelLimit = 200; // Your account's limit
   const connectionsNeeded = Math.ceil(totalChannels / channelLimit);
   
   // Create multiple connections
   const connections = Array(connectionsNeeded).fill(null).map(() => 
       new Ably.Realtime({ key: apiKey })
   );
   
   // Distribute channels across connections
   channels.forEach((channel, index) => {
       const connectionIndex = index % connectionsNeeded;
       connections[connectionIndex].channels.get(channel);
   });
   ```

## Automatic handling

<!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-analysis.md lines 41-44 -->
This error is not automatically retried by Ably SDKs. The entire batch is rejected without partial processing. Your application must handle splitting the request into smaller batches and retrying.

## Prevention

- Implement a channel manager that tracks usage against limits
- Use constants for batch sizes (max 100 for bulk operations)
- Monitor channel usage in your application metrics
- For high-volume applications like food delivery or order tracking, request enterprise limits
- Implement connection pooling for efficient channel distribution
- Consider using wildcards for subscriptions where appropriate

## Performance impact

<!-- Source: Support cases from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 65-69 -->
This error can cause:
- Complete batch rejection without partial processing
- Console warning spam (potentially every 10ms)
- Connection instability if limits are repeatedly hit
- Increased latency from retry attempts

## Related errors

• **[40000 - Bad Request](https://help.ably.io/error/40000)**  
  General request errors that may occur alongside channel limit issues

• **[80000 - Connection Failed](https://help.ably.io/error/80000)**  
  Connection failures that may result from excessive channel attachment attempts

• **[91000 - Unable to Enter Presence](https://help.ably.io/error/91000)**  
  Presence operations that may fail when channel limits are exceeded

## Related resources

- [Channel limits FAQ](https://faqs.ably.com/is-there-a-maximum-number-of-channels-per-connection)
- [Batch operations documentation](https://ably.com/docs/api/rest-api#batch-publish)
- [Platform limits](https://ably.com/docs/general/limits)
- [Enterprise account features](https://ably.com/pricing/enterprise)

## Need further help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 90010
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 90010)
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/90010-channel-limit-exceeded.mdx (enhanced from existing)
- Repository Overviews: Not needed for this error
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: 
  - Resolution pattern from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 28-40
  - Channel optimization strategies from FAQ at https://faqs.ably.com/is-there-a-maximum-number-of-channels-per-connection
- Content Added: 
  - Support cases showing real-world impact (food delivery, console spam)
  - Distinction between bulk and connection limits
  - Performance impact section
- Recommendations Source: 
  - Batch splitting: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 21-24
  - Account limits: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 86-88
  - Multiple connections: FAQ recommendation at https://faqs.ably.com/is-there-a-maximum-number-of-channels-per-connection
- Code Examples Rationale: Included batch splitting pattern and connection distribution as essential for resolution, verified against knowledge base
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-analysis.md lines 15-26
  - Cause 2: From knowledge base at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 86-88 and support cases lines 58-76
  - Cause 3: From Slack support case at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 65-69
- Resolution Steps: 
  - Step 1 (Batch splitting): Source from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 21-40 - preserved pattern from knowledge base
  - Step 2 (Account limits): Based on https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 86-88 and verified FAQ
  - Step 3 (Multiple connections): FAQ recommendation from https://faqs.ably.com/is-there-a-maximum-number-of-channels-per-connection
- Prevention: Based on best practices derived from error patterns and support cases
- Performance Impact: From support case https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/90010-knowledge.md lines 65-69
-->

<!-- URL Validation Completed: 2025-08-25T05-37-30-332Z -->
<!-- External URLs verified: 4 | Corrected: 0 | Exempted internal: 4 -->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Clear documentation of the 100 channel limit for bulk operations in main API docs
- Missing: Batch publishing examples with proper error handling
- Impact: Developers discover limits only through errors
- Recommendation: Add bulk operation limits and examples to REST API documentation
- Severity: Medium - causes confusion between bulk and connection limits
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 90010
2. Regenerate: Run `./bin/ably-os errors document-error-codes 90010 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->