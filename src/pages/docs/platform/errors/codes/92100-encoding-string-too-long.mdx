<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 92100 -->
<!-- Generated: 2025-09-02T08-05-05-187Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/8f8fd9c/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document Ruby SDK-specific encoding length limit with clear resolution steps -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 92100: Encoding string too long

## What Happened

The message encoding metadata exceeded the 512-character limit in the Ruby SDK, preventing the message from being sent.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable | Max Encoding Length |
|------------|-------------|----------|-----------|-------------------|
| 92100 | 400 | Client Error (Encoding) | No - requires fixing encoding chain | 512 characters |

## Troubleshooting

### Excessive Encoding Transformations
**Symptom**: "Encoding error, encoding value is too long" error when publishing messages
**Solution**: Reduce encoding transformations by letting the SDK handle encoding automatically
<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md lines 30-36 -->

```ruby
# ✅ Correct: Let SDK handle encoding
channel = ably.channels.get('my-channel')
channel.publish('event', { data: 'value' })

# ❌ Avoid: Manual encoding chains
# Don't manually apply multiple encodings
```
<!-- Code source: https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md lines 49-56, essential for showing correct usage -->

### Encryption Adding to Encoding Length
**Symptom**: Error occurs when using channel encryption with other encodings
**Solution**: Use channel cipher parameters instead of manual encryption encoding
<!-- Source: Analysis from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md lines 65-71 -->

```ruby
# Set encryption at channel level
channel_options = { cipher: { key: encryption_key } }
channel = ably.channels.get('secure-channel', channel_options)
channel.publish('event', data) # Encryption handled automatically
```
<!-- Source: Based on Ably Ruby SDK encryption patterns, standard channel cipher usage -->

### Accumulated Encoding Metadata
**Symptom**: Encoding string like `json/utf-8/base64/cipher+aes-256-cbc/gzip/base64`
**Solution**: Simplify your message pipeline - avoid redundant transformations
<!-- Source: Knowledge file from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-knowledge.md lines 55-58 -->

## Prevention

- Design efficient message pipelines from the start
- Monitor encoding string length during development
- Use channel-level encryption configuration
- Trust the SDK's automatic encoding for objects
<!-- Source: Best practices from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-knowledge.md lines 59-65 -->

## Technical Details

The Ruby SDK validates encoding string length before message transmission. Each transformation adds to the encoding metadata with '/' separators (e.g., `json/utf-8/base64`). When this accumulated string exceeds 512 characters, error 92100 is raised.
<!-- Source: Technical details from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md lines 11-23 -->

This limit is specific to the Ruby SDK implementation. Other Ably SDKs may not have this explicit restriction.
<!-- Source: SDK-specific behavior from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-knowledge.md lines 74-78 -->

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 92100
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED:
- Analysis File: https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/8f8fd9c/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 92100)
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: No existing FAQ content found for error 92100
- Content Excluded: Performance considerations were summarized rather than detailed
- Recommendations Source: 
  - Reduce transformations: Based on analysis findings in https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md lines 30-36
  - Use channel cipher: Based on encoding format analysis in https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md lines 65-71
  - Simplify pipeline: From knowledge file https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-knowledge.md lines 55-58
- Code Examples Rationale: Included minimal Ruby examples showing correct SDK usage from analysis file lines 49-56
-->

<!-- ATTRIBUTION BY SECTION:
- What Happened: Based on analysis findings about 512 character limit from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md lines 11-18
- Quick Reference: Technical specs from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md lines 11-23
- Troubleshooting:
  - Excessive Transformations: Analysis from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md lines 30-36
  - Encryption: Analysis from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-analysis.md lines 65-71
  - Accumulated Metadata: Knowledge from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-knowledge.md lines 55-58
- Prevention: Best practices from https://github.com/ably/ably-os/blob/8f8fd9c/output/error-codes/research/92100-knowledge.md lines 59-65
- Technical Details: Combined from analysis lines 11-23 and knowledge lines 74-78
-->

<!-- URL Validation Completed: 2025-09-02T08-05-05-187Z -->
<!-- External URLs verified: 1 | Corrected: 0 | Exempted internal: 2 -->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 92100
2. Regenerate: Run `./bin/ably-os errors document-error-codes 92100 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/8f8fd9c/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->