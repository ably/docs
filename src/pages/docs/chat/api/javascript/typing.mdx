---
title: Typing
meta_description: ""
---

The `Typing` interface is used to send typing events on keystrokes and subscribe to typing events emitted by other users.

Access it via `room.typing`.

---

## Get the users currently typing <a id="current"/>

`room.typing.current()`

Get the set of users that are currently typing in the room by their `clientId`s.

`current(): Set<string>`

### Returns

Returns the set of `clientId`s of all users that are currently typing.

<Code>
```javascript
const currentlyTypingClientIds = room.typing.current();
```
</Code>

---

## Start typing <a id="keystroke"/>

`room.typing.keystroke()`

Send a `typing.started` event to the server. Events are throttled according to the [`heartbeatThrottleMs RoomOption`](/docs/chat/api/javascript/rooms#typingoptions). If an event has already been sent within the configured interval then the operation is a no-op.

Calls to `keystroke()` and `stop()` are serialized and will always resolve in the correct order.

* For example, if multiple `keystroke()` calls are made in quick succession before the first `keystroke()` call has sent a `typing.started` event to the server, followed by one `stop()` call, the `stop()` call will execute as soon as the first `keystroke()` call completes. All intermediate `keystroke()` calls will be treated as no-ops.
* The most recent `keystroke()` or `stop()` will always determine the final state, ensuring operations resolve to a consistent and correct state.

`keystroke(): Promise<void>`

#### Returns

Returns a promise. On success, the promise is fulfilled. On failure, the promise is rejected with an [`ErrorInfo`](/docs/chat/api/javascript/error-info).

Throws if:

* The `Connection` is not in the `Connected` state.
* The operation fails to send the event to the server.
* There is a problem acquiring the mutex that controls serialization.

<Code>
```javascript
await room.typing.keystroke();
```
</Code>

---

## Stop typing <a id="stop"/>

`room.typing.stop()`

Send a `typing.stopped` event to the server. If an event has already been sent within the configured interval then the operation is a no-op.

Calls to `keystroke()` and `stop()` are serialized and will always resolve in the correct order.

* For example, if multiple `keystroke()` calls are made in quick succession before the first `keystroke()` call has sent a `typing.started` event to the server, followed by one `stop()` call, the `stop()` call will execute as soon as the first `keystroke()` call completes. All intermediate `keystroke()` calls will be treated as no-ops.
* The most recent `keystroke()` or `stop()` will always determine the final state, ensuring operations resolve to a consistent and correct state.

`stop(): Promise<void>`

### Returns

Returns a promise. On success, the promise is fulfilled. On failure, the promise is rejected with an [`ErrorInfo`](/docs/chat/api/javascript/error-info).

Throws if:

* The `Connection` is not in the `Connected` state.
* The operation fails to send the event to the server.
* There is a problem acquiring the mutex that controls serialization.

<Code>
```javascript
await room.typing.stop();
```
</Code>

---

## Subscribe to typing events <a id="subscribe"/>

`room.typing.subscribe()`

Subscribe to all typing events by registering a listener.

`subscribe(listener: TypingListener): Subscription`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `listener` | Function called when a typing event is received. | `TypingListener` |

#### TypingListener

A listener that listens for typing events.

`TypingListener: (event: TypingSetEvent) => void`

It uses the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `event` | A typing event. | [`TypingSetEvent`](#typingsetevent) |

#### TypingSetEvent

An interface that represents a change in the state of currently typing users.

It has the following properties:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `change` | The change that resulted in the new set of users currently typing. Contains the `clientId` of the user and whether they started or stopped typing. | `change: { clientId: string; type: [TypingEventType](#typingeventtype) }` |
| `currentlyTyping` | The set of `clientId`s that are currently typing. | `Set<string>` |
| `type`  | The type of event. | [`TypingSetEventType`](#typingseteventtype) |

The following is an example of a TypingSetEvent:

<Code>
```json
{
  "type": "typing.set.changed",
  "currentlyTyping": {
    "clemons",
    "zoranges",
  },
  "change": {
    "type": "typing.started",
    "clientId": "clemons"
  }
}
```
</Code>

#### TypingEventType

An enum that represents the types of events emitted by users typing in a room.

It has the following members:

| Member | Description |
| ------ | ----------- |
| `typing.started` | Sent when a user starts typing. |
| `typing.stopped` | Sent when a user stops typing. |

#### TypingSetEventType

An enum representing the typing set event types.

It has the following members:

| Member | Description |
| ------ | ----------- |
| `SetChanged` | Event triggered when a change occurs in the set of users currently typing. |

### Returns

Returns a [`Subscription`](#subscription) object with an `unsubscribe()` method to remove the listener.

<Code>
```javascript
const {unsubscribe} = room.typing.subscribe((event) => {
  console.log(event);
});
```
</Code>

#### Subscription

A response object that allows you to control the subscription.

It has the following properties:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `unsubscribe` | A method to unsubscribe from typing events. | `() => Promise<void>` |
