---
title: "ably channels batch-publish"
meta_description: "Publish messages to multiple Ably channels with a single request using the CLI."
meta_keywords: "ably cli, cli, command, batch publish, pubsub, pub/sub, multiple channels, bulk publishing"
---

<Code>
```shell
ably channels batch-publish <message> [flags]
```
</Code>

Use the `ably channels batch-publish` command to publish messages to multiple Ably channels with a single request, improving efficiency when sending the same message to many channels.

For publishing to a single channel, use the [`ably channels publish`](/docs/cli/channels/publish) command instead. Use another terminal instance to subscribe to the channels using the [`ably channels subscribe`](/docs/cli/channels/subscribe) command in order to receive published messages.

## Arguments

### `<message>` <a id="message"/>

The message to publish in plain text or JSON format. This argument is optional if using the `--spec` flag.

Examples:

* `"Hello!"`
* `{"name":"my-event","data":"Hello!"}`

## Flags

You can optionally pass the following flags to the `ably channels batch-publish` command:

### `--channels` <a id="channels"/>

Comma-separated list of channel names to publish to, for example: `channel1,channel2,channel3`.

### `--channels-json` <a id="channels-json"/>

JSON array of channel names to publish to, for example: `["channel1","channel2","channel3"]`.

### `--encoding | -e` <a id="encoding"/>

The encoding of the message. Common encodings include `json`, `utf-8`, and `base64`.

### `--name | -n` <a id="name"/>

The event name for the message, if not specified in the message JSON.

### `--spec` <a id="spec"/>

Complete batch specification as JSON. Can be either:

* A single `BatchSpec` object, for example: `{"channels":["ch1","ch2"],"messages":[{"data":"hello"}]}`.
* An array of `BatchSpec` objects for multiple batches.

When using `--spec`, the `message` argument and other flags are ignored.

## Global flags

The following global flags are supported using the `ably channels batch-publish` command:

* [`--token`](/docs/cli#token)
* [`--json`](/docs/cli#json)
* [`--pretty-json`](/docs/cli#pretty-json)
* [`--api-key`](/docs/cli#api-key)
* [`--access-token`](/docs/cli#access-token)
* [`--client-id`](/docs/cli#client-id)
* [`--env`](/docs/cli#env)
* [`--host`](/docs/cli#host)
* [`--endpoint`](/docs/cli#endpoint)
* [`--verbose`](/docs/cli#verbose)

## Examples

### Publish to multiple channels with comma-separated list

Publish the same message to three channels:

<Code>
```shell
ably channels batch-publish --channels "example-channel-1,example-channel-2,example-channel-3" "Hello everyone!"
```
</Code>

**Output:**
<Code>
```text
Using: App=example-app (Ab1CdE) â€¢ Key=example-key (Ab1CdE.FgHiJk)

Sending batch publish request...
Batch publish successful!
Response: {
  "responses": [
    {
      "channel": "example-channel-1",
      "messageId": "Ab1CdE:12345"
    },
    {
      "channel": "example-channel-2",
      "messageId": "Ab1CdE:12346"
    },
    {
      "channel": "example-channel-3",
      "messageId": "Ab1CdE:12347"
    }
  ]
}
```
</Code>

### Publish using JSON array of channels

Use JSON format to specify channels:

<Code>
```shell
ably channels batch-publish --channels-json '["game-room-1","game-room-2"]' "Game update: New player joined!"
```
</Code>

### Publish with event name

Publish a message with a specific event name:

<Code>
```shell
ably channels batch-publish --channels "alerts,notifications" --name "system-alert" "Server maintenance scheduled"
```
</Code>

### Using complete batch specification

Publish different messages to different channels using the `--spec` flag:

<Code>
```shell
ably channels batch-publish --spec '{
  "channels": ["user-123", "user-456"],
  "messages": [
    {"name": "notification", "data": "You have a new message"}
  ]
}'
```
</Code>

### Multiple batch specifications

Publish different content to different channel groups:

<Code>
```shell
ably channels batch-publish --spec '[
  {
    "channels": ["alerts"],
    "messages": [{"name": "alert", "data": "High CPU usage detected"}]
  },
  {
    "channels": ["logs"],
    "messages": [{"name": "log", "data": "System check completed"}]
  }
]'
```
</Code>

