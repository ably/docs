---
title: "ably bench publisher"
meta_description: "Run a publisher benchmark test using the CLI."
meta_keywords: "ably cli, cli, benchmark, publisher, performance test, ably bench publisher"
---

<Code>
```shell
ably bench publisher <CHANNEL> [flags]
```
</Code>

Use the `ably bench publisher` command to run a publisher benchmark test. This helps you measure the performance characteristics of publishing messages to an Ably channel under various conditions and configurations.

## Arguments

Pass the following arguments to the `ably bench publisher` command:

### `<CHANNEL>` <a id="channel"/>

The channel name to publish to, for example: `benchmark-channel`.

## Flags

You can optionally pass the following flags to the `ably bench publisher` command:

### `--messages | -m` <a id="messages"/>

Number of messages to publish. The default is `1000` messages, with a maximum of `10,000`.

### `--rate | -r` <a id="rate"/>

Messages per second to publish. The default is `15` messages per second, with a maximum of `20`.

### `--transport | -t` <a id="transport"/>

Transport protocol to use for publishing. Options are:
- `realtime` - Use realtime WebSocket connections (default)
- `rest` - Use REST API for publishing

### `--message-size` <a id="message-size"/>

Size of the message payload in bytes. The default is `100` bytes.

### `--wait-for-subscribers` <a id="wait-for-subscribers"/>

Wait for subscribers to be present on the channel before starting the benchmark test.

### `--help | -h` <a id="help"/>

Show CLI help for this command.

## Global flags

The following global flags are supported using the `ably bench publisher` command:

* [`--api-key`](/docs/cli#api-key)
* [`--access-token`](/docs/cli#access-token)
* [`--client-id`](/docs/cli#client-id)
* [`--endpoint`](/docs/cli#endpoint)
* [`--env`](/docs/cli#env)
* [`--host`](/docs/cli#host)
* [`--json`](/docs/cli#json)
* [`--pretty-json`](/docs/cli#pretty-json)
* [`--token`](/docs/cli#token)
* [`--verbose`](/docs/cli#verbose)

## Examples

Run a basic publisher benchmark:

<Code>
```shell
ably bench publisher my-channel
```
</Code>

Run benchmark with custom message count and rate:

<Code>
```shell
ably bench publisher --messages 5000 --rate 10 my-channel
```
</Code>

Use realtime transport for benchmarking:

<Code>
```shell
ably bench publisher --transport realtime my-channel
```
</Code>

Use REST transport for benchmarking:

<Code>
```shell
ably bench publisher --transport rest my-channel
```
</Code>

Wait for subscribers before starting:

<Code>
```shell
ably bench publisher --wait-for-subscribers my-channel
```
</Code>

Use another terminal instance and the [`ably bench subscriber`](/docs/cli/bench/subscriber) command to test complete pub/sub performance.
