<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 100005 -->
<!-- Generated: 2025-08-24T21-13-57-640Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Enhanced documentation focusing on Asset Tracking connection lifecycle with better state explanations and related error context -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 100005: Subscriber not online

## What Happened

The Asset Tracking subscriber lost its connection to Ably after successfully establishing an initial connection, causing the publisher presence state to become unknown.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 100005 | N/A | Connection/Presence (Asset Tracking) | Yes - automatic reconnection |

## Quick Fix

- The Asset Tracking SDK automatically handles reconnection when network connectivity is restored
- Publisher tracking data from before disconnection is preserved with timestamps
- No manual intervention required - the SDK will recover once connectivity returns

## Error Messages

You'll see this message in the Asset Tracking Android SDK:
- "Subscriber is not online"

## Common Causes

1. **Network connectivity loss** (Most common)
   - Device loses internet connection
   - Network switch between WiFi and cellular
   - Poor network conditions causing disconnection
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md lines 127-135 -->

2. **App lifecycle transitions**
   - App goes to background and loses connection
   - Device enters power-saving mode
   - System terminates background services
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md lines 132-133 -->

3. **Authentication issues**
   - Token expires causing disconnection
   - Authentication credentials become invalid
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md line 134 -->

## Resolution Steps

1. **Verify network connectivity**
   - Check the device has an active internet connection
   - Ensure no firewall or proxy is blocking Ably connections
   - Test connectivity to `realtime.ably.io`
   <!-- Source: Ably documentation at https://ably.com/docs/connect/states section "Connection management" -->

2. **Monitor connection state**
   - The SDK automatically attempts reconnection with appropriate backoff
   - Listen for connection state changes to track recovery progress
   - Publisher presence will automatically update when connection is restored
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md lines 92-94 -->

3. **Handle the unknown state gracefully**
   - Display appropriate UI indicating temporary uncertainty about publisher locations
   - Use the preserved `lastSeen` timestamps to show when publishers were last active
   - Continue normal operation - tracking will resume automatically upon reconnection
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md lines 47-50 -->

## Automatic Handling

The Asset Tracking SDK automatically:
- Preserves publisher state information with `lastSeen` timestamps when connection is lost
- Attempts reconnection using the underlying Ably SDK's retry logic with exponential backoff
- Resumes normal tracking once connection is restored
- Transitions back from the UNKNOWN state to normal operation seamlessly
<!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md lines 88-94 -->

## Prevention

- Implement proper network state monitoring in your application
- Handle app lifecycle events to manage tracking appropriately
- Use appropriate authentication token expiry times to minimize disconnections
- Consider implementing offline caching for critical tracking data

## Related Errors

• **[100004 - Subscriber Never Online](https://help.ably.io/error/100004)**  
  Occurs when the subscriber has never successfully connected, indicating initial connection issues rather than connection loss

## Related Resources

- [Asset Tracking Documentation](https://ably.com/docs/asset-tracking)
- [Connection State Management](https://ably.com/docs/connect/states)
- [Asset Tracking Android SDK](https://github.com/ably/ably-asset-tracking-android)

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 100005
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 100005)
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/100005-subscriber-not-online.mdx (enhanced from existing)
- Repository Overviews: Not needed for this focused Asset Tracking error
-->

<!-- URL Validation Completed: 2025-08-24T21-13-57-640Z -->
<!-- External URLs verified: 3 | Corrected: 0 | Exempted internal: 2 -->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: No FAQ content existed for error 100005 in knowledge file
- Content Excluded: None - all relevant information included
- Recommendations Source: 
  - Resolution steps based on standard network troubleshooting and SDK behavior from analysis
  - Prevention guidelines derived from common causes identified in code analysis
- Code Examples Rationale: No code examples included as the SDK handles this error automatically without requiring user code
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1 (Network loss): Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md lines 127-135
  - Cause 2 (App lifecycle): From analysis at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md lines 132-133
  - Cause 3 (Authentication): From analysis at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md line 134
- Resolution Steps: 
  - Step 1: Based on standard Ably connection documentation at https://ably.com/docs/connect/states
  - Step 2: From SDK behavior described in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md lines 92-94
  - Step 3: Based on state preservation from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/100005-analysis.md lines 47-50
- Prevention: Based on common patterns for connection management in mobile applications
-->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Detailed Asset Tracking presence state machine documentation
- Impact: Developers may not understand the UNKNOWN state behavior and lastSeen timestamp preservation
- Recommendation: Add comprehensive state diagram to Asset Tracking docs showing online → offline → unknown transitions with error codes
- Severity: Low (error is handled automatically, but understanding would help)
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 100005
2. Regenerate: Run `./bin/ably-os errors document-error-codes 100005 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->