version: 2

updates:
  - package-ecosystem: "npm"
    directory: "/"
    schedule:
      interval: "daily"
    # Security: 7-day cooldown gives the community time to detect and report
    # malicious packages before they're automatically proposed for our codebase
    # This protects against supply chain attacks like Shai Hulud
    # See internal security docs: Search Confluence Web space for 'Supply Chain Security'
    cooldown:
      default-days: 7
      include: ['*']
    # Check for security updates and dependencies
    open-pull-requests-limit: 2
    ignore:
      - dependency-name: "posthog-js"
    versioning-strategy: increase

  # Separate group for posthog-js which is aggressive in releasing updates
  - package-ecosystem: npm
    directory: "/"
    schedule:
      interval: weekly
    cooldown:
      default-days: 7
      include: ['*']
    open-pull-requests-limit: 2
    versioning-strategy: increase
    allow:
      - dependency-name: "posthog-js"
