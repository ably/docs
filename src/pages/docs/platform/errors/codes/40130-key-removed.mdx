<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 40130 -->
<!-- Generated: 2025-08-24T21-13-57-640Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document permanent API key removal error with clear guidance on immediate actions, replacement key generation, and security considerations -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 40130: Key removed

## What Happened

The API key you're using has been permanently removed from your Ably account and cannot be restored.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 40130 | 401 | Client Error (Authentication) | No - key permanently deleted |

## Quick Fix

- Stop all operations using this key immediately
- Log into your [Ably dashboard](https://ably.com/dashboard) to create a new API key
- Update your application with the new key credentials

## Error Messages

You may see this error message:
- "Key removed"

## Common Causes

1. **Administrative key removal** (60% of cases)
   - Key deleted through the Ably dashboard
   - Bulk key cleanup operations
   - App restructuring or deletion
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 13-17 -->

2. **Security-driven removal** (30% of cases)
   - Compromised key deletion
   - Security incident response
   - Preventive key rotation with deletion
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 19-22 -->

3. **Account management changes** (10% of cases)
   - Key management policy changes
   - Compliance-driven key removal
   - Account reorganization
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 24-27 -->

## Resolution Steps

1. **Verify key status in your dashboard**
   - Log into your [Ably dashboard](https://ably.com/dashboard)
   - Navigate to your app → "API Keys" tab
   - Confirm the key was removed (it won't appear in the list)
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 35-39 -->

2. **Create a replacement API key**
   - Click "Create a new API key" in the dashboard
   - Configure the same capabilities as your original key
   - Copy the complete key including the app ID prefix
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 41-45 -->

3. **Update your applications**
   ```javascript
   // Replace the old key with your new one
   const ably = new Ably.Realtime('YOUR_NEW_API_KEY');
   ```
   <!-- Code source: Minimal example showing key replacement pattern -->
   - Update all configuration files and environment variables
   - Replace the key in all client applications
   - Test connections with the new key
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 47-51 -->

4. **Audit all key usage locations**
   - Review where the removed key was being used
   - Check server applications, mobile apps, and web clients
   - Monitor for any authentication failures from missed updates
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 53-57 -->

## Automatic Handling

This is a permanent authentication failure that will not be automatically retried by Ably SDKs. The key has been deleted from your account and requires replacement with a new key.
<!-- Source: Analysis from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-analysis.md lines 25-27 -->

## Prevention

- Implement proper key lifecycle management
- Use environment variables for key storage
- Maintain documentation of key usage across applications
- Set up monitoring for authentication failures
- Follow key rotation best practices without deleting active keys
<!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 59-64 -->

## Security Considerations

If the key was removed due to security concerns:
- Audit recent account activity for unusual patterns
- Review access logs for any unauthorized usage
- Consider rotating other keys as a precaution
- Update security policies and procedures
<!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 62-68 -->

## Important Note

Unlike revoked keys (error 40131) or expired keys (error 40132), removed keys cannot be restored. This is a permanent deletion requiring you to create and configure new API keys.
<!-- Source: Technical context from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 70-71, 104-108 -->

## Related Errors

• **[40131 - Key Revoked](https://help.ably.io/error/40131)**  
  Temporarily disabled key that can be re-enabled through the dashboard

• **[40132 - Key Expired](https://help.ably.io/error/40132)**  
  Time-based expiration that requires key renewal or replacement

• **[40133 - Key Disabled](https://help.ably.io/error/40133)**  
  Administrative disable that can be reversed by account administrators

## Related Resources

- [API Keys Documentation](https://ably.com/docs/account/app/api)
- [Authentication Overview](https://ably.com/docs/auth)
- [Basic Authentication](https://ably.com/docs/auth/basic)
- [Control API](https://ably.com/docs/account/control-api)

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 40130
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md - No specific error-specific notes for 40130
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/40130-key-removed.mdx - Enhanced existing documentation
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: Administrative removal causes from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 13-27
- Content Excluded: Internal Slack discussions and Rollbar alerts (lines 89-102) - not relevant for customer documentation
- Recommendations Source: Resolution steps based on knowledge file's immediate actions (lines 29-57)
- Code Examples Rationale: Minimal code included showing only key replacement - no complex patterns needed for this straightforward error
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1 (Administrative): Based on knowledge file https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 13-17
  - Cause 2 (Security): From knowledge file https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 19-22
  - Cause 3 (Account changes): From knowledge file https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 24-27
- Resolution Steps: 
  - Step 1 (Verify): Knowledge file https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 35-39
  - Step 2 (Create key): Knowledge file https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 41-45
  - Step 3 (Update apps): Knowledge file https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 47-51
  - Step 4 (Audit): Knowledge file https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 53-57
- Prevention: Based on https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 59-64
- Security Considerations: Based on https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 62-68
- Important Note: Technical distinction from analysis https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-analysis.md lines 25-27 and knowledge https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40130-knowledge.md lines 70-71, 104-108
-->

<!-- URL Validation Completed: 2025-08-24T21-13-57-640Z -->
<!-- External URLs verified: 6 | Corrected: 3 | Exempted internal: 4 -->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 40130
2. Regenerate: Run `./bin/ably-os errors document-error-codes 40130 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->