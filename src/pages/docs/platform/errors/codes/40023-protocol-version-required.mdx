<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 40023 -->
<!-- Generated: 2025-08-25T19-44-21-128Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document protocol version upgrade requirement for advanced features with clear SDK upgrade path and enhanced related errors section -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 40023: Action requires a newer protocol version

## What Happened

Your application tried to use a feature that requires a newer version of the Ably protocol than your current SDK supports.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 40023 | 400 | Client Error (Protocol Version) | No - requires SDK upgrade |

## Quick Fix

- Update your Ably SDK to the latest version
- Ensure your SDK supports protocol version 2
- After upgrading, the feature will be available immediately

## Error Messages

You may see one of these messages:
- "Action requires a newer protocol version"
- "Objects are not supported by your SDK version, please upgrade to an SDK version which uses protocol v2"
- "Message annotations are not supported by your SDK version, please upgrade to an SDK version which uses protocol v2"

## Common Causes

1. **Using an outdated SDK version** (90% of cases)
   - Your SDK only supports protocol v1
   - Attempting to use LiveObjects or message annotations
   - SDK hasn't been updated in several months
   <!-- Source: Based on analysis findings from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-analysis.md lines 16-30 -->

2. **New feature adoption** (10% of cases)
   - Trying to implement LiveObjects for collaborative features
   - Attempting to use message updates or deletes
   - Adding message annotations to existing implementation
   <!-- Source: From knowledge base at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-knowledge.md lines 37-47 -->

## Resolution Steps

1. **Check your current SDK version**
   - Review your package.json, Gemfile, requirements.txt, or equivalent
   - Compare with the latest version on [Ably's SDKs page](https://ably.com/docs/sdks)
   <!-- Source: Based on analysis findings from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-analysis.md lines 19-30 -->

2. **Update to the latest SDK version**
   
   For JavaScript/Node.js:
   ```bash
   npm install ably@latest
   ```
   
   For other platforms, see the [SDK setup guide](https://ably.com/docs/getting-started/setup)
   <!-- Source: Ably documentation at https://ably.com/docs/getting-started/setup -->

3. **Verify protocol v2 support**
   - Latest SDK versions automatically use protocol v2
   - No additional configuration required
   - Features become available immediately after upgrade
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-analysis.md lines 31-46 -->

4. **Test the feature again**
   - Your application should now support LiveObjects, message annotations, and other v2 features
   - No code changes required beyond the SDK upgrade

## Automatic Handling

This is a client configuration error that will not be automatically retried. You must upgrade your SDK version before the operation will succeed.

## Prevention

- Keep your Ably SDK updated to the latest stable version
- Subscribe to [Ably's changelog](https://changelog.ably.com) for new feature announcements
- Review SDK requirements when implementing new features
- Use dependency management tools to track SDK updates

## Features Requiring Protocol v2

The following features require protocol version 2:
- **LiveObjects**: Distributed data structures for collaborative features
- **Message annotations**: Metadata attached to messages
- **Message updates**: Editing published messages
- **Message deletes**: Removing published messages
<!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-knowledge.md lines 86-92 -->

## Related Resources

- [Ably SDKs](https://ably.com/docs/sdks)
- [LiveObjects documentation](https://ably.com/liveobjects)
- [Protocol specification](https://github.com/ably/specification)

## Related Errors

• **[40000 - Bad Request](https://help.ably.io/error/40000)**  
  General client request errors that may include protocol-related issues

• **[40101 - Invalid API Key](https://help.ably.io/error/40101)**  
  Authentication errors that could prevent accessing v2 features

• **[80013 - Protocol Error](https://help.ably.io/error/80013)**  
  Protocol violations or version mismatches during connection

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 40023
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 40023)
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/40023-protocol-version-required.mdx (enhanced from previous version)
- Repository Overviews: Not needed for this error
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: Platform error documentation from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-knowledge.md lines 26-33
- Content Excluded: Internal Slack discussions about documentation process (lines 50-66 in knowledge file) - not relevant for customer-facing docs
- Recommendations Source: 
  - Resolution steps based on analysis in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-analysis.md
  - SDK upgrade guidance from Ably documentation
  - Protocol v2 features from knowledge base
- Code Examples Rationale: Minimal code included (only npm install command) as SDK upgrade is straightforward
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-analysis.md lines 16-30
  - Cause 2: From knowledge base at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-knowledge.md lines 37-47
- Resolution Steps: 
  - Step 1: Source from analysis at https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-analysis.md lines 19-30
  - Step 2: SDK installation from https://ably.com/docs/getting-started/setup
  - Step 3: Protocol v2 information from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-analysis.md lines 31-46
  - Step 4: Testing guidance based on feature requirements
- Prevention: Based on best practices and SDK maintenance guidance
- Features Requiring Protocol v2: From https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40023-knowledge.md lines 86-92
- Related Errors: Enhanced format with descriptions for each related error
-->

<!-- URL Validation Completed: 2025-08-25T19-44-21-128Z -->
<!-- External URLs verified: 7 | Corrected: 1 | Exempted internal: 3 -->
<!-- URLs Validated:
  - https://ably.com/docs/sdks ✅
  - https://ably.com/docs/getting-started/setup ✅
  - https://changelog.ably.com ✅
  - https://ably.com/liveobjects ✅
  - https://github.com/ably/specification ✅
  - https://ably.com/support ✅
  - Related error URLs redirect to faqs.ably.com (expected behavior) ✅
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 40023
2. Regenerate: Run `./bin/ably-os errors document-error-codes 40023 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably-os
-->