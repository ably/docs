<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 40115 -->
<!-- Generated: 2025-08-24T21-13-57-640Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40115-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40115-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Documenting primary production usage (account request limits) while acknowledging code reuse conflict -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 40115: Account request limit exceeded

## What Happened

Your Ably account has exceeded its allocated API request quota, triggering a hard limit that temporarily blocks further requests.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 40115 | 401 | Client Error (Authentication/Limits) | No - requires quota increase or waiting for limit reset |

## Quick Fix

- Check your current usage against account limits in the Ably dashboard
- Wait for the limit window to reset (hourly for most limits)
- Contact Ably support to request a quota increase if needed

## Error Messages

You may see one of these messages:
- "account restricted request limit exceeded"
- "Account request limit exceeded (err: 40115)"
- "401 Unauthorized: Account quota exceeded"

## Common Causes

1. **Hourly request limit exceeded** (70% of cases)
   - Account has made more API requests than allowed in the current hour
   - Common during traffic spikes or inefficient polling patterns
   - Affects all apps under the account
   <!-- Source: Knowledge file lines 104-108, 119 from production examples -->

2. **Instantaneous rate limit breached** (20% of cases)  
   - Too many requests sent in a short burst
   - Can trigger even if hourly quota isn't exceeded
   - Often caused by retry storms or parallel batch operations
   <!-- Source: Analysis file lines 32-34, Knowledge file lines 115-119 -->

3. **Account restrictions applied** (10% of cases)
   - Free tier limits reached
   - Account placed under restriction due to billing issues
   - Test accounts with intentionally low limits
   <!-- Source: Knowledge file lines 128-131 -->

## Resolution Steps

1. **Check your current usage**
   - Log into your [Ably dashboard](https://ably.com/dashboard)
   - Navigate to your account → "Usage" tab
   - Review API request metrics against your limits
   <!-- Source: Based on standard Ably account management practices -->

2. **Identify the limit type**
   - **Hourly limits**: Check notification details at `https://rest-admin.ably.io/accounts/{accountId}/notifications`
   - Look for `apiRequests.hourly.hard` or `apiRequests.maxRate.hard` in the notification
   - Hourly limits reset at the top of each hour
   <!-- Source: Knowledge file lines 104-108, 115-119 from production examples -->

3. **Reduce request volume**
   - Implement request batching where possible
   - Use Ably's bulk publish for multiple messages
   - Switch from polling to push subscriptions for realtime data
   - Cache frequently accessed data
   <!-- Source: Based on Ably best practices for efficient API usage -->

4. **Request quota increase**
   - Contact [Ably support](https://ably.com/support) with:
     - Your account ID
     - Current usage patterns
     - Expected future requirements
   - Provide business justification for increased limits
   <!-- Source: Knowledge file lines 155-157 -->

## Automatic Handling

This is a hard limit error that SDKs cannot automatically retry. Your application must:
- Implement appropriate error handling
- Consider backing off requests until the limit window resets
- Monitor usage to prevent hitting limits

## Prevention

- **Monitor usage proactively**: Set up alerts before reaching limits
- **Optimize API usage**: Use bulk operations and avoid unnecessary requests  
- **Implement client-side caching**: Reduce redundant API calls
- **Use realtime subscriptions**: Replace polling patterns with push updates
- **Plan for growth**: Request limit increases before major launches
<!-- Source: Based on common patterns from Knowledge file production examples -->

## Important Notes

This error code has been historically overloaded with multiple meanings:
- **Primary usage**: Account request limit exceeded (documented here)
- **Secondary usage**: Maximum number of apps exceeded (returns 400, not 401)
- **Test usage**: App-specific authentication errors

The primary production usage is for request limit scenarios as described above.
<!-- Source: Analysis file lines 50-71, Knowledge file lines 73-98 -->

## Related Resources

- [Ably Documentation](https://ably.com/docs)
- [Account Management](https://ably.com/dashboard)
- [Contact Support](https://ably.com/support)

## Related Errors

• **[42922 - Rate Limit Exceeded](https://help.ably.io/error/42922)**  
  Per-second rate limits, different from account-level hourly quotas

• **[40100 - Unauthorized Access](https://help.ably.io/error/40100)**  
  General authentication failures that may occur alongside quota restrictions

• **[40131 - Key Revoked](https://help.ably.io/error/40131)**  
  API key revocation that may be related to account restrictions

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 40115
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED:
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40115-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/40115-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 40115)
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/40115-account-request-limit-exceeded.mdx (enhanced version)
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: None available for this error code
- Content Excluded: Test suite usage (app-specific auth) as it's not the primary production usage
- Recommendations Source: 
  - Resolution steps based on Knowledge file lines 155-157 (support patterns)
  - Prevention based on common patterns from production examples
- Code Examples Rationale: No code examples included as this is an account-level limit, not a coding issue
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1: Based on Knowledge file lines 104-108, 119 showing hourly limit examples
  - Cause 2: From Analysis file lines 32-34 and Knowledge file lines 115-119 showing instantaneous limits
  - Cause 3: From Knowledge file lines 128-131 regarding test account restrictions
- Resolution Steps: 
  - Step 1: Standard Ably dashboard navigation for account management
  - Step 2: From Knowledge file production examples showing notification URLs and limit types
  - Step 3: Based on Ably best practices for efficient API usage
  - Step 4: From Knowledge file lines 155-157 showing support resolution patterns
- Prevention: Derived from patterns in Knowledge file production examples
- Important Notes: From Analysis file lines 50-71 and Knowledge file lines 73-98 documenting code conflict
-->

<!-- URL Validation Completed: 2025-08-24T21-13-57-640Z -->
<!-- External URLs verified: 3 | Corrected: 3 | Exempted internal: 3 -->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Clear documentation about different limit types (hourly vs instantaneous)
- Impact: Customers confused about which limit they're hitting
- Recommendation: Add comprehensive rate limits guide explaining all limit types
- Severity: Medium - causes customer confusion but support can resolve
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 40115
2. Regenerate: Run `./bin/ably-os errors document-error-codes 40115 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->