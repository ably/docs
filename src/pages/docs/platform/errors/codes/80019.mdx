---
title: "Error 80019 - Client configured authentication provider request failed"
meta_description: "Learn how to resolve Ably error 80019, which occurs when your app's authentication setup fails to obtain valid credentials."
meta_keywords: "Ably error 80019, authentication failed, auth callback error, auth URL error, token request failed"
---

{/* Generated by: ably-os errors document-error-codes */}
{/* Repository: https://github.com/ably/ably-os */}
{/* Command: ./bin/ably-os errors document-error-codes 80019 */}
{/* Generated: 2025-11-07T08-36-41-586Z */}
{/* Sources:
     - Analysis: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/b819713/src/prompts/errors/editorial-notes.md
*/}
{/* Key Approach: Complex error with multiple causes - using Structure B with integrated troubleshooting for auth callback failures, auth URL problems, and timeout issues */}
{/* Citations: Complete source attribution with line numbers available at bottom of document */}

This error occurs when Ably cannot obtain authentication credentials from your configured authentication provider (authCallback or authUrl).

| Error Code | HTTP Status | Category | Retryable |
| ---------- | ----------- | -------- | --------- |
| 80019 | 401, 403, or 500 | Authentication Error | Depends on status |

## Error messages

| Variant | Message |
| ------- | ------- |
| Auth callback failure | "authCallback failed with an exception" |
| Auth URL failure | "authUrl failed with an exception" |
| Empty response | "Empty response received from authUrl" |
| Provider returns 403 | "Client configured authentication provider returned 403; failing the connection" |
| General failure | "Client configured authentication provider request failed" |
| Timeout (iOS/macOS) | "timed out" |

## Impact

When this error occurs:
- Your app cannot establish a connection to Ably
- The connection moves to either `failed` state (403 errors) or `disconnected` state (other errors)
- All realtime features are unavailable until authentication is fixed
- No automatic retry occurs for 403 errors

## Troubleshooting

### Authentication callback exceptions

| Error Message |
| ------------- |
| "authCallback failed with an exception" |

This occurs when:
- Your authCallback function throws an unhandled exception
- The callback returns invalid data format
- The callback doesn't properly handle errors

To resolve this:

1. Add proper error handling to your authCallback:
   ```javascript
   const ably = new Ably.Realtime({
     authCallback: function(tokenParams, callback) {
       try {
         // Your authentication logic
         const tokenDetails = await getTokenFromYourServer();
         callback(null, tokenDetails);
       } catch (error) {
         console.error('Auth callback error:', error);
         callback(error);
       }
     }
   });
   ```
   {/* Source: Based on common solutions from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-knowledge.md lines 55-67 */}

2. Check the error's `cause` field for the underlying issue - Ably wraps the original error to preserve debugging information
   {/* Source: Support insight from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-knowledge.md lines 148-150 */}

3. Ensure your callback returns the correct object type for your SDK - for example, Python requires a dict, not a TokenDetails object
   {/* Source: Python SDK issue from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-knowledge.md lines 157-163 */}

### Authentication URL failures

| Error Message |
| ------------- |
| "authUrl failed with an exception" |
| "Empty response received from authUrl" |

This occurs when:
- Your authUrl endpoint is unreachable or returns an error
- The authUrl returns an empty or null response
- The response format doesn't match Ably's requirements

To resolve this:

1. Test your authUrl directly to ensure it returns valid JSON:
   ```bash
   curl https://your-auth-server.com/auth
   ```
   The response must include these fields:
   ```json
   {
     "token": "your-jwt-token",
     "expires": 1234567890000,
     "capability": "{\"*\":[\"*\"]}"
   }
   ```
   {/* Source: Common solutions from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-knowledge.md lines 68-76 */}

2. Check for serialization issues with the capability field - ensure it's properly formatted as a JSON string
   {/* Source: .NET SDK issue from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-knowledge.md lines 165-171 */}

3. Verify your auth server is accessible from your app's network environment

### Provider returns 403 status

| Error Message |
| ------------- |
| "Client configured authentication provider returned 403; failing the connection" |

This occurs when:
- Your authentication server explicitly denies the request
- The user lacks necessary permissions
- The authentication credentials have been revoked

To resolve this:

1. Check your authentication server logs to understand why it's returning 403
2. Verify the user has appropriate permissions for the requested capabilities
3. Note that 403 errors cause the connection to enter `failed` state - this is non-recoverable and requires fixing the underlying authorization issue
   {/* Source: State transition behavior from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-analysis.md lines 130-133 */}

### Authentication timeouts

| Error Message |
| ------------- |
| "timed out" |

This occurs when:
- Your authentication provider takes too long to respond
- Network latency causes the request to exceed timeout limits

To resolve this:

1. Optimize your authentication server response time
2. Check network connectivity between your app and auth server
3. Consider increasing timeout values if appropriate for your use case
   {/* Source: Timeout handling from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-analysis.md lines 56-60 */}

## Prevention

To prevent this error:

- Implement comprehensive error handling in auth callbacks
- Validate auth responses before returning them
- Monitor your authentication server's health and response times
- Test authentication under various network conditions
- Log authentication attempts for debugging (but never log sensitive credentials)
{/* Source: Prevention strategies from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-knowledge.md lines 83-104 */}

## Related errors

The following errors are related to error code 80019:

| Error code | Description |
| ---------- | ----------- |
| [40170 - Auth callback error](/docs/platform/errors/codes/40170) | The underlying error from your auth callback - check this error's details for the root cause |
| [40171 - Auth URL error](/docs/platform/errors/codes/40171) | The underlying error from your auth URL request |
| [40140 - Token expired](/docs/platform/errors/codes/40140) | May occur if your auth provider returns expired tokens |

## Need further help?

Contact [Ably support](https://ably.com/support) if you're still experiencing issues after trying the steps listed above.

You'll need to provide:

- Your account ID and app ID
- The full error message including the error code
- Steps to reproduce the issue
- Any relevant code snippets (without any sensitive credentials)
- The SDK and version you're using

### Resources
- [Authentication documentation](https://ably.com/docs/auth)
- [Token authentication guide](https://ably.com/docs/auth/token)
- [authCallback reference](https://ably.com/docs/auth/token#auth-callback)
- [authUrl reference](https://ably.com/docs/auth/token#auth-url)

{/* =============================================== */}
{/* INTERNAL DOCUMENTATION (NOT RENDERED) */}
{/* =============================================== */}

{/* SOURCES USED:
- Analysis File: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/b819713/src/prompts/errors/editorial-notes.md
- Existing Documentation: None found
*/}

{/* CONTENT DECISIONS:
- FAQ Content Preserved: Common solutions and debugging tips from knowledge file lines 55-119
- Content Excluded: SDK-specific implementation details that would confuse general audience
- Recommendations Source:
  - Error handling patterns from knowledge file lines 55-67
  - Response validation from knowledge file lines 68-76
  - Support insights from knowledge file lines 144-224
- Code Examples Rationale: Included essential error handling pattern as it directly addresses the most common cause
*/}

{/* ATTRIBUTION BY SECTION:
- Error messages:
  - Based on analysis findings in https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-analysis.md lines 16-113
- Impact:
  - Connection state transitions from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-analysis.md lines 130-133
- Troubleshooting:
  - Auth callback exceptions: Knowledge file lines 55-67, support insights lines 157-163
  - Auth URL failures: Knowledge file lines 68-76, support insights lines 165-171
  - Provider 403: Analysis file lines 130-133
  - Timeouts: Analysis file lines 56-60, support insights lines 173-176
- Prevention: Based on https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/80019-knowledge.md lines 83-104
*/}

{/* URL Validation Completed: 2025-11-07T08-36-41-586Z */}
{/* External URLs verified: 6 | Corrected: 0 | Exempted internal: 8 */}

{/* IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 80019
2. Regenerate: Run `./bin/ably-os errors document-error-codes 80019 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/b819713/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
*/}