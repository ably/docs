---
title: "Error 100003: Token authentication non-retriable failure"
meta_description: "Learn about Ably error code 100003, which occurs when the Asset Tracking SDK encounters a permanent token authentication failure that cannot be resolved through retries."
meta_keywords: "Ably error 100003, token authentication failure, Asset Tracking SDK, non-retriable error, 403 forbidden, authentication error"
---

{/* Generated by: ably-os errors document-error-codes */}
{/* Repository: https://github.com/ably/ably-os */}
{/* Command: ./bin/ably-os errors document-error-codes 100003 */}
{/* Generated: 2025-11-07T08-36-41-586Z */}
{/* Sources:
     - Analysis: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/b819713/src/prompts/errors/editorial-notes.md
*/}
{/* Key Approach: Document SDK-specific authentication failure with focus on credential configuration and environment setup */}
{/* Citations: Complete source attribution with line numbers available at bottom of document */}

# Error 100003: Token authentication non-retriable failure

This error occurs when the Ably Asset Tracking Android SDK encounters a permanent authentication failure that cannot be resolved through retries.

| Error code | HTTP status code | Category | Retryable |
| ---------- | ---------------- | -------- | --------- |
| 100003 | 403 | Authentication (Asset Tracking) | No |

## Impact

This error prevents the Asset Tracking SDK from establishing a connection to Ably's servers.

The SDK will not automatically retry this error as it indicates a permanent configuration or credential issue that requires manual intervention.

## Troubleshooting

The following are common causes and resolutions for error 100003:

### Invalid or revoked API key

This occurs when:
- The API key has been revoked in the Ably dashboard
- The API key contains typos or formatting errors
- Using a test API key in production environment

To resolve this:
1. Navigate to your [Ably dashboard](https://ably.com/dashboard) → Apps → API Keys
2. Verify your API key is active and not revoked
3. Copy the complete API key including all three parts: `appId.keyId:keySecret`
4. Update your Asset Tracking SDK configuration with the correct key

{/* Source: Analysis finding from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-analysis.md lines 25-30 */}

### Insufficient token permissions

This occurs when:
- Your token lacks the required capabilities for asset tracking operations
- The token server is not configured to include necessary channel permissions
- Required presence or publish permissions are missing

To resolve this:
1. Ensure your token includes capabilities for asset tracking channels
2. Add the required permissions when generating tokens:
   - `publish` for location updates
   - `subscribe` for tracking subscriptions
   - `presence` for online status
3. Review the [Asset Tracking documentation](https://ably.com/docs/asset-tracking) for required capabilities

{/* Source: Knowledge advice from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-knowledge.md lines 102-111 */}

### Wrong environment configuration

This occurs when:
- Production credentials are used with sandbox endpoints
- Sandbox credentials are used with production endpoints
- Environment variables are incorrectly configured

To resolve this:
1. Verify your environment configuration matches your API key type
2. For production apps, ensure you're using production API keys from your Ably dashboard
3. Check that environment-specific configuration is properly deployed
4. Review your connection configuration to ensure the correct Ably endpoint is being used

{/* Source: Knowledge advice from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-knowledge.md lines 122-130 */}

### Token server credential issues

This occurs when:
- Your token server is using an expired or invalid API key
- The token server's API key lacks permission to generate tokens
- Token generation is failing on the server side

To resolve this:
1. Verify your token server's API key is valid and active
2. Ensure the server-side API key has permission to generate tokens
3. Test token generation independently to isolate the issue
4. Check token server logs for authentication failures

{/* Source: Knowledge advice from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-knowledge.md lines 112-121 */}

## Prevention

To avoid encountering this error in the future:

- Store API keys securely using environment variables or secure credential storage
- Implement credential validation during app initialization
- Use separate API keys for different environments (development, staging, production)
- Set up monitoring for authentication failures in your production environment
- Regularly rotate API keys according to your security policy
- Test authentication configuration before deploying to production

{/* Source: Best practices from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-knowledge.md lines 134-153 */}

## Related errors

The following errors are related to error code 100003:

| Error code | Description |
| ---------- | ----------- |
| [100002](/docs/platform/errors/codes/100002) | Retriable token fetch failure - temporary authentication issues that may be resolved with retry |
| [40160](/docs/platform/errors/codes/40160) | Token capability issues - occurs when token lacks required permissions |

## Need further help?

Contact [Ably support](https://ably.com/support) if you're still experiencing issues after trying the steps listed above.

You'll need to provide:

- Your account ID and app ID.
- The full error message including the error code.
- Steps to reproduce the issue.
- Any relevant code snippets (without any sensitive credentials).
- The SDK and version you're using.

### Resources

- [Asset Tracking SDK documentation](https://ably.com/docs/asset-tracking)
- [Authentication best practices](https://ably.com/docs/auth/basic)
- [Token authentication guide](https://ably.com/docs/auth/token)

{/* =============================================== */}
{/* INTERNAL DOCUMENTATION (NOT RENDERED) */}
{/* =============================================== */}

{/* SOURCES USED:
- Analysis File: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/b819713/src/prompts/errors/editorial-notes.md (No specific error-specific notes for 100003)
- Existing Documentation: None found
*/}

{/* CONTENT DECISIONS:
- FAQ Content Preserved: Limited FAQ content available, focused on implementation patterns from knowledge file
  - Credential validation patterns from lines 158-200
  - Error handling implementation from lines 171-185
- Content Excluded: Code examples excluded as they were illustrative patterns not essential for resolution
- Recommendations Source:
  - Resolution steps based on common patterns documented in knowledge file lines 92-130
  - Prevention strategies from lines 134-153
- Code Examples Rationale: No code examples included as linking to documentation is sufficient for configuration issues
*/}

{/* ATTRIBUTION BY SECTION:
- Common Causes:
  - Invalid API key: Based on analysis findings in https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-analysis.md lines 25-30
  - Token permissions: From knowledge file https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-knowledge.md lines 102-111
  - Environment mismatch: From knowledge file lines 122-130
  - Token server issues: From knowledge file lines 112-121
- Resolution Steps:
  - Each resolution directly corresponds to its cause, sourced from same locations
- Prevention: Based on best practices from https://github.com/ably/ably-os/blob/b819713/output/error-codes/research/100003-knowledge.md lines 134-153
*/}

{/* URL Validation Completed: 2025-11-07T08-36-41-586Z */}
{/* External URLs verified: 4 | Corrected: 0 | Exempted internal: 5 */}

{/* IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 100003
2. Regenerate: Run `./bin/ably-os errors document-error-codes 100003 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/b819713/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
*/}