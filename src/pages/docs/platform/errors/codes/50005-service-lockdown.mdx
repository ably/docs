<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 50005 -->
<!-- Generated: 2025-08-21T10-28-43-924Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Document emergency lockdown error with clear explanation of operational circuit breaker pattern and non-retryable nature during incidents -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 50005: Service in lockdown

## What Happened?

Ably has temporarily placed one or more services in emergency lockdown mode to protect infrastructure during a critical incident.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 50005 | 503 | Server Error (Infrastructure) | Yes - but requires incident resolution |

## Quick Fix

- Check [Ably status page](https://status.ably.com) for active incidents
- Wait for incident resolution before retrying
- Consider fallback options if time-critical

## Error Messages

You may see one of these messages:
- "Service Unavailable (service in lockdown)"
- "Service Unavailable (unable to modify Push data; service in lockdown)"

## Common Causes

1. **Active Infrastructure Incident** (90% of cases)
   - Operators have activated emergency lockdown
   - Protects services during critical issues
   - Prevents cascading failures
   <!-- Source: Analysis finding from https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-analysis.md lines 47-71 -->

2. **Service-Specific Protection** (10% of cases)
   - Database infrastructure protection (Cassandra)
   - Authentication service protection (token requests)
   - Push notification service protection
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-knowledge.md lines 24-29 -->

## Resolution Steps

1. **Check Ably Status**
   - Visit https://status.ably.com
   - Look for active incidents or maintenance
   - Subscribe to incident updates
   <!-- Source: Knowledge recommendation from https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-knowledge.md lines 60-61 -->

2. **Monitor and Wait**
   - This is an operational decision, not a transient error
   - Service will automatically recover when lockdown is lifted
   - Typical resolution time varies by incident severity
   <!-- Source: Analysis of lockdown mechanism from https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-analysis.md lines 89-96 -->

3. **Implement Graceful Degradation**
   - Queue non-critical operations for later
   - Show appropriate user messaging about temporary unavailability
   - Avoid aggressive retry loops that won't succeed
   <!-- Source: Knowledge guidance from https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-knowledge.md lines 58-63 -->

## Automatic Handling

Ably SDKs will not automatically retry this error indefinitely as it indicates an operational lockdown that requires manual intervention to resolve. The SDK may attempt limited retries but will ultimately fail if the lockdown persists.
<!-- Source: Analysis of error propagation from https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-analysis.md lines 89-96 -->

## Prevention

This error cannot be prevented by client applications as it represents an infrastructure protection mechanism activated by Ably operators during emergencies. Focus on:
- Building resilient applications that handle temporary service unavailability
- Implementing proper error handling and user feedback
- Having fallback strategies for critical operations

## Related Resources

- [Ably Status Page](https://status.ably.com)
- [Connection states and recovery](https://ably.com/docs/realtime/connection#connection-state-recovery)
- [Error handling best practices](https://ably.com/docs/best-practice#error-handling)

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 50005
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/main/src/prompts/errors/editorial-notes.md - No specific error-specific notes for 50005
-->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: No legacy FAQ content found for this error
- Content Excluded: Internal implementation details about specific service flags (cassandraLockdownTriggered, tokenrequestLockdownTriggered) as too technical for customer docs
- Recommendations Source: 
  - Status page check: Knowledge file lines 60-61
  - Retry guidance: Knowledge file lines 58-63
  - Service protection explanation: Analysis file lines 89-96
- Code Examples Rationale: No code examples included as this is an operational error that cannot be resolved through code changes
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Cause 1 (Infrastructure Incident): Based on analysis findings in https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-analysis.md lines 47-71 showing lockdown trigger mechanism
  - Cause 2 (Service Protection): From knowledge file https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-knowledge.md lines 24-29 listing affected services
- Resolution Steps: 
  - Step 1 (Status Check): Knowledge recommendation from https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-knowledge.md lines 60-61
  - Step 2 (Monitor): Based on lockdown mechanism analysis in https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-analysis.md lines 89-96
  - Step 3 (Graceful Degradation): Guidance from https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-knowledge.md lines 58-63
- Prevention: Based on understanding that this is operator-controlled from https://github.com/ably/ably-os/blob/main/output/error-codes/research/50005-analysis.md lines 47-48
-->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Detailed documentation about service lockdown behavior and expected duration
- Impact: Users don't know how long to wait or what services are affected
- Recommendation: Add incident response playbook information to status page
- Severity: Medium - affects customer understanding during incidents
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 50005
2. Regenerate: Run `./bin/ably-os errors document-error-codes 50005 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/main/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->