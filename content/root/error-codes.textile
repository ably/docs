---
title: Error Codes
meta_description: "A guide to error codes and troubleshooting with Ably."
meta_keywords: "Ably, realtime, rest, troubleshooting, errors, basics"
section: root
index: 55
jump_to:
  Help with:
    - Client errors#client-errors
    - Server errors#server-errors
    - Queues errors#queues-errors
    - Connection-errors#connection-errors
    - Channel errors#channel-errors
    - Other errors#other-errors
---

This page will go over errors you may receive while working with Ably and steps you can take to avoid and resolve them.

For general advice on best practices when using Ably head to our "best practice guide":/best-practice-guide. There is also a "Developer Console":https://ably.com/docs/tools#developer-console in the "Ably dashboard":https://ably.com/dashboard that can assist with troubleshooting potential errors.

This page won't cover errors raised from reaching account Limits, these are covered in the separate "limits":/general/limits documentation.

If you're receiving error messages that aren't covered in this page please contact "support":https://ably.com/support. 

h2(#client-errors). Client errors

Errors related to the Ably Client Side Library.

|_. Error Code |_. Name |_. Description |_. Solution |
| 40000 | Bad request | Malformed request received | Check our "documentation and API Reference":https://ably.com/docs to explore expected requests |
| 40001 | Invalid request body | Content received was unsupported, e.g. incorrect data types | Check our "documentation and API Reference":https://ably.com/docs to explore expected requests |
| 40002 | Invalid parameter name | Parameter name includes invalid characters | Make sure the parameter name:
  * does not start with @[@ or @:@
  * does not contain newline characters
  * is empty |
| 40003 | Invalid parameter value | Content received was unsupported, e.g. incorrect value types | Check our "documentation and API Reference":https://ably.com/docs to explore expected requests |
| 40004 | Invalid header | Content received was unsupported, e.g. incorrect data types | Check our "documentation and API Reference":https://ably.com/docs to explore expected requests |
| 40005 | Invalid credentials | Provided an invalid API key or authentication token | Check our "Auth and Security documentation":/core-features/authentication/ to learn about authentication |
| 40006 | Invalid Connection ID | Provided a Connection ID that was badly formed or did not match existing connection | Check our "Connection documentation":/realtime/connection to learn about authentication |
| 40009 | Maximum message length exceeded | Attempted message was larger than allowed (typically 64kB for paid, 16kB for free) | "Read more about limits":/general/limits, reduce the size of your messages, change your package or contact "support":https://ably.com/support |
| 40010 | Invalid Channel Name | Channel name includes invalid characters | Make sure the channel name:
  * does not start with @[@ or @:@
  * does not contain newline characters
  * is empty |
| 40012 | Invalid Client ID | Client ID does not match authentication token or includes invalid characters | Make sure the Client ID does not contain a @*@ and matches your authentication token's Client ID |
| 40013 | Invalid Message Data or Encoding | Client library failed to encode message payload and is unable to handle the data | Attempt to send payload as JSON or MsgPack, or contact "support":https://ably.com/support |
| 40015 | Invalid Device ID | Device ID does not match authentication token or includes invalid characters | Make sure the Device ID does not contain a @*@ and matches your authentication token's Device ID |
| 40016 | Invalid Message Name | Message Name includes invalid characters | Make sure the Message Name ID does not contain a @*@ |
| 40030 | Invalid publish request (unspecified) | Published message was malformed | Check our "Realtime":/realtime/connection documentation for message guidance |
| 40032 | Invalid publish request (impermissible extras field) | Published message contains forbidden field(s) in @extras@ object | Remove additional fields from the @extras@ object or add them as header fields, see the "Realtime":/api/realtime-sdk/messages#extras or "REST":/api/rest-sdk/messages#extras documentation for message guidance|
| 40100 | Unauthorized | Requested action can't be completed due to lack of authorization | Check your credentials are correct and you have the required permissions, see "Auth and Security":/core-features/authentication/ documentation |
| 40101 | Invalid credentials | Provided credentials are invalid | Check your credentials are correct, see "Auth and Security":/core-features/authentication/ documentation |
| 40102 | Incompatible Credentials | Provided credentials are not compatible | Check your credentials are correct, see "Auth and Security":/core-features/authentication/ documentation |
| 40103 | Invalid use of Basic auth over non-TLS transport | Attempted to use basic authentication over a non-TLS transport | Consider the method of authentication you're using, see "Auth and Security":/core-features/authentication#selecting-auth documentation |
| 40104 | Timestamp not current | Signed token request is too old | Use @queryTime@ when instantiating the client Library ( "Realtime":/api/realtime-sdk/#client-options or "REST":/api/rest-sdk#client-options) and avoid caching signed token requests |
| 40105 | Nonce value replayed | The signed token request has been used before | Ensure you a new token request is used each time @authCallback@ is called |
| 40110 | Account disabled | The account being used has been disabled | Contact "support":https://ably.com/support for assistance |
| 40111 | Connection Limits Exceeded | Reached maximum capacity of hard peak connections | "Read more about limits":/general/limits to understand how they're calculated or consider upgrading your package |
| 40112 | Account blocked (message limits exceeded) | Reached maximum usage for number of messages | "Read more about limits":/general/limits to understand how they're calculated or consider upgrading your package |
| 40114 | Account wide peak channel limit exceeded | Reached the maximum amount of peak channels you can create | "Read more about limits":/general/limits to understand how they're calculated or consider upgrading your package |
| 40115 | Account restricted (request limit exceeded) | Attempted to go beyond allocated quota of data on your account | "Read more about limits":/general/limits to understand how they're calculated or consider upgrading your package |
| 40120 | Application disabled | The application you're attempting to use has been disabled | Check the application is available in the "Ably Dashboard":https://ably.com/dashboard or contact your account admin |
| 40121 | Token revocation not enabled for this application | The application you're attempting to use has been disabled | Check the application has token revocation enabled in the "Ably Dashboard":https://ably.com/dashboard or contact your account admin, see "Auth and Security":/core-features/authentication#token-revocation |
| 40131 | Key revoked | The API key used to instance the library is no longer valid | Check your API key against the @API Keys@ tab in the "Ably Dashboard":https://ably.com/dashboard or contact your account admin |
| 40132 | Key expired | The API key used to instance the library has expired | Check your API key against the @API Keys@ tab in the "Ably Dashboard":https://ably.com/dashboard or contact your account admin |
| 40133 | Key disabled | The API key used to instance the library has been disabled | Check your API key against the @API Keys@ tab in the "Ably Dashboard":https://ably.com/dashboard or contact your account admin |
| 40142 | Token expired | Returned when your current authentication token has expired | Use "@authUrl@ or @authCallback@":/api/realtime-sdk/authentication#auth-options to allow tokens to be automatically renewed by the client SDK when receiving this message |
| 40143 | Token unrecognised | Provided token is not recognised as an "Ably Token":/docs/general/authentication#token-request-process, "JWT":/general/authentication#ably-jwt-process, or "JWT with embedded Ably Token":/general/authentication#jwt-embed-process | Use an existing JWT creation library to reduce the possibility of incorrect JWT tokens and if using an Ably Token check it has the expected format as returned from the requestToken endpoint: @<appId>.<randomBytes>@ |
| 40144 | Unexpected error decoding JWT; decode exception | Structure of received object/token is unexpected | Ensure the MIME type of your object matches the expected type |
| 40145 | Invalid token format | Provided token is in an invalid format | Check the "Auth and Security documentation":/core-features/authentication#token-authentication |
| 40160 | Action not permitted | Client does not have permission for attempted action | Check the "Auth and Security documentation":/core-features/authentication#token-authentication |
| 40161 | Operation not permitted as it requires an identified client | Attempted to use a channel that requires identified clients with a non-identified client | Connect with an identified client or check the namespace settings of the application, check our check the "Auth and Security documentation":/core-features/authentication#identified-clients |
| 40162 | Operation not permitted with a token, requires basic auth | Attempted to use a channel that requires basic authentication with a token | Connect with a basic authentication or check the namespace settings of the application, check our check the "Auth and Security documentation":/core-features/authentication#basic-authentication |
| 40171 | No means provided to renew auth token | Caused by not enabling @authUrl@ or @authCallback@ | Enable @authUrl@ or @authCallback@ in @ClientOptions@ ("Realtime":/api/realtime-sdk/#client-options or "REST":/api/rest-sdk#client-options) when instantiating the client library |
| 40300 | Forbidden | Some, but not all, causes are:
* mismatched version for existing connections
* disabled account
* incorrect URLs | Ensure you're using the same Ably version throughout your application and you're accessing the correct URL or account, otherwise contact "support":https://ably.com/support |
| 40310 | Account does not permit tls connection | Attempting to connect with a TLS connection when TLS has been turned off | Connect without TLS or turn on TLS in @ClientOptions@ ("Realtime":/api/realtime-sdk/#client-options or "REST":/api/rest-sdk#client-options) when instantiating the client library |
| 40330 | Unable to activate account due to placement constraint (unspecified) | Attempting to access an app belonging to a dedicated cluster through an incorrect URL | Check your custom environment settings for connecting clients, read the "environmental FAQ":https://faqs.ably.com/steps-to-set-up-custom-environments-dedicated-clusters-and-regional-restrictions-for-your-account for more information |
| 40331 | Unable to activate account due to placement constraint (incompatible environment) | Attempting to access an app belonging to a dedicated cluster through the wrong URL, arriving at the wrong endpoint or region  | Check your custom environment settings for connecting clients, read the "environmental FAQ":https://faqs.ably.com/steps-to-set-up-custom-environments-dedicated-clusters-and-regional-restrictions-for-your-account for more information |
| 40332 | Unable to activate account due to placement constraint (incompatible site) | Attempting to access an app in a different region without specifying with the library | Check your custom environment settings for connecting clients, read the "environmental FAQ":https://faqs.ably.com/steps-to-set-up-custom-environments-dedicated-clusters-and-regional-restrictions-for-your-account for more information |
| 40400 | Not found | The resource you're attempting to access does not exist | Check the resource you're attempting to access exists and is correct |
| 42910 | Rate limit exceeded; request rejected | Reached maximum usage for specified period | You will be able to make new requests once the period has passed, "read more about limits":/general/limits to understand how they're calculated or consider upgrading your package |
| 42911 | Maximum account-wide instantaneous messages rate exceeded | Reached maximum usage for per second messages | "Read more about limits":/general/limits to understand how they're calculated or consider upgrading your package |

h2(#server-errors). Server errors

Errors relating to Ably side issues.

|_. Error Code |_. Name |_. Description |_. Solution |
| 50000 | Internal error | There has been an issue with Ably | Please contact "support":https://ably.com/support with "as much information as possible":https://faqs.ably.com/guide-information-we-need-to-help-you-diagnose-problems |
| 50001 | Internal channel error | There has been an issue with Ably relating to a channel | Please contact "support":https://ably.com/support with "as much information as possible":https://faqs.ably.com/guide-information-we-need-to-help-you-diagnose-problems |
| 50003 | Timeout error | Your request as caused a timeout with Ably | Please contact "support":https://ably.com/support with "as much information as possible":https://faqs.ably.com/guide-information-we-need-to-help-you-diagnose-problems |
| 50320 | Active Traffic Management: traffic for this cluster is being temporarily redirected to a backup service | Ably has redirected your traffic for a cluster to another service | Read about "Active Traffic Management":/docs/platform-customization#active-traffic-management or contact "support":https://ably.com/support |

h2(#queues-errors). Ably Queues errors

Errors relating to the Ably Queues (previously Ably Reactor) service.

|_. Error Code |_. Name |_. Description |_. Solution |
| 70002 | Reactor operation failed (post operation returned unexpected code) | Ably received an error when sending a webhook to your server | Attempt to retry the request and if that fails you may have to investigate on your side |
| 70003 | Reactor operation failed (maximum number of concurrent in-flight requests exceeded) | Too many requests sent at the same time | Attempt to retry the request |
| 70004 | Reactor operation failed (invalid or unaccepted message contents) | Message sent contained an invalid character | Make sure the Device ID does not contain a @*@ and attempt to retry the request |

h2(#connection-errors). Connection errors

|_. Error Code |_. Name |_. Description |_. Solution |
| 80000 | Connection failed | Library is having difficulty connecting to Ably | No action needed, library will automatically retry to connect after 15 seconds |
| 80002 | Internal error. Password validation request timed out. | Library is having difficulty connecting to Ably | No action needed, library will automatically retry to connect after 15 seconds |
| 80003 | Generic Disconnection Error | Library is having difficulty connecting to Ably | No action needed, library will automatically retry to connect after 15 seconds |
| 80004 | Already connected | Connected to the attempted connection already | Check code for any duplication or recursion |
| 80008 | Unable to recover connection (connection expired) | Connection couldn't be found when trying to resume connection | A new connection will have been automatically made, however, any messages sent between connections will have been missed, use the "History API":/tutorials/history if available to retrieve them |
| 80016 | Operation on superseded connection | Appears when a browser connection upgrades from HTTP to websockets but some operations are performed on older transport | If only seen in logs, no action is needed, otherwise Please contact "support":https://ably.com/support with "as much information as possible":https://faqs.ably.com/guide-information-we-need-to-help-you-diagnose-problems |
| 80017 | Connection already closed | Appears when attempting to close an already closed connection | Check the order of operations in your code and that you're not preemptively closing a connection |
| 80018 | Invalid Connection ID (invalid format) | Provided Connection ID is in an invalid format | Check the "Connection documentation":/api/realtime-sdk/connection#id |
| 80019 | Auth Server Rejecting Request | Request has not been accepted by the authentication server | Check our "Auth and Security documentation":/core-features/authentication/ to learn about authentication |
| 80021 | Max New Connections Rate Exceeded | Reached maximum amount of new connections | "Read more about limits":/general/limits to understand how they're calculated or consider upgrading your package |
| 80022 | Unable to find connection | Non-fatal error when a request arrives at the wrong frontend | No action needed, a new transport will be automatically initiated |


h2(#channel-errors). Channel errors

|_. Error Code |_. Name |_. Description |_. Solution |
| 90001 | Channel operation failed (invalid channel state) | Tried to perform an action not supported by the channel's current stated | Check the state of the channel you're interacting with and consider setting up "listen for state changes":/realtime/channels#listening-state operation |
| 90007 | Channel didn't attach within 00:00:10 | The ACK response to an ATTACH request didn't make it back in time, usually caused by slow internet connection | Adjust the @realtimeRequestTimeout@ or @channelRetryTimeout@ to a higher value |
| 90010 | Maximum number of channels per connection exceeded | Client has attached to more channels on a single connection than allowed | "Read more about limits":/general/limits to understand how they're calculated or consider upgrading your package |
| 90021 | Max Channel Creation Rate Exceeded | Reached maximum rate at which new channels can be created | The SDK will retry every 10 seconds until successful, "read more about limits":/general/limits to understand how they're calculated or consider upgrading your package |
| 91000 | Unable to enter presence channel (no clientId) | Tried to enter presence set without specifying a clientId | Try:
* using a authentication token associated with a clientId
* passing a clientId in @clientOptions@ ("Realtime":/api/realtime-sdk/#client-options or "REST":/api/rest-sdk#client-options) when initializing an Ably SDK 
* specify when entering presence with @enterClient()@ |
| 91001 | Unable to enter presence channel (invalid channel state) | Tried to enter presence for a channel in an invalid state | If:
* channel is detached, customer should attempt to reattach
* channel has failed, "look at cause of failure":/realtime/channels#handling-failures
* channel is suspended, wait for internet connection to be restored |
| 91002 | Unable to leave presence channel that is not entered | Attempting to leave a presence channel you're not connected to | Check the channel you're attempting to leave is correct |
| 91003 | Unable to enter presence channel (maximum member limit exceeded) | Attempting to enter a presence channel that has reached capacity | Ensure you have left channel presences previously and attempt to reconnect |
| 91005 | Presence state is out of sync | An update presence set cannot be given due to connection issues | Specify @waitForSync: false@ to request presence set anyway, but it will be out of date |

h2(#other-errors). Other errors

|_. Error Code |_. Name |_. Description |_. Solution |
| 61002 | Activation failed: Present clientId is not compatible with existing device registration | Appears when a previously activated device changes cilentId | Deactivate and reactivate the device |