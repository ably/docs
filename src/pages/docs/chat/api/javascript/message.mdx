---
title: Message
meta_description: ""
---

The `Message` interface represents a single message in a chat room.

---

## Accessors

It has the following accessors:

| Accessor | Description | Type |
| -------- | ----------- | ---- |
| `isDeleted` | Indicates if the message has been deleted. | Boolean |
| `deletedAt` | The timestamp at which the message was deleted. | Date \| `undefined` |
| `deletedBy` | The clientId of the user who deleted the message. | String \| `undefined` |
| `isUpdated` | Indicates if the message has been updated. | Boolean |
| `updatedAt` | The timestamp at which the message was updated. | Date \| `undefined` |
| `updatedBy` | The clientId of the user who updated the message. | String \| `undefined` |

---

## Properties

It has the following properties:

| Property | Description | Type |
| -------- | ----------- | ---- |
| `action` | The action type of the message. This can be used to determine if the message was created, updated, or deleted. | [`ChatMessageAction`](#chatmessageaction) |
| `clientId` | The clientId of the user who created the message. | String |
| `createdAt` | The timestamp at which the message was created. | Date |
| `headers` | The headers of a chat message. Headers enable attaching extra info to a message, which can be used for various features such as linking to a relative point in time of a livestream video or flagging this message as important or pinned. This value is always set. If there are no headers, this is an empty object. Do not use the headers for authoritative information. There is no server-side validation. When reading the headers, treat them like user input. | [`MessageHeaders`](#messageheaders) |
| `metadata` | The metadata of a chat message. Allows for attaching extra info to a message, which can be used for various features such as animations, effects, or simply to link it to other resources such as images, relative points in time, etc. This value is always set. If there is no metadata, this is an empty object. Do not use metadata for authoritative information. There is no server-side validation. When reading the metadata treat it like user input. | [`MessageMetadata`](#messagemetadata) |
| `operation` | *Optional* The details of the operation that modified the message. This is only set for update and delete actions. It contains information about the operation: the clientId of the user who performed the operation, a description, and metadata. | [`Operation`](#operation) |
| `reactions` | The reactions summary for this message. | [`MessageReactions`](#messagereactions) |
| `serial` | The unique identifier of the message. | String |
| `text` | The text of the message. | String |
| `timestamp` | The timestamp at which this version was updated, deleted, or created. | Date |
| `version` | A unique identifier for the latest version of this message. | String |

---

### ChatMessageAction

An enum that represents the types of action of a message.

It has the following members:

| Member | Description |
| ------ | ----------- |
| `Create` | The message was created. |
| `Update` | The message was updated. |
| `Delete` | The message was deleted. |

### MessageHeaders

MessageHeaders enable attaching extra info to a message. Uses include linking to a relative point in time of a livestream video or flagging this message as important or pinned.

`MessageHeaders: Record<string, number | string | boolean | null | undefined>`

### MessageMetadata

MessageMetadata enables attaching extra info to a message. Uses include animations, effects, or simply to link it to other resources such as images or relative points in time.

`MessageMetadata: Record<string, unknown>`

### Operation

The details of an operation that modified a message.

It has the following properties:

| Properties | Description | Type |
| ---------- | ----------- | ---- |
| `clientId` | The clientId of the user who performed the operation. | String |
| `description` | A description of the operation. | String |
| `metadata` | Metadata associated with the operation. | [`MessageOperationMetadata`](#messageoperationmetadata) |

#### MessageOperationMetadata

The metadata contained in the `operations` field of a message. It represents the metadata supplied to a message update or deletion request.

Do not use metadata for authoritative information. There is no server-side validation. When reading the metadata, treat it like user input.

`MessageOperationMetadata: Record<string, unknown>`

### MessageReactions

Represents a summary of all [reactions on a message](/docs/chat/api/javascript/messages-reactions).

It has the following properties:

| Property | Description |
| -------- | ----------- |
| `distinct` | Map of reaction to the summary (total and clients) for reactions of type `MessageReactionType.Distinct`. |
| `multiple` | Map of reaction to the summary (total and clients) for reactions of type `MessageReactionType.Multiple`. |
| `unique` | Map of reaction to the summary (total and clients) for reactions of type `MessageReactionType.Unique`. |

---

## Was message created after a given message <a id="after"/>

`message.after()`

Determines if the message was created after a given message. This comparison is based on global order, so does not necessarily represent the order that messages are received in realtime from the backend.

`after(message: Message): boolean`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `message` | The message to compare against. | [`Message`](#message) |

### Returns

Returns `true` if this message was created after the given message, in global order.

Throws an [`ErrorInfo`](/docs/chat/api/javascript/error-info) if:

* The `serial` of either message is invalid.

<Code>
```javascript
const isAfter = message1.after(message2);
```
</Code>

## Was message created before a given message <a id="before"/>

`message.before()`

Determines if the message was created before a given message. This comparison is based on global order, so does not necessarily represent the order that messages are received in realtime from the backend.

`before(message: Message): boolean`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `message` | The message to compare against. | [`Message`](#message) |

### Returns

Returns `true` if this message was created before the given message, in global order.

Throws an [`ErrorInfo`](/docs/chat/api/javascript/error-info) if:

* The `serial` of either message is invalid.

<Code>
```javascript
const isBefore = message1.before(message2);
```
</Code>

## Is message equal to a given message <a id="equal"/>

`message.equal()`

Determines if the message is equal to a given message.

Note that this method compares messages based on `Message.serial` alone. It returns `true` if the two messages represent different versions of the same message.

`equal(message: Message): boolean`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `message` | The message to compare against. | [`Message`](#message) |

### Returns

Returns `true` if the two messages are the same message.

<Code>
```javascript
const isEqual = message1.equal(message2);
```
</Code>

## Is message the same as a given message <a id="isSameAs"/>

`message.isSameAs()`

Alias for [`message.equal()`](LINK).

`isSameAs(message: Message): boolean`

## Is message a newer version of a given message <a id="isNewerVersionOf"/>

`message.isNewerVersionOf()`

Determines if a message is a newer version of a given message.

Note that negating this function does not mean that the message is an older version of the same message, as the two may be different messages entirely.

`isNewerVersionOf(message: Message): boolean`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `message` | The message to compare against. | [`Message`](#message) |

### Returns

Returns `true` if the two messages are the same message (`isSameAs` returns `true`) and this message is a newer version.

<Code>
```javascript
const isNewer = message1.isNewerVersionOf(message2);
```
</Code>

## Is message an older version of a given message <a id="isOlderVersionOf"/>

`message.isOlderVersionOf()`

Determines if the message is an older version of a given message.

Note that negating this function does not mean that the message is a newer version of the same message, as the two may be different messages entirely.

`isOlderVersionOf(message: Message): boolean`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `message` | The message to compare against. | [`Message`](#message) |

### Returns

Returns `true` if the two messages are the same message (`isSameAs` returns true) and this message is an older version.

<Code>
```javascript
const isOlder = message1.isOlderVersionOf(message2);
```
</Code>

## Is message the same version as a given message <a id="isSameVersionAs"/>

`message.isSameVersionAs()`

Determines if the message is the same version as a given message.

`isSameVersionAs(message: Message): boolean`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `message` | The message to compare against. | [`Message`](#message) |

### Returns

Returns `true` if the two messages are the same message and have the same version.

<Code>
```javascript
const isSameVersion = message1.isSameVersionAs(message2);
```
</Code>

## Create a copy of a message <a id="copy"/>

`message.copy()`

Creates a copy of the message with fields replaced per the parameters. This is used with [`messages.update()`](/docs/chat/api/javascript/messages#update) to easily create a copy of an existing message in order to update it.

`copy(params?: MessageCopyParams): Message`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `params` | *Optional* The parameters to replace in the message. | [`MessageCopyParams`](#messagecopyparams) |

#### MessageCopyParams

The following `MessageCopyParams` can be set:

| Parameters | Description | Type |
| ---------- | ----------- | ---- |
| `text` | *Optional* The new text for the message. | String |
| `metadata` | *Optional* The new metadata for the message. | [`MessageMetadata`](#messagemetadata) |
| `headers` | *Optional* The new headers for the message. | [`MessageHeaders`](#messageheaders) |

### Returns

Returns the message copy.

<Code>
```javascript
const copiedMessage = message.copy({text: 'Updated text'});
```
</Code>

## Create a new message with an event applied <a id="with"/>

`message.with()`

Creates a new message instance with the event applied.

Note: This method will not replace the message reactions if the event is of type `Message`.

`with(event: Message | ChatMessageEvent | MessageReactionSummaryEvent): Message`

### Parameters

Use the following parameters:

| Parameter | Description | Type |
| --------- | ----------- | ---- |
| `event` | The event to be applied to the returned message. | [`Message`](#message) \| [`ChatMessageEvent`](#chatmessageevent) \| [`MessageReactionSummaryEvent`](#messagereactionsummaryevent) |

#### ChatMessageEvent

The payload of a message event.

It has the following properties:

| Properties | Description | Type |
| ---------- | ----------- | ---- |
| `type` | The type of the message event. | [`ChatMessageEventType`](#chatmessageeventtype) |
| `data` | The message data. | [`Message`](#message) |

#### ChatMessageEventType

An enum that represents the types of message events.

It has the following members:

| Member | Description |
| ------ | ----------- |
| `Created` | Fires when a new message is created. |
| `Updated` | Fires when a message is updated. |
| `Deleted` | Fires when a message is deleted. |

#### MessageReactionSummaryEvent

An interface that represents a summary of message reactions. This event aggregates different types of reactions for a specific message.

It has the following properties:

| Properties | Description | Type |
| ---------- | ----------- | ---- |
| `type` | The type of the reaction event. | [`MessageReactionEventType`](#messagereactioneventtype) |
| `data` | The reaction summary data. | [`MessageReactions`](#messagereactions) |

#### MessageReactionEventType

An enum representing the different message reaction events.

It has the following members:

| Member | Description |
| ------ | ----------- |
| `Added` | A reaction was added. |
| `Removed` | A reaction was removed. |

### Returns

Returns a new message instance with the event applied. If the event is a no-op, such as an event for an old version, the same message is returned (not a copy).

Throws an [`ErrorInfo`](/docs/chat/api/javascript/error-info) if:

* The event is for a different message.
* The event if of the type `ChatMessageEventType.Created`.

<Code>
```javascript
const updatedMessage = message.with(messageEvent);
```
</Code>
