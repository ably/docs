---
title: Room
meta_description: "API reference for the Room interface in the Ably Chat JavaScript SDK."
meta_keywords: "Ably Chat SDK, JavaScript, Room API, attach, detach, options, onStatusChange, onDiscontinuity, messages, presence, typing, occupancy, reactions"
---

The `Room` interface represents an individual chat room instance. It provides access to all chat features such as messages, presence, reactions, typing indicators, and occupancy. Rooms are the primary way users interact with chat functionality.

## Obtaining a room instance

Use the [`rooms.get()`](/docs/chat/api/javascript/rooms#get) method to obtain a room instance:

<Code>
```javascript
const room = await chatClient.rooms.get('my-room');
```
</Code>

For more information, see the [rooms documentation](/docs/chat/rooms).

## Properties

The `Room` interface has the following properties:

<Table id='RoomProperties'>

| Property | Description | Type |
| --- | --- | --- |
| name | The unique identifier of the room. | String |
| messages | The Messages instance for sending and receiving messages. | [Messages](/docs/chat/api/javascript/messages) |
| presence | The Presence instance for tracking online users. | [Presence](/docs/chat/api/javascript/presence) |
| reactions | The RoomReactions instance for room-level reactions. | [RoomReactions](/docs/chat/api/javascript/room-reactions) |
| typing | The Typing instance for typing indicators. | [Typing](/docs/chat/api/javascript/typing) |
| occupancy | The Occupancy instance for tracking user counts. | [Occupancy](/docs/chat/api/javascript/occupancy) |
| status | The current lifecycle status of the room. | <Table id='RoomStatus'/> |
| error | The error information if the room is in a failed state. | [ErrorInfo](/docs/chat/api/javascript/chat-client#errorinfo) or Undefined |
| channel | Direct access to the underlying Ably RealtimeChannel. | Ably.RealtimeChannel |

</Table>

<Table id='RoomStatus' hidden>

| Status | Description |
| --- | --- |
| Initializing | The library is currently initializing the room. This is a temporary state used in React prior to the room being resolved. The value is `initializing`. |
| Initialized | The room has been initialized, but no attach has been attempted yet. The value is `initialized`. |
| Attaching | An attach has been initiated by sending a request to Ably. This is a transient status and will be followed by a transition to `Attached`, `Suspended`, or `Failed`. The value is `attaching`. |
| Attached | The room is attached and actively receiving events. In this status, clients can publish and subscribe to messages, and enter the presence set. The value is `attached`. |
| Detaching | A detach has been initiated on the attached room by sending a request to Ably. This is a transient status and will be followed by a transition to `Detached` or `Failed`. The value is `detaching`. |
| Detached | The room has been detached by the client and is no longer receiving events. The value is `detached`. |
| Suspended | The room, having previously been attached, has lost continuity. This typically occurs when the client is disconnected from Ably for more than two minutes. The client will automatically attempt to reattach when connectivity is restored. The value is `suspended`. |
| Failed | An indefinite failure condition. This status is entered if an error is received from Ably, such as an attempt to attach without the necessary access rights. The value is `failed`. |
| Releasing | The room is being released and its resources are being cleaned up. Attempting to use a room in this state may result in undefined behavior. The value is `releasing`. |
| Released | The room has been released and is no longer usable. A new room instance must be obtained to continue using the room. The value is `released`. |

</Table>

## Attach to a room <a id="attach"/>

<MethodSignature>{`room.attach(): Promise<void>`}</MethodSignature>

Attach to the room to start receiving messages and events. Attaching is required before the client can publish or subscribe to room events.

<Code>
```javascript
await room.attach();
```
</Code>

### Returns <a id="attach-returns"/>

`Promise<void>`

Returns a promise. The promise is fulfilled when the room is attached, or rejected with an [`ErrorInfo`](/docs/chat/api/javascript/chat-client#errorinfo) object.

For more information, see [attach to a room](/docs/chat/rooms#attach).

## Detach from a room <a id="detach"/>

<MethodSignature>{`room.detach(): Promise<void>`}</MethodSignature>

Detach from the room to stop receiving messages and events. Existing subscriptions are preserved but will not receive events until the room is re-attached.

<Code>
```javascript
await room.detach();
```
</Code>

### Returns <a id="detach-returns"/>

`Promise<void>`

Returns a promise. The promise is fulfilled when the room is detached, or rejected with an [`ErrorInfo`](/docs/chat/api/javascript/chat-client#errorinfo) object.

For more information, see [detach from a room](/docs/chat/rooms#detach).

## Get room options <a id="options"/>

<MethodSignature>{`room.options(): RoomOptions`}</MethodSignature>

Returns a deep copy of the room configuration options.

<Code>
```javascript
const options = room.options();
console.log(options.typing?.heartbeatThrottleMs);
```
</Code>

### Returns <a id="options-returns"/>

`RoomOptions`

Returns a deep copy of the room's configuration options.

<Table id='RoomOptions'>

| Property | Required | Description | Type |
| --- | --- | --- | --- |
| typing | Optional | Configuration for typing indicators. | <Table id='TypingOptions'/> |
| presence | Optional | Configuration for presence events. | <Table id='PresenceOptions'/> |
| occupancy | Optional | Configuration for occupancy events. | <Table id='OccupancyOptions'/> |
| messages | Optional | Configuration for message reactions. | <Table id='MessagesOptions'/> |

</Table>

<Table id='TypingOptions' hidden>

| Property | Required | Description | Type |
| --- | --- | --- | --- |
| heartbeatThrottleMs | Optional | Minimum time in milliseconds between consecutive typing started events. The first call emits immediately; later calls are no-ops until the interval has elapsed. Calling typing.stop resets the interval. Default 10000. | Number |

</Table>

<Table id='PresenceOptions' hidden>

| Property | Required | Description | Type |
| --- | --- | --- | --- |
| enableEvents | Optional | Whether the client receives presence events from the server. Can be disabled if presence is used but this client does not need the messages. Default true. | Boolean |

</Table>

<Table id='OccupancyOptions' hidden>

| Property | Required | Description | Type |
| --- | --- | --- | --- |
| enableEvents | Optional | Whether to receive occupancy events. Enabling this increases message volume as the server sends additional updates for occupancy changes. Default false. | Boolean |

</Table>

<Table id='MessagesOptions' hidden>

| Property | Required | Description | Type |
| --- | --- | --- | --- |
| rawMessageReactions | Optional | Whether to receive raw individual message reactions from the realtime channel. Reaction summaries remain available regardless of this setting. Default false. | Boolean |
| defaultMessageReactionType | Optional | The default message reaction type for sending reactions. Individual types can still be specified via the send method parameter. The default is `Distinct`. | <Table id='MessageReactionType'/> |

</Table>

<Table id='MessageReactionType' hidden>

| Value | Description |
| --- | --- |
| Distinct | Allows at most one reaction of each type per client per message. Duplicates are not counted in the summary. Similar to reactions on Slack. The value is `distinct`. |
| Multiple | Allows any number of reactions, including repeats, counted in the summary. The reaction payload includes a count. Similar to the clap feature on Medium. The value is `multiple`. |
| Unique | Allows at most one reaction per client per message. If a client reacts again, only the second reaction is counted. Similar to reactions on iMessage or WhatsApp. The value is `unique`. |

</Table>

## Subscribe to room status changes <a id="onStatusChange"/>

<MethodSignature>{`room.onStatusChange(listener: RoomStatusListener): StatusSubscription`}</MethodSignature>

Register a listener to receive room status change events. The listener is called whenever the room transitions between lifecycle states.

<Code>
```javascript
const { off } = room.onStatusChange((change) => {
  console.log(`Room status changed to: ${change.current}`);
  if (change.error) {
    console.error('Error:', change.error);
  }
});

// To remove the listener
off();
```
</Code>

### Parameters <a id="onStatusChange-params"/>

The `onStatusChange()` method takes the following parameters:

<Table id='OnStatusChangeParameters'>

| Parameter | Required | Description | Type |
| --- | --- | --- | --- |
| listener | Required | A function that receives status change events. | <Table id='RoomStatusChange'/> |

</Table>

<Table id='RoomStatusChange' hidden>

| Property | Description | Type |
| --- | --- | --- |
| current | The new status of the room. | <Table id='RoomStatus'/> |
| previous | The previous status of the room. | <Table id='RoomStatus'/> |
| error | An error that provides a reason why the room has entered the new status, if applicable. | [ErrorInfo](/docs/chat/api/javascript/chat-client#errorinfo) or Undefined |

</Table>

### Returns <a id="onStatusChange-returns"/>

`StatusSubscription`

Returns an object with the following methods:

#### Deregister the listener <a id="onStatusChange-off"/>

<MethodSignature>off(): void</MethodSignature>

Call `off()` to deregister the room status listener.

## Subscribe to discontinuity events <a id="onDiscontinuity"/>

<MethodSignature>{`room.onDiscontinuity(handler: DiscontinuityListener): StatusSubscription`}</MethodSignature>

Register a listener to detect connection interruptions and potentially missed events. This is useful for understanding when the client may have missed messages due to connectivity issues.

<Code>
```javascript
const { off } = room.onDiscontinuity((reason) => {
  console.log('Discontinuity detected:', reason);
  // You may want to re-fetch recent messages here
});

// To remove the listener
off();
```
</Code>

### Parameters <a id="onDiscontinuity-params"/>

The `onDiscontinuity()` method takes the following parameters:

<Table id='OnDiscontinuityParameters'>

| Parameter | Required | Description | Type |
| --- | --- | --- | --- |
| handler | Required | A function that receives discontinuity events. | <Table id='DiscontinuityListener'/> |

</Table>

<Table id='DiscontinuityListener' hidden>

| Parameter | Description | Type |
| --- | --- | --- |
| error | An error providing context about why the discontinuity occurred. | [ErrorInfo](/docs/chat/api/javascript/chat-client#errorinfo) |

</Table>

### Returns <a id="onDiscontinuity-returns"/>

`StatusSubscription`

Returns an object with the following methods:

#### Deregister the listener <a id="onDiscontinuity-off"/>

<MethodSignature>off(): void</MethodSignature>

Call `off()` to deregister the discontinuity listener.

## Example

<Code>
```javascript
const room = await chatClient.rooms.get('my-room');

// Attach to start receiving events
await room.attach();

// Monitor room status
const { off: offStatus } = room.onStatusChange((change) => {
  console.log(`Room status: ${change.current}`);
});

// Monitor for discontinuities
const { off: offDiscontinuity } = room.onDiscontinuity((reason) => {
  console.log('Discontinuity detected, consider re-fetching messages');
});

// Access room features
const messages = room.messages;
const presence = room.presence;
const typing = room.typing;

// Get the room name
console.log('Room name:', room.name);

// When done, detach and clean up
await room.detach();
offStatus();
offDiscontinuity();
```
</Code>
