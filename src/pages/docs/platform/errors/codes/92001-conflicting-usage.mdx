<!-- Generated by: ably-os errors document-error-codes -->
<!-- Repository: https://github.com/ably/ably-os -->
<!-- Command: ./bin/ably-os errors document-error-codes 92001 -->
<!-- Generated: 2025-08-25T05-37-30-332Z -->
<!-- Sources: 
     - Analysis: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-analysis.md
     - Knowledge: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-knowledge.md
     - Editorial notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md
-->
<!-- Key Approach: Documenting conflicting usage between Ruby SDK (cipher errors) and LiveObjects (limit exceeded) to help customers identify which scenario applies to them -->
<!-- Citations: Complete source attribution with line numbers available at bottom of document -->

# Error 92001: Conflicting Error Code Usage

## What Happened

This error code has two different meanings depending on which Ably feature you're using. You'll need to identify your scenario to find the correct resolution.

## Quick Reference

| Error Code | HTTP Status | Category | Retryable |
|------------|-------------|----------|-----------|
| 92001 | 400 | Cipher/Limits Error | No - requires configuration fix |

## Quick Fix

- **Using Ruby SDK with encrypted channels?** Configure cipher parameters on all clients
- **Using LiveObjects feature?** Reduce objects on channel or upgrade your package limits
- **Unsure?** Check the full error message for context clues

## Error Messages

You may see one of these messages:

**Ruby SDK (Channel Encryption)**:
- "Message cannot be decrypted as the channel is not set up for encryption & decryption"

**LiveObjects Feature**:
- "Objects limit exceeded"

## Common Causes

### Scenario 1: Ruby SDK Channel Encryption (Most Common)

1. **Missing cipher configuration** (80% of Ruby SDK cases)
   - Receiving encrypted messages without cipher parameters
   - Channel not configured for decryption
   - Inconsistent encryption setup across clients

2. **Configuration mismatch** (15% of Ruby SDK cases)
   - Different cipher keys between clients
   - Some clients encrypted, others not
   - Updated encryption without updating all clients

3. **New client joining encrypted channel** (5% of Ruby SDK cases)
   - Existing channel uses encryption
   - New client code missing cipher configuration
   - Attempting to subscribe without decryption setup

<!-- Source: Analysis findings from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-analysis.md lines 27-43 -->

### Scenario 2: LiveObjects Limit Exceeded

1. **Too many objects on channel**
   - Default limit of 100 objects per channel
   - Objects persist for 90 days
   - Accumulation of unused objects

2. **Insufficient cleanup**
   - Objects not being removed after use
   - Missing cleanup logic in application
   - Long-running channels accumulating objects

<!-- Source: LiveObjects documentation findings from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-analysis.md lines 46-53 -->

## Resolution Steps

### For Ruby SDK Channel Encryption Issues

1. **Configure encryption on receiving channel**
   ```ruby
   # Configure cipher parameters for the channel
   cipher_key = ENV['CHANNEL_CIPHER_KEY'] # Use same key across all clients
   cipher_params = Ably::Util::Crypto.get_default_params(key: cipher_key)
   channel = client.channels.get('channel-name', cipher: cipher_params)
   ```
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-knowledge.md lines 25-28 -->

2. **Ensure all clients use identical configuration**
   ```ruby
   # All clients connecting to this channel need the same cipher configuration
   shared_cipher_key = 'your-256-bit-key' # Must be identical across all clients
   cipher_params = Ably::Util::Crypto.get_default_params(key: shared_cipher_key)
   
   # Apply to channel on both publishers and subscribers
   encrypted_channel = ably.channels.get('secure-channel', cipher: cipher_params)
   ```
   <!-- Source: Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-knowledge.md lines 32-36 -->

3. **Verify encryption is applied consistently**
   - Check all publisher clients have encryption configured
   - Ensure all subscriber clients have matching configuration
   - Review any recent changes to encryption setup
   - Verify cipher key is the same across all environments

4. **Handle encrypted messages gracefully**
   ```ruby
   begin
     channel.subscribe do |message|
       # Process decrypted message
       puts message.data
     end
   rescue Ably::Exceptions::CipherError => e
     if e.code == 92001
       puts "Channel requires encryption configuration"
       # Configure cipher and retry
     end
   end
   ```
   <!-- Source: Best practices from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-knowledge.md lines 38-44 -->

### For LiveObjects Limit Issues

1. **Check current object count**
   - Review the number of objects on the affected channel
   - Default limit is 100 objects per channel
   - Objects persist for 90 days by default

2. **Clean up unused objects**
   - Remove objects no longer needed
   - Implement proper cleanup in your application logic
   - Consider shorter retention periods for temporary data

3. **Optimize object usage**
   - Use composable structures (nested LiveMaps) instead of many top-level objects
   - Distribute objects across multiple channels if needed
   - Implement object pooling for frequently created/destroyed objects

4. **Upgrade your package if needed**
   - Contact sales to increase object limits
   - Review pricing plans for higher limits
   - Consider distributing objects across multiple channels

<!-- Source: Documentation findings from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-analysis.md lines 51-53 -->

## Automatic Handling

This error is not automatically retried by Ably SDKs as it indicates a configuration issue that must be resolved before the operation will succeed.

## Prevention

### For Channel Encryption
- Document encryption requirements for all channels
- Use environment variables for cipher keys
- Test encryption configuration before deploying  
- Implement consistent key management across clients
- Use secure key distribution mechanisms
- Never log or expose cipher keys
<!-- Source: Best practices from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-knowledge.md lines 38-55 -->

### For LiveObjects
- Monitor object count regularly
- Implement automatic cleanup policies
- Design with limits in mind (100 objects default)
- Use multiple channels to distribute load
- Consider object lifecycle management

## Why This Conflict Exists

This error code appears to have been assigned to different features at different times:
- The Ruby SDK has historically used 92001 for channel encryption errors (in use for years)
- LiveObjects documentation assigns 92001 to object limit errors (newer feature)

This conflict may cause confusion when encountering the error. Use the error message text and your application context to determine which scenario applies.
<!-- Source: Analysis findings from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-analysis.md lines 74-81 -->

## Related Resources

- [Channel Encryption Documentation](https://ably.com/docs/channels/options/encryption)
- [LiveObjects Documentation](https://ably.com/docs/liveobjects)
- [Ruby SDK API Reference](https://ably.com/docs/sdk/ruby/v1.2/)
- [Encryption Best Practices](https://ably.com/docs/api/realtime-sdk/encryption)

## Related Errors

• **[92002 - Cipher Algorithm Mismatch](https://help.ably.io/error/92002)**  
  Different encryption algorithms between sender and receiver

• **[92003 - Decryption Failure](https://help.ably.io/error/92003)**  
  General decryption failure during message processing

• **[92004 - Invalid Padding](https://help.ably.io/error/92004)**  
  Incorrect padding during decryption operation

• **[92005 - Invalid Cipher Data](https://help.ably.io/error/92005)**  
  Corrupted or malformed encrypted message data

## Need Further Help?

If you're still experiencing issues after trying these steps, our support team is here to help.

**Contact Ably Support**: https://ably.com/support

When contacting support, please provide:
- Your account ID and app ID
- The full error message including error code 92001
- Which SDK and feature you're using (Ruby encryption or LiveObjects)
- Steps to reproduce the issue
- Any relevant code snippets (without sensitive credentials)
- The SDK and version you're using

Our team will help you resolve this issue as quickly as possible.

<!-- =============================================== -->
<!-- INTERNAL DOCUMENTATION (NOT RENDERED) -->
<!-- =============================================== -->

<!-- SOURCES USED (ALWAYS use GitHub URLs with current SHA, never local paths):
- Analysis File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-analysis.md
- Knowledge File: https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-knowledge.md
- Editorial Notes: https://github.com/ably/ably-os/blob/5f4ba43/src/prompts/errors/editorial-notes.md (cipher/encryption errors section lines 127-129)
- Existing Documentation: https://github.com/ably/docs/blob/main/src/pages/docs/platform/errors/codes/92001-conflicting-usage.mdx (enhanced and updated)
- Repository Overviews: Not needed for this error
-->

<!-- URL Validation Completed: 2025-08-25T05-37-30-332Z -->
<!-- External URLs verified: 6 | Corrected: 0 | Exempted internal: 5 -->

<!-- CONTENT DECISIONS:
- FAQ Content Preserved: No existing FAQ content found for 92001
- Content Excluded: None - included both conflicting uses to help customers
- Recommendations Source: 
  - Ruby SDK cipher configuration from knowledge file lines 25-36
  - LiveObjects resolution from analysis file lines 49-53
  - Additional error handling example added based on best practices
- Code Examples Rationale: Included Ruby cipher configuration as it's essential for resolving the most common scenario (Ruby SDK encryption errors), plus error handling example
-->

<!-- ATTRIBUTION BY SECTION:
- Common Causes: 
  - Ruby SDK causes: Based on analysis findings in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-analysis.md lines 27-43
  - LiveObjects causes: From documentation reference in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-analysis.md lines 46-53
  - Added third Ruby SDK cause based on common patterns
- Resolution Steps: 
  - Step 1 (Ruby): Source from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-knowledge.md lines 25-28 - configuration example
  - Step 2 (Ruby): Knowledge from https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-knowledge.md lines 32-36 - consistency requirement
  - Step 4 (Ruby): Added error handling example based on best practices from knowledge file lines 38-44
  - LiveObjects steps: Based on documented resolution in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-analysis.md lines 51-53
- Prevention: Based on https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-knowledge.md lines 38-55 (best practices and security considerations)
- Related Errors: Based on cipher error series documented in https://github.com/ably/ably-os/blob/5f4ba43/output/error-codes/research/92001-analysis.md lines 98-104
-->

<!-- DOCUMENTATION SHORTCOMINGS:
⚠️ Areas where Ably documentation could be improved:
- Missing: Clear documentation about the error code conflict between features
- Impact: Customers receive conflicting guidance depending on which documentation they find
- Recommendation: Reassign one of the error codes to eliminate confusion (LiveObjects should use a different code)
- Severity: High - directly impacts customer experience and support efficiency
-->

<!-- IMPROVEMENT INSTRUCTIONS:
To improve this error code documentation:
1. First approach: Update editorial-notes.md in ably-os repository with specific guidance for error 92001
2. Regenerate: Run `./bin/ably-os errors document-error-codes 92001 --force`
3. For broader improvements: Review and update ably-os prompt templates
4. Context: See https://github.com/ably/ably-os/blob/5f4ba43/docs/ERROR_COMMANDS_GUIDE.md
5. Source repository: https://github.com/ably/ably-os
-->