---
title: AMQP integration
meta_description: "Send data to AMQP based on message, channel lifecycle, channel occupancy, and presence events."
meta_keywords: "AMQP, integrations, events, serverless"
languages:
  - none
redirect_from:
  - /docs/general/firehose/amqp-rule
---

"AMQP":https://www.amqp.org integrations enable you to automatically forward events that occur in Ably to AMQP-compatible brokers.

h2(#create). Create an AMQP integration

To create an AMQP integration in your "dashboard:":https://ably.com/dashboard/any

1. Login and select the application you wish to integrate with AMQP.
2. Click the *Integrations* tab.
3. Click the *New Integration Rule* button.
4. Choose Firehose.
5. Choose AMQP.
6. Configure the AMQP "settings":#settings.
7. Click *Create*.

You can also create an AMQP integration using the "Control API":/docs/platform/account/control-api.

h3(#settings). Settings

The following settings are available when creating an AMQP integration:

|_. Setting |_. Description |
| URL | Specifies the AMQP connection URL in the format `amqps://username:password@host.name/vhost`. |
| Headers | Allows the inclusion of additional information in key-value format. |
| "Source":/docs/integrations/streaming#sources | Specifies the event types being sent to AMQP. |
| "Channel filter":/docs/integrations/streaming#filter | Filters the source channels based on a regular expression. |
| Encoding | Specifies the encoding format of messages. Either JSON or MsgPack. |
| "Enveloped":/docs/integrations/streaming#enveloped | Checkbox to set whether messages should be enveloped or not. Enveloped is the default. |
| Routing key | Specifies the "routing key":/messages#routing used by the AMQP exchange to route messages to a physical queue. Supports interpolation. |
| Exchange | An optional RabbitMQ exchange. Supports interpolation. |
| Route mandatory | Messages are rejected if the route does not exist when set to @true@. Fails silently otherwise. |
| Route persistent | Messages are marked as persistent, instructing the broker to write them to disk if the queue is durable. |
| Optional TTL (minutes) | Override the default queue time to live (TTL), in minutes, for messages to be persisted. |
